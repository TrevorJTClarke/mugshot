var MUG=angular.module("mugshot",["ui.router","mugtemplates"]);MUG.constant("Config",{ENV:"STAGE",STAGE:{},PROD:{}}),MUG.run(["$rootScope","$http",function(e,n){var t=n.defaults.headers.common;t["Content-Type"]="application/json"}]),MUG.config(["$stateProvider","$urlRouterProvider","$locationProvider",function(e,n,t){t.html5Mode({enabled:!0,requireBase:!1}),e.state("main",{url:"/",templateUrl:"project-settings.html"}).state("runner",{url:"/runner",templateUrl:"preloader.html"}),n.otherwise("/")}]),MUG.controller("MainCtrl",["$rootScope","$scope","Config","$http",function(e,n,t,r){}]),MUG.controller("ProjectSettingsCtrl",["$rootScope","$scope","Config","$http",function(e,n,t,r){}]),MUG.directive("fadeIn",[function(){return{restrict:"A",link:function(e,n,t){var r=parseInt(t.fadeIn)||10;n.addClass("fade-in"),setTimeout(function(){n.css("opacity","1")},r)}}}]),MUG.directive("msgCenter",["$rootScope","$timeout","$compile",function(e,n,t){return{scope:{},link:function(r,o,i,a){function s(e){var o=+new Date,i=e.msg,a=e.icon?e.icon:p,s=d.replace("BODY",i).replace("ICON",a),v=t(s)(r);v[0].id=o,g=o,m.append(v);var h=m.find("#"+o);c(h,e.type),e.callback&&h.find(".msg-action").addClass("show"),n(function(){h.addClass("add")},20),l=n(function(){u(h)},f)}function u(e){if(!e&&g)e=m.find("#"+g);else if(!e)return;e.removeClass("add"),e.addClass("remove"),n(function(){angular.element(e).remove()},300)}function c(e,n){e.removeClass("msg-info"),e.removeClass("msg-warn"),n&&e.addClass("msg-"+n)}var l,d='<div class="msg" ng-click="action()"><div class="msg-icn"><i class="iw i-ICON"></i></div><div class="msg-cont">BODY</div><div class="msg-action"><i class="ib i-r-arrow"></i></div></div>',m=angular.element(o),f=5e3,g="",p="info";r.body="",r.callback=null,r.icon=p,r.action=function(){var e=m.find("#"+this.id);r.callback(),u(e)},e.$on("MSGCENTER:FIRE",function(e,n){n.msg&&(window.clearTimeout(l),u(),n.dur&&(f=1e3*n.dur),n.callback&&(r.callback=n.callback),s(n))})}}}]),MUG.directive("timeAgo",["timeAgoService","nowTimeService",function(e,n){return{restrict:"EA",link:function(t,r,o){var i;o.$observe("fromTime",function(n){i=e.parse(n)}),t.$watch(function(){return n.getTime()-i},function(n){angular.element(r).text(e.inWords(n))})}}}]),MUG.factory("nowTime",["$timeout",function(e){var n=Date.now(),t=function(){e(function(){n=Date.now(),t()},1e3)};return t(),{getTime:function(){return n}}}]),MUG.factory("timeAgo",function(){function e(e){var n=e.toString().slice(0,13);return 13==n.length?parseInt(n):e}var n={};return n.settings={refreshMillis:6e4,allowFuture:!1,strings:{prefixAgo:null,prefixFromNow:null,suffixAgo:"ago",suffixFromNow:"from now",seconds:"less than a minute",minute:"about a minute",minutes:"%d minutes",hour:"about an hour",hours:"%d hours",day:"a day",days:"%d days",month:"about a month",months:"%d months",year:"about a year",years:"%d years",numbers:[]}},n.inWords=function(e){function t(n,t){var o=angular.isFunction(n)?n(t,e):n,i=r.numbers&&r.numbers[t]||t;return o.replace(/%d/i,i)}var r=n.settings.strings,o=r.prefixAgo,i=r.suffixAgo;n.settings.allowFuture&&0>e&&(o=r.prefixFromNow,i=r.suffixFromNow);var a=Math.abs(e)/1e3,s=a/60,u=s/60,c=u/24,l=c/365,d=45>a&&t(r.seconds,Math.round(a))||90>a&&t(r.minute,1)||45>s&&t(r.minutes,Math.round(s))||90>s&&t(r.hour,1)||24>u&&t(r.hours,Math.round(u))||42>u&&t(r.day,1)||30>c&&t(r.days,Math.round(c))||45>c&&t(r.month,1)||365>c&&t(r.months,Math.round(c/30))||1.5>l&&t(r.year,1)||t(r.years,Math.round(l)),m=void 0===r.wordSeparator?" ":r.wordSeparator;return[o,d,i].join(m).trim()},n.parse=function(n){if(angular.isNumber(n)){n+="";var t=e(n);return parseInt(t,10)}var r=(n||"").trim();return r=r.replace(/\.\d+/,""),r=r.replace(/-/,"/").replace(/-/,"/"),r=r.replace(/T/," ").replace(/Z/," UTC"),r=r.replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2"),new Date(r)},n}),MUG.filter("timeAgo",["nowTime","timeAgo",function(e,n){return function(t){var r=n.parse(t),o=e.getTime()-r;return n.inWords(o)}}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsImNvbmZpZy5qcyIsImluaXQuanMiLCJyb3V0ZXMuanMiLCJtYWluY3RybC5qcyIsInByb2plY3RzZXR0aW5nc2N0cmwuanMiLCJmYWRlaW4uanMiLCJtc2djZW50ZXIuanMiLCJ0aW1lYWdvLmpzIiwibm93dGltZS5qcyIsInRpbWUtYWdvLmpzIl0sIm5hbWVzIjpbIk1VRyIsImFuZ3VsYXIiLCJtb2R1bGUiLCJjb25zdGFudCIsIkVOViIsIlNUQUdFIiwiUFJPRCIsInJ1biIsIiRyb290U2NvcGUiLCIkaHR0cCIsIiRjb21tb24iLCJkZWZhdWx0cyIsImhlYWRlcnMiLCJjb21tb24iLCJjb25maWciLCIkc3RhdGVQcm92aWRlciIsIiR1cmxSb3V0ZXJQcm92aWRlciIsIiRsb2NhdGlvblByb3ZpZGVyIiwiaHRtbDVNb2RlIiwiZW5hYmxlZCIsInJlcXVpcmVCYXNlIiwic3RhdGUiLCJ1cmwiLCJ0ZW1wbGF0ZVVybCIsIm90aGVyd2lzZSIsImNvbnRyb2xsZXIiLCIkc2NvcGUiLCJDb25maWciLCJkaXJlY3RpdmUiLCJyZXN0cmljdCIsImxpbmsiLCJzY29wZSIsImVsZW0iLCJhdHRycyIsIm9mZnNldCIsInBhcnNlSW50IiwiZmFkZUluIiwiYWRkQ2xhc3MiLCJzZXRUaW1lb3V0IiwiY3NzIiwiJHRpbWVvdXQiLCIkY29tcGlsZSIsImVsIiwiY3RybCIsInNob3dNZXNzYWdlIiwiZGF0YSIsIl9pZCIsIkRhdGUiLCJuZXdCb2R5IiwibXNnIiwibmV3SWNuIiwiaWNvbiIsImRlZmF1bHRJY29uIiwidGVtcGxhdGUiLCJtc2dUZW1wbGF0ZSIsInJlcGxhY2UiLCJuZXdNZXNzYWdlIiwiaWQiLCJwcmV2aW91c0lkIiwiX2VsIiwiYXBwZW5kIiwibXNnRWwiLCJmaW5kIiwiY2hhbmdlVHlwZSIsInR5cGUiLCJjYWxsYmFjayIsInRpbWVyIiwiY2xlYXJFbCIsImR1cmF0aW9uIiwicmVtb3ZlQ2xhc3MiLCJlbGVtZW50IiwicmVtb3ZlIiwiYm9keSIsImFjdGlvbiIsImFjdGlvbkVsIiwidGhpcyIsIiRvbiIsImUiLCJ3aW5kb3ciLCJjbGVhclRpbWVvdXQiLCJkdXIiLCJ0aW1lQWdvIiwibm93VGltZSIsImZyb21UaW1lIiwiJG9ic2VydmUiLCJ2YWx1ZSIsInBhcnNlIiwiJHdhdGNoIiwiZ2V0VGltZSIsInRleHQiLCJpbldvcmRzIiwiZmFjdG9yeSIsIm5vdyIsInVwZGF0ZVRpbWUiLCJ0cmltRGlnaXRzIiwibnVtIiwibSIsInRvU3RyaW5nIiwic2xpY2UiLCJsZW5ndGgiLCJzZXJ2aWNlIiwic2V0dGluZ3MiLCJyZWZyZXNoTWlsbGlzIiwiYWxsb3dGdXR1cmUiLCJzdHJpbmdzIiwicHJlZml4QWdvIiwicHJlZml4RnJvbU5vdyIsInN1ZmZpeEFnbyIsInN1ZmZpeEZyb21Ob3ciLCJzZWNvbmRzIiwibWludXRlIiwibWludXRlcyIsImhvdXIiLCJob3VycyIsImRheSIsImRheXMiLCJtb250aCIsIm1vbnRocyIsInllYXIiLCJ5ZWFycyIsIm51bWJlcnMiLCJkaXN0YW5jZU1pbGxpcyIsInN1YnN0aXR1dGUiLCJzdHJpbmdPckZ1bmN0aW9uIiwibnVtYmVyIiwic3RyaW5nIiwiaXNGdW5jdGlvbiIsIiRsIiwicHJlZml4Iiwic3VmZml4IiwiTWF0aCIsImFicyIsIndvcmRzIiwicm91bmQiLCJzZXBhcmF0b3IiLCJ1bmRlZmluZWQiLCJ3b3JkU2VwYXJhdG9yIiwiam9pbiIsInRyaW0iLCJpc284NjAxIiwiaXNOdW1iZXIiLCJvcmlnaW5hbFRpbWVzdGFtcCIsInMiLCJmaWx0ZXIiLCJkaWZmIl0sIm1hcHBpbmdzIjoiQUFBQSxHQUFBQSxLQUFBQyxRQUFBQyxPQUFBLFdBQUEsWUFBQSxnQkNHQUYsS0FBQUcsU0FBQSxVQUNBQyxJQUFBLFFBQ0FDLFNBRUFDLFVDUEFOLElBQUFPLEtBQUEsYUFBQSxRQUNBLFNBQUFDLEVBQUFDLEdBRUEsR0FBQUMsR0FBQUQsRUFBQUUsU0FBQUMsUUFBQUMsTUFDQUgsR0FBQSxnQkFBQSxzQkNKQVYsSUFB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QUEsRUFBQXZGLFFBQUEsSUFBQSxLQUFBQSxRQUFBLElBQUEsUUFDQXVGLEVBQUFBLEVBQUF2RixRQUFBLHdCQUFBLFNBQ0EsR0FBQVIsTUFBQStGLElBR0ExQyxJRXRGQXBHLElBQUErSSxPQUFBLFdBQ0EsVUFBQSxVQUNBLFNBQUE3RCxFQUFBRCxHQUNBLE1BQUEsVUFBQUksR0FDQSxHQUFBRixHQUFBRixFQUFBSyxNQUFBRCxHQUNBMkQsRUFBQTlELEVBQUFNLFVBQUFMLENBQ0EsT0FBQUYsR0FBQVMsUUFBQXNEIiwiZmlsZSI6Im11Zy5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBNVUcgPSBhbmd1bGFyLm1vZHVsZShcIm11Z3Nob3RcIiwgWyd1aS5yb3V0ZXInLCAnbXVndGVtcGxhdGVzJ10pO1xuIiwiLyoqXG4gKiBDb25maWdcbiAqL1xuTVVHLmNvbnN0YW50KFwiQ29uZmlnXCIsIHtcbiAgXCJFTlZcIjogXCJTVEFHRVwiLFxuICBcIlNUQUdFXCI6IHtcbiAgfSxcbiAgXCJQUk9EXCI6IHtcbiAgfVxufSk7XG4iLCJNVUcucnVuKFsnJHJvb3RTY29wZScsICckaHR0cCcsXG5mdW5jdGlvbiAoJHJvb3RTY29wZSwgJGh0dHApIHtcbiAgLy8gaGVhZGVyc1xuICB2YXIgJGNvbW1vbiA9ICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uO1xuICAkY29tbW9uW1wiQ29udGVudC1UeXBlXCJdID0gXCJhcHBsaWNhdGlvbi9qc29uXCI7XG5cbn1dKTtcbiIsIk1VRy5jb25maWcoXG5bJyRzdGF0ZVByb3ZpZGVyJywgJyR1cmxSb3V0ZXJQcm92aWRlcicsICckbG9jYXRpb25Qcm92aWRlcicsXG5mdW5jdGlvbigkc3RhdGVQcm92aWRlciwgJHVybFJvdXRlclByb3ZpZGVyLCAkbG9jYXRpb25Qcm92aWRlcikge1xuICAvLyByZW1vdmVzIHRoZSBzdHVwaWQgLyMgZnJvbSB1cmxcbiAgJGxvY2F0aW9uUHJvdmlkZXIuaHRtbDVNb2RlKHtcbiAgICBlbmFibGVkOiB0cnVlLFxuICAgIHJlcXVpcmVCYXNlOiBmYWxzZVxuICB9KTtcblxuICAkc3RhdGVQcm92aWRlclxuXG4gIC8qKlxuICAgKiBCYXNlIFJvdXRlXG4gICAqL1xuICAuc3RhdGUoJ21haW4nLCB7XG4gICAgdXJsOiAnLycsXG4gICAgdGVtcGxhdGVVcmw6ICdwcm9qZWN0LXNldHRpbmdzLmh0bWwnXG4gIH0pXG4gIC5zdGF0ZSgncnVubmVyJywge1xuICAgIHVybDogJy9ydW5uZXInLFxuICAgIHRlbXBsYXRlVXJsOiAncHJlbG9hZGVyLmh0bWwnXG4gIH0pXG5cbiAgLyoqXG4gICAqIFN0YXRpYyBSb3V0ZXNcbiAgICovXG5cbiAgLy8gLnN0YXRlKCdtYWluLjQwNCcsIHtcbiAgLy8gICAgIHVybDogXCIvNDA0XCIsXG4gIC8vICAgICB0ZW1wbGF0ZVVybDogXCJ0ZW1wbGF0ZXMvNDA0Lmh0bWxcIixcbiAgLy8gICAgIGlzRXh0ZXJuYWw6IHRydWVcbiAgLy8gfSlcblxuICAvLyBFbmQgb2YgdGhlIHdvcmxkXG4gIDtcblxuICAvLyB1cmwgcmUtcm91dGluZ1xuICAvLyAkdXJsUm91dGVyUHJvdmlkZXJcbiAgLy8gLndoZW4oJy9kdW1iJywgJy9kdW1iL3RoaW5nJyk7XG5cbiAgLy8gaWYgbm9uZSBvZiB0aGUgYWJvdmUgc3RhdGVzIGFyZSBtYXRjaGVkLCB1c2UgdGhpcyBhcyB0aGUgZmFsbGJhY2tcbiAgJHVybFJvdXRlclByb3ZpZGVyLm90aGVyd2lzZSgnLycpO1xufV0pO1xuIiwiTVVHLmNvbnRyb2xsZXIoJ01haW5DdHJsJyxcblsnJHJvb3RTY29wZScsICckc2NvcGUnLCAnQ29uZmlnJywgJyRodHRwJyxcbmZ1bmN0aW9uICgkcm9vdFNjb3BlLCAkc2NvcGUsIENvbmZpZywgJGh0dHApIHtcbiAgXG59XSk7XG4iLCJNVUcuY29udHJvbGxlcignUHJvamVjdFNldHRpbmdzQ3RybCcsXG5bJyRyb290U2NvcGUnLCAnJHNjb3BlJywgJ0NvbmZpZycsICckaHR0cCcsXG5mdW5jdGlvbiAoJHJvb3RTY29wZSwgJHNjb3BlLCBDb25maWcsICRodHRwKSB7XG5cbn1dKTtcbiIsIi8qKlxuICogZmFkZUluXG4gKiBBIGRpcmVjdGl2ZSBmb3IgYW5pbWF0aW5nIGluIGVsZW1lbnRzXG4gKi9cbk1VRy5kaXJlY3RpdmUoJ2ZhZGVJbicsIFsgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHJlc3RyaWN0OiAnQScsXG4gICAgICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxlbSwgYXR0cnMpIHtcbiAgICAgICAgICAgIHZhciBvZmZzZXQgPSBwYXJzZUludChhdHRycy5mYWRlSW4pIHx8IDEwO1xuICAgICAgICAgICAgZWxlbS5hZGRDbGFzcygnZmFkZS1pbicpO1xuXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBlbGVtLmNzcyhcIm9wYWNpdHlcIiwgXCIxXCIpO1xuICAgICAgICAgICAgfSwgb2Zmc2V0KTtcbiAgICAgICAgfVxuICAgIH07XG59XSk7XG4iLCIvKipcbiAqIG1zZ0NlbnRlclxuICogYSBkaXJlY3RpdmUgZm9yIGhhbmRsaW5nIGFsbCBtZXNzYWdlIHJlbGF5IGZvciBhIHVzZXJcbiAqXG4gKiBVU0U6XG4gKiAkcm9vdFNjb3BlLiRicm9hZGNhc3QoJ01TR0NFTlRFUjpGSVJFJywgeyBtc2c6IFwiSGV5IHRoZXJlLCBJbSBhIG1lc3NhZ2UhIVwiLCBkdXI6IDUsIHR5cGU6IFwiaW5mb1wiLCBpY29uOiBcImluZm9cIiwgY2FsbGJhY2s6IGZ1bmN0aW9uKCl7fSB9KTtcbiAqXG4gKiBUWVBFUzpcbiAqIC0gREVGQVVMVCwgc2hvd3MgZ3JlZW4gbWVzc2FnZSwgdXNlZCBmb3Igc3VjY2Vzc1xuICogLSBXYXJuaW5nOiBcIndhcm5cIiAtIHNob3dzIG9yYW5nZSBtZXNzYWdlLCB1c2VkIGZvciBlcnJvcnMgb3Igd2FybmluZ3NcbiAqIC0gSW5mbzogXCJpbmZvXCIgLSBzaG93cyBkYXJrIGJsdWUgbWVzc2FnZSwgdXNlZCBmb3IgZ2VuZXJhbCB0aGluZ3NcbiAqXG4gKiBPUFRJT05TOlxuICogLSBtc2c6IHRoZSBjb250ZW50cyBvZiB0aGUgbWVzc2FnZSwgKFRPRE86IGNhbiBiZSBodG1sIG9yIHNpbXBsZSB0ZXh0KVxuICogLSBjYWxsYmFjazogYSBmdW5jdGlvbiB0byBmaXJlIG9uIGFjdGlvbiB0YWtlbiBvbiBtZXNzYWdlXG4gKiAtIGR1cjogdGhlIHRpbWVvdXQgb2YgdGhlIG1lc3NhZ2VcbiAqIC0gdHlwZTogc2VlIGFib3ZlIHR5cGVzXG4gKiAtIGljb246IGRlZmF1bHQgaXMgZ2xvYmUsIGNhbiBiZSBzZXQgdG8gQU5ZIGktc3ByaXRlcyAoc3ByaXRlcy5sZXNzKVxuICovXG5NVUcuZGlyZWN0aXZlKCdtc2dDZW50ZXInLFxuWyBcIiRyb290U2NvcGVcIiwgXCIkdGltZW91dFwiLCBcIiRjb21waWxlXCIsXG5mdW5jdGlvbiAoJHJvb3RTY29wZSwgJHRpbWVvdXQsICRjb21waWxlKSB7XG4gIHJldHVybiB7XG4gICAgc2NvcGU6IHt9LFxuICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWwsIGF0dHJzLCBjdHJsKSB7XG4gICAgICB2YXIgbXNnVGVtcGxhdGUgPSAnPGRpdiBjbGFzcz1cIm1zZ1wiIG5nLWNsaWNrPVwiYWN0aW9uKClcIj4nK1xuICAgICAgICAgICc8ZGl2IGNsYXNzPVwibXNnLWljblwiPjxpIGNsYXNzPVwiaXcgaS1JQ09OXCI+PC9pPjwvZGl2PicrXG4gICAgICAgICAgJzxkaXYgY2xhc3M9XCJtc2ctY29udFwiPkJPRFk8L2Rpdj4nK1xuICAgICAgICAgICc8ZGl2IGNsYXNzPVwibXNnLWFjdGlvblwiPjxpIGNsYXNzPVwiaWIgaS1yLWFycm93XCI+PC9pPjwvZGl2PicrXG4gICAgICAgICc8L2Rpdj4nO1xuXG4gICAgICB2YXIgX2VsID0gYW5ndWxhci5lbGVtZW50KGVsKTtcbiAgICAgIHZhciB0aW1lcjtcbiAgICAgIHZhciBkdXJhdGlvbiA9IDUwMDA7XG4gICAgICB2YXIgcHJldmlvdXNJZCA9IFwiXCI7XG4gICAgICB2YXIgZGVmYXVsdEljb24gPSBcImluZm9cIjtcblxuICAgICAgc2NvcGUuYm9keSA9IFwiXCI7XG4gICAgICBzY29wZS5jYWxsYmFjayA9IG51bGw7XG4gICAgICBzY29wZS5pY29uID0gZGVmYXVsdEljb247XG4gICAgICBzY29wZS5hY3Rpb24gPSBmdW5jdGlvbigpe1xuICAgICAgICB2YXIgYWN0aW9uRWwgPSBfZWwuZmluZChcIiNcIiArIHRoaXMuaWQpO1xuICAgICAgICBzY29wZS5jYWxsYmFjaygpO1xuICAgICAgICBjbGVhckVsKCBhY3Rpb25FbCApO1xuICAgICAgfTtcblxuICAgICAgZnVuY3Rpb24gc2hvd01lc3NhZ2UgKCBkYXRhICl7XG4gICAgICAgIHZhciBfaWQgPSAoK25ldyBEYXRlKCkpO1xuICAgICAgICB2YXIgbmV3Qm9keSA9IGRhdGEubXNnO1xuICAgICAgICB2YXIgbmV3SWNuID0gKGRhdGEuaWNvbik/IGRhdGEuaWNvbiA6IGRlZmF1bHRJY29uO1xuXG4gICAgICAgIHZhciB0ZW1wbGF0ZSA9IG1zZ1RlbXBsYXRlLnJlcGxhY2UoXCJCT0RZXCIsIG5ld0JvZHkpLnJlcGxhY2UoXCJJQ09OXCIsIG5ld0ljbik7XG4gICAgICAgIHZhciBuZXdNZXNzYWdlID0gJGNvbXBpbGUodGVtcGxhdGUpKHNjb3BlKTtcblxuICAgICAgICAvLyBzZXQgYSB1bmlxdWUgaWRcbiAgICAgICAgbmV3TWVzc2FnZVswXS5pZCA9IF9pZDtcbiAgICAgICAgcHJldmlvdXNJZCA9IF9pZDtcblxuICAgICAgICAvLyB0aHJvdyBpbnRvIGRvbSwgdGhlbiBzaG93IGluIHZpZXcsIHN0YXJ0IHRpbWVyXG4gICAgICAgIF9lbC5hcHBlbmQoIG5ld01lc3NhZ2UgKTtcblxuICAgICAgICAvLyByZW1lbWJlciB0aGUgbmV3IGVsIGZvciBsYXRlclxuICAgICAgICB2YXIgbXNnRWwgPSBfZWwuZmluZChcIiNcIiArIF9pZCk7XG4gICAgICAgIGNoYW5nZVR5cGUoIG1zZ0VsLCBkYXRhLnR5cGUgKTtcblxuICAgICAgICBpZihkYXRhLmNhbGxiYWNrKXtcbiAgICAgICAgICBtc2dFbC5maW5kKFwiLm1zZy1hY3Rpb25cIikuYWRkQ2xhc3MoXCJzaG93XCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc2hvd1xuICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICBtc2dFbC5hZGRDbGFzcygnYWRkJyk7XG4gICAgICAgIH0sIDIwKTtcblxuICAgICAgICB0aW1lciA9ICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgY2xlYXJFbCggbXNnRWwgKTtcbiAgICAgICAgfSwgZHVyYXRpb24pO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBjbGVhckVsICggZWxlbSApIHtcbiAgICAgICAgaWYoIWVsZW0gJiYgcHJldmlvdXNJZCl7XG4gICAgICAgICAgZWxlbSA9IF9lbC5maW5kKFwiI1wiICsgcHJldmlvdXNJZCk7XG4gICAgICAgIH0gZWxzZSBpZighZWxlbSkgeyByZXR1cm47IH1cblxuICAgICAgICBlbGVtLnJlbW92ZUNsYXNzKCdhZGQnKTtcbiAgICAgICAgZWxlbS5hZGRDbGFzcygncmVtb3ZlJyk7XG4gICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgICAgYW5ndWxhci5lbGVtZW50KGVsZW0pLnJlbW92ZSgpO1xuICAgICAgICB9LCAzMDApO1xuICAgICAgfVxuXG4gICAgICAvLyBzZXQgdGhlIHR5cGUgYnkgYSBjbGFzc1xuICAgICAgZnVuY3Rpb24gY2hhbmdlVHlwZSAoIGVsZW0sIHR5cGUgKSB7XG4gICAgICAgIGVsZW0ucmVtb3ZlQ2xhc3MoJ21zZy1pbmZvJyk7XG4gICAgICAgIGVsZW0ucmVtb3ZlQ2xhc3MoJ21zZy13YXJuJyk7XG5cbiAgICAgICAgaWYodHlwZSl7XG4gICAgICAgICAgZWxlbS5hZGRDbGFzcygnbXNnLScgKyB0eXBlKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAkcm9vdFNjb3BlLiRvbignTVNHQ0VOVEVSOkZJUkUnLCBmdW5jdGlvbihlLCBkYXRhKXtcbiAgICAgICAgaWYoIWRhdGEubXNnKXsgcmV0dXJuOyB9XG4gICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodGltZXIpO1xuICAgICAgICBjbGVhckVsKCk7XG5cbiAgICAgICAgaWYoZGF0YS5kdXIpe1xuICAgICAgICAgIGR1cmF0aW9uID0gZGF0YS5kdXIgKiAxMDAwO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYoZGF0YS5jYWxsYmFjayl7XG4gICAgICAgICAgc2NvcGUuY2FsbGJhY2sgPSBkYXRhLmNhbGxiYWNrO1xuICAgICAgICB9XG5cbiAgICAgICAgc2hvd01lc3NhZ2UoIGRhdGEgKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn1dKTtcbiIsIk1VRy5mYWN0b3J5KCd0aW1lQWdvJywgZnVuY3Rpb24gKCkge1xuICB2YXIgc2VydmljZSA9IHt9O1xuXG4gIHNlcnZpY2Uuc2V0dGluZ3MgPSB7XG4gICAgcmVmcmVzaE1pbGxpczogNjAwMDAsXG4gICAgYWxsb3dGdXR1cmU6IGZhbHNlLFxuICAgIHN0cmluZ3M6IHtcbiAgICAgIHByZWZpeEFnbzogbnVsbCxcbiAgICAgIHByZWZpeEZyb21Ob3c6IG51bGwsXG4gICAgICBzdWZmaXhBZ286ICdhZ28nLFxuICAgICAgc3VmZml4RnJvbU5vdzogJ2Zyb20gbm93JyxcbiAgICAgIHNlY29uZHM6ICdsZXNzIHRoYW4gYSBtaW51dGUnLFxuICAgICAgbWludXRlOiAnYWJvdXQgYSBtaW51dGUnLFxuICAgICAgbWludXRlczogJyVkIG1pbnV0ZXMnLFxuICAgICAgaG91cjogJ2Fib3V0IGFuIGhvdXInLFxuICAgICAgaG91cnM6ICclZCBob3VycycsXG4gICAgICBkYXk6ICdhIGRheScsXG4gICAgICBkYXlzOiAnJWQgZGF5cycsXG4gICAgICBtb250aDogJ2Fib3V0IGEgbW9udGgnLFxuICAgICAgbW9udGhzOiAnJWQgbW9udGhzJyxcbiAgICAgIHllYXI6ICdhYm91dCBhIHllYXInLFxuICAgICAgeWVhcnM6ICclZCB5ZWFycycsXG4gICAgICBudW1iZXJzOiBbXVxuICAgIH1cbiAgfTtcblxuICBmdW5jdGlvbiB0cmltRGlnaXRzICggbnVtICkge1xuICAgICAgdmFyIG0gPSBudW0udG9TdHJpbmcoKS5zbGljZSgwLDEzKTtcbiAgICAgIHJldHVybiAobS5sZW5ndGggPT0gMTMpPyBwYXJzZUludChtKSA6IG51bTtcbiAgfVxuXG4gIHNlcnZpY2UuaW5Xb3JkcyA9IGZ1bmN0aW9uIChkaXN0YW5jZU1pbGxpcykge1xuICAgIHZhciAkbCA9IHNlcnZpY2Uuc2V0dGluZ3Muc3RyaW5ncztcbiAgICB2YXIgcHJlZml4ID0gJGwucHJlZml4QWdvO1xuICAgIHZhciBzdWZmaXggPSAkbC5zdWZmaXhBZ287XG4gICAgaWYgKHNlcnZpY2Uuc2V0dGluZ3MuYWxsb3dGdXR1cmUpIHtcbiAgICAgIGlmIChkaXN0YW5jZU1pbGxpcyA8IDApIHtcbiAgICAgICAgcHJlZml4ID0gJGwucHJlZml4RnJvbU5vdztcbiAgICAgICAgc3VmZml4ID0gJGwuc3VmZml4RnJvbU5vdztcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgc2Vjb25kcyA9IE1hdGguYWJzKGRpc3RhbmNlTWlsbGlzKSAvIDEwMDA7XG4gICAgdmFyIG1pbnV0ZXMgPSBzZWNvbmRzIC8gNjA7XG4gICAgdmFyIGhvdXJzID0gbWludXRlcyAvIDYwO1xuICAgIHZhciBkYXlzID0gaG91cnMgLyAyNDtcbiAgICB2YXIgeWVhcnMgPSBkYXlzIC8gMzY1O1xuXG4gICAgZnVuY3Rpb24gc3Vic3RpdHV0ZShzdHJpbmdPckZ1bmN0aW9uLCBudW1iZXIpIHtcbiAgICAgIHZhciBzdHJpbmcgPSBhbmd1bGFyLmlzRnVuY3Rpb24oc3RyaW5nT3JGdW5jdGlvbikgP1xuICAgICAgc3RyaW5nT3JGdW5jdGlvbihudW1iZXIsIGRpc3RhbmNlTWlsbGlzKSA6IHN0cmluZ09yRnVuY3Rpb247XG4gICAgICB2YXIgdmFsdWUgPSAoJGwubnVtYmVycyAmJiAkbC5udW1iZXJzW251bWJlcl0pIHx8IG51bWJlcjtcbiAgICAgIHJldHVybiBzdHJpbmcucmVwbGFjZSgvJWQvaSwgdmFsdWUpO1xuICAgIH1cblxuICAgIHZhciB3b3JkcyA9IHNlY29uZHMgPCA0NSAmJiBzdWJzdGl0dXRlKCRsLnNlY29uZHMsIE1hdGgucm91bmQoc2Vjb25kcykpIHx8XG4gICAgICAgIHNlY29uZHMgPCA5MCAmJiBzdWJzdGl0dXRlKCRsLm1pbnV0ZSwgMSkgfHxcbiAgICAgICAgbWludXRlcyA8IDQ1ICYmIHN1YnN0aXR1dGUoJGwubWludXRlcywgTWF0aC5yb3VuZChtaW51dGVzKSkgfHxcbiAgICAgICAgbWludXRlcyA8IDkwICYmIHN1YnN0aXR1dGUoJGwuaG91ciwgMSkgfHxcbiAgICAgICAgaG91cnMgPCAyNCAmJiBzdWJzdGl0dXRlKCRsLmhvdXJzLCBNYXRoLnJvdW5kKGhvdXJzKSkgfHxcbiAgICAgICAgaG91cnMgPCA0MiAmJiBzdWJzdGl0dXRlKCRsLmRheSwgMSkgfHxcbiAgICAgICAgZGF5cyA8IDMwICYmIHN1YnN0aXR1dGUoJGwuZGF5cywgTWF0aC5yb3VuZChkYXlzKSkgfHxcbiAgICAgICAgZGF5cyA8IDQ1ICYmIHN1YnN0aXR1dGUoJGwubW9udGgsIDEpIHx8XG4gICAgICAgIGRheXMgPCAzNjUgJiYgc3Vic3RpdHV0ZSgkbC5tb250aHMsIE1hdGgucm91bmQoZGF5cyAvIDMwKSkgfHxcbiAgICAgICAgeWVhcnMgPCAxLjUgJiYgc3Vic3RpdHV0ZSgkbC55ZWFyLCAxKSB8fFxuICAgICAgICBzdWJzdGl0dXRlKCRsLnllYXJzLCBNYXRoLnJvdW5kKHllYXJzKSk7XG5cbiAgICB2YXIgc2VwYXJhdG9yID0gJGwud29yZFNlcGFyYXRvciA9PT0gdW5kZWZpbmVkID8gJyAnIDogJGwud29yZFNlcGFyYXRvcjtcbiAgICByZXR1cm4gW3ByZWZpeCwgd29yZHMsIHN1ZmZpeF0uam9pbihzZXBhcmF0b3IpLnRyaW0oKTtcbiAgfTtcblxuICBzZXJ2aWNlLnBhcnNlID0gZnVuY3Rpb24gKGlzbzg2MDEpIHtcbiAgICBpZiAoYW5ndWxhci5pc051bWJlcihpc284NjAxKSkge1xuICAgICAgaXNvODYwMSA9IGlzbzg2MDEgKyBcIlwiO1xuICAgICAgLy8gZm9ybWF0IGZvciBjb3JyZWN0IGxlbmd0aFxuICAgICAgdmFyIG9yaWdpbmFsVGltZXN0YW1wID0gdHJpbURpZ2l0cyggaXNvODYwMSApO1xuICAgICAgcmV0dXJuIHBhcnNlSW50KG9yaWdpbmFsVGltZXN0YW1wLCAxMCk7XG4gICAgfVxuICAgIHZhciBzID0gKGlzbzg2MDEgfHwgJycpLnRyaW0oKTtcbiAgICBzID0gcy5yZXBsYWNlKC9cXC5cXGQrLywgJycpOyAvLyByZW1vdmUgbWlsbGlzZWNvbmRzXG4gICAgcyA9IHMucmVwbGFjZSgvLS8sICcvJykucmVwbGFjZSgvLS8sICcvJyk7XG4gICAgcyA9IHMucmVwbGFjZSgvVC8sICcgJykucmVwbGFjZSgvWi8sICcgVVRDJyk7XG4gICAgcyA9IHMucmVwbGFjZSgvKFtcXCtcXC1dXFxkXFxkKVxcOj8oXFxkXFxkKS8sICcgJDEkMicpOyAvLyAtMDQ6MDAgLT4gLTA0MDBcbiAgICByZXR1cm4gbmV3IERhdGUocyk7XG4gIH07XG5cbiAgcmV0dXJuIHNlcnZpY2U7XG59KTtcbiIsIk1VRy5mYWN0b3J5KCdub3dUaW1lJyxcblsnJHRpbWVvdXQnLFxuZnVuY3Rpb24gKCR0aW1lb3V0KSB7XG4gIHZhciBub3dUaW1lID0gRGF0ZS5ub3coKTtcbiAgdmFyIHVwZGF0ZVRpbWUgPSBmdW5jdGlvbigpIHtcbiAgICAkdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgIG5vd1RpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgdXBkYXRlVGltZSgpO1xuICAgIH0sIDEwMDApO1xuICB9O1xuICB1cGRhdGVUaW1lKCk7XG4gIHJldHVybiB7XG4gICAgZ2V0VGltZTogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gbm93VGltZTtcbiAgICB9XG4gIH07XG59XSk7XG4iLCJNVUcuZmlsdGVyKCd0aW1lQWdvJyxcblsnbm93VGltZScsICd0aW1lQWdvJyxcbmZ1bmN0aW9uIChub3dUaW1lLCB0aW1lQWdvKSB7XG4gIHJldHVybiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICB2YXIgZnJvbVRpbWUgPSB0aW1lQWdvLnBhcnNlKHZhbHVlKTtcbiAgICB2YXIgZGlmZiA9IG5vd1RpbWUuZ2V0VGltZSgpIC0gZnJvbVRpbWU7XG4gICAgcmV0dXJuIHRpbWVBZ28uaW5Xb3JkcyhkaWZmKTtcbiAgfTtcbn1dKTtcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==