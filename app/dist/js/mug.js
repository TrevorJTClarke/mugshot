var MUG=angular.module("mugshot",["ui.router","mugtemplates"]);MUG.directive("fadeIn",[function(){return{restrict:"A",link:function(e,t,r){var n=parseInt(r.fadeIn)||10;t.addClass("fade-in"),setTimeout(function(){t.css("opacity","1")},n)}}}]),MUG.directive("msgCenter",["$rootScope","$timeout","$compile",function(e,t,r){return{scope:{},link:function(n,o,i,c){function a(e){var o=+new Date,i=e.msg,c=e.icon?e.icon:v,a=f.replace("BODY",i).replace("ICON",c),g=r(a)(n);g[0].id=o,p=o,d.append(g);var j=d.find("#"+o);u(j,e.type),e.callback&&j.find(".msg-action").addClass("show"),t(function(){j.addClass("add")},20),l=t(function(){s(j)},m)}function s(e){if(!e&&p)e=d.find("#"+p);else if(!e)return;e.removeClass("add"),e.addClass("remove"),t(function(){angular.element(e).remove()},300)}function u(e,t){e.removeClass("msg-info"),e.removeClass("msg-warn"),t&&e.addClass("msg-"+t)}var l,f='<div class="msg" ng-click="action()"><div class="msg-icn"><i class="iw i-ICON"></i></div><div class="msg-cont">BODY</div><div class="msg-action"><i class="ib i-r-arrow"></i></div></div>',d=angular.element(o),m=5e3,p="",v="info";n.body="",n.callback=null,n.icon=v,n.action=function(){var e=d.find("#"+this.id);n.callback(),s(e)},e.$on("MSGCENTER:FIRE",function(e,t){t.msg&&(window.clearTimeout(l),s(),t.dur&&(m=1e3*t.dur),t.callback&&(n.callback=t.callback),a(t))})}}}]),MUG.directive("timeAgo",["timeAgoService","nowTimeService",function(e,t){return{restrict:"EA",link:function(r,n,o){var i;o.$observe("fromTime",function(t){i=e.parse(t)}),r.$watch(function(){return t.getTime()-i},function(t){angular.element(n).text(e.inWords(t))})}}}]),MUG.factory("nowTime",["$timeout",function(e){var t=Date.now(),r=function(){e(function(){t=Date.now(),r()},1e3)};return r(),{getTime:function(){return t}}}]);var fs=require("fs");MUG.factory("Projects",["$q",function(e){function t(e){return"number"==typeof e&&e===parseInt(e,10)&&(e=Array(e+1).join("x")),e.replace(/x/g,function(){var e=Math.round(61*Math.random())+48;return e=e>57?e+7>90?e+13:e+7:e,String.fromCharCode(e)})}function r(e){e=e||0;var r=t(12);return{id:r,title:"Project "+(parseInt(e,10)+1),timestamp:+new Date,totals:{success:null,warning:null,error:null,views:0}}}function n(e){t(12);return{id:e.id,title:e.title,timestamp:e.timestamp,viewports:[],selectors:[],cookies:[],meta:{url:null,readyEvent:null,delay:null,misMatchThreshold:null}}}var o=__dirname+"/projects.json",i=__dirname+"/projects/";return{createNew:function(){var t=e.defer(),c=JSON.parse(fs.readFileSync(o,"utf8")),a=r(c.length),s=n(a);return c.unshift(a),fs.writeFile(o,JSON.stringify(c),function(e){return e?void t.reject(e):void fs.writeFile(i+a.id+".json",JSON.stringify(s),function(e){return e?void t.reject(e):void t.resolve(a)})}),t.promise},getAll:function(){return JSON.parse(fs.readFileSync(o,"utf8"))},getById:function(e){return JSON.parse(fs.readFileSync(i+e+".json","utf8"))},save:function(t){var r=e.defer(),n=JSON.parse(fs.readFileSync(o,"utf8"));return n.map(function(e,r){e.id===t.id&&(n[r].title=t.title,n[r].timestamp=+new Date)}),fs.writeFile(i+t.id+".json",JSON.stringify(t),function(e){return e?void r.reject(e):void fs.writeFile(o,JSON.stringify(n),function(e){return e?void r.reject(e):void r.resolve(t)})}),r.promise},remove:function(t){var r=e.defer(),n=JSON.parse(fs.readFileSync(o,"utf8"));return n.map(function(e,r){e.id===t&&n.splice(r,1)}),fs.unlink(i+t+".json",function(e){return e?void r.reject(e):void fs.writeFile(o,JSON.stringify(n),function(e){return e?void r.reject(e):void r.resolve()})}),r.promise}}}]),MUG.factory("timeAgo",function(){function e(e){var t=e.toString().slice(0,13);return 13==t.length?parseInt(t):e}var t={};return t.settings={refreshMillis:6e4,allowFuture:!1,strings:{prefixAgo:null,prefixFromNow:null,suffixAgo:"ago",suffixFromNow:"from now",seconds:"less than a minute",minute:"about a minute",minutes:"%d minutes",hour:"about an hour",hours:"%d hours",day:"a day",days:"%d days",month:"about a month",months:"%d months",year:"about a year",years:"%d years",numbers:[]}},t.inWords=function(e){function r(t,r){var o=angular.isFunction(t)?t(r,e):t,i=n.numbers&&n.numbers[r]||r;return o.replace(/%d/i,i)}var n=t.settings.strings,o=n.prefixAgo,i=n.suffixAgo;t.settings.allowFuture&&0>e&&(o=n.prefixFromNow,i=n.suffixFromNow);var c=Math.abs(e)/1e3,a=c/60,s=a/60,u=s/24,l=u/365,f=45>c&&r(n.seconds,Math.round(c))||90>c&&r(n.minute,1)||45>a&&r(n.minutes,Math.round(a))||90>a&&r(n.hour,1)||24>s&&r(n.hours,Math.round(s))||42>s&&r(n.day,1)||30>u&&r(n.days,Math.round(u))||45>u&&r(n.month,1)||365>u&&r(n.months,Math.round(u/30))||1.5>l&&r(n.year,1)||r(n.years,Math.round(l)),d=void 0===n.wordSeparator?" ":n.wordSeparator;return[o,f,i].join(d).trim()},t.parse=function(t){if(angular.isNumber(t)){t+="";var r=e(t);return parseInt(r,10)}var n=(t||"").trim();return n=n.replace(/\.\d+/,""),n=n.replace(/-/,"/").replace(/-/,"/"),n=n.replace(/T/," ").replace(/Z/," UTC"),n=n.replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2"),new Date(n)},t}),MUG.filter("timeAgo",["nowTime","timeAgo",function(e,t){return function(r){var n=t.parse(r),o=e.getTime()-n;return t.inWords(o)}}]),MUG.controller("MainCtrl",["$rootScope","$scope","$state","Config","Projects",function(e,t,r,n,o){e.currentProjectId="",t.createNewProject=function(){o.createNew().then(function(t){e.$broadcast("SIDEPANEL:NEWPROJECT",t),r.go("projects.settings",{id:t.id})},function(e){console.log("err",e)})}}]),MUG.controller("ProjectCtrl",["$rootScope","$scope","$stateParams","Projects",function(e,t,r,n){e.project=n.getById(r.id)}]),MUG.controller("ProjectHistoryCtrl",["$rootScope","$scope","Projects",function(e,t,r){}]),MUG.controller("ProjectRunnerCtrl",["$rootScope","$scope","Projects",function(e,t,r){}]),MUG.controller("ProjectSettingsCtrl",["$rootScope","$scope","$state","Projects",function(e,t,r,n){function o(t,r){e.project[t].push(r)}t.selectorTypes=["container","hide","remove"],t.master={},angular.copy(e.project,t.master),t.save=function(){n.save(e.project).then(function(r){e.$emit("SIDEPANEL:UPDATE",r),angular.copy(e.project,t.master)},function(e){console.log("err",e)})},t.cancelSave=function(){var r=confirm("Are you sure you want to clear all your changes?");r&&angular.copy(t.master,e.project)},t.deleteProject=function(){var t=confirm("Are you sure you want to delete this project?");if(t){var o=e.project.id;n.remove(o).then(function(t){e.$emit("SIDEPANEL:REMOVE",{id:o}),r.go("main"),e.project={}},function(e){console.log("err",e)})}},t.addViewport=function(){var e={active:!1,name:null,width:null,height:null};o("viewports",e)},t.addSelector=function(){var e={active:!1,type:null,query:null};o("selectors",e)},t.addCookie=function(){var e={active:!1,name:null,value:null,path:null};o("cookies",e)}}]);var fs=require("fs");MUG.controller("SidePanelCtrl",["$rootScope","$scope","$state","Projects",function(e,t,r,n){t.projects=[],t.projects=n.getAll(),e.$on("SIDEPANEL:NEWPROJECT",function(e,r){r&&r.id&&t.projects.unshift(r)}),e.$on("SIDEPANEL:UPDATE",function(e,r){r&&r.id&&t.projects.map(function(e,n){e.id===r.id&&(t.projects[n]=r)})}),e.$on("SIDEPANEL:REMOVE",function(e,r){r&&r.id&&t.projects.map(function(e,n){e.id===r.id&&t.projects.splice(n,1)})}),t.goToProject=function(t){var n="settings";r.go("projects."+n,{id:t}),e.currentProjectId=t}}]),MUG.constant("Config",{ENV:"STAGE",STAGE:{},PROD:{}}),MUG.config(["$stateProvider","$urlRouterProvider",function(e,t){e.state("main",{url:"/",templateUrl:"main.html"}).state("projects",{url:"/projects/:id",templateUrl:"projects.html",controller:"ProjectCtrl"}).state("projects.settings",{url:"/settings",templateUrl:"projects.settings.html",controller:"ProjectSettingsCtrl"}).state("projects.runner",{url:"/runner",templateUrl:"projects.runner.html",controller:"ProjectRunnerCtrl"}).state("projects.history",{url:"/history",templateUrl:"projects.history.html",controller:"ProjectHistoryCtrl"}),t.otherwise("/")}]),MUG.run(["$rootScope","$http",function(e,t){var r=t.defaults.headers.common;r["Content-Type"]="application/json",e.$on("$stateChangeError",function(e,t,r,n,o,i){console.log("$stateChangeError",i)})}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsImZhZGVpbi5qcyIsIm1zZ2NlbnRlci5qcyIsInRpbWVhZ28uanMiLCJub3d0aW1lLmpzIiwicHJvamVjdHMuanMiLCJ0aW1lLWFnby5qcyIsIm1haW5jdHJsLmpzIiwicHJvamVjdGN0cmwuanMiLCJwcm9qZWN0aGlzdG9yeWN0cmwuanMiLCJwcm9qZWN0cnVubmVyY3RybC5qcyIsInByb2plY3RzZXR0aW5nc2N0cmwuanMiLCJzaWRlcGFuZWxjdHJsLmpzIiwiY29uZmlnLmpzIiwicm91dGVzLmpzIiwiaW5pdC5qcyJdLCJuYW1lcyI6WyJNVUciLCJhbmd1bGFyIiwibW9kdWxlIiwiZGlyZWN0aXZlIiwicmVzdHJpY3QiLCJsaW5rIiwic2NvcGUiLCJlbGVtIiwiYXR0cnMiLCJvZmZzZXQiLCJwYXJzZUludCIsImZhZGVJbiIsImFkZENsYXNzIiwic2V0VGltZW91dCIsImNzcyIsIiRyb290U2NvcGUiLCIkdGltZW91dCIsIiRjb21waWxlIiwiZWwiLCJjdHJsIiwic2hvd01lc3NhZ2UiLCJkYXRhIiwiX2lkIiwiRGF0ZSIsIm5ld0JvZHkiLCJtc2ciLCJuZXdJY24iLCJpY29uIiwiZGVmYXVsdEljb24iLCJ0ZW1wbGF0ZSIsIm1zZ1RlbXBsYXRlIiwicmVwbGFjZSIsIm5ld01lc3NhZ2UiLCJpZCIsInByZXZpb3VzSWQiLCJfZWwiLCJhcHBlbmQiLCJtc2dFbCIsImZpbmQiLCJjaGFuZ2VUeXBlIiwidHlwZSIsImNhbGxiYWNrIiwidGltZXIiLCJjbGVhckVsIiwiZHVyYXRpb24iLCJyZW1vdmVDbGFzcyIsImVsZW1lbnQiLCJyZW1vdmUiLCJib2R5IiwiYWN0aW9uIiwiYWN0aW9uRWwiLCJ0aGlzIiwiJG9uIiwiZSIsIndpbmRvdyIsImNsZWFyVGltZW91dCIsImR1ciIsInRpbWVBZ28iLCJub3dUaW1lIiwiZnJvbVRpbWUiLCIkb2JzZXJ2ZSIsInZhbHVlIiwicGFyc2UiLCIkd2F0Y2giLCJnZXRUaW1lIiwidGV4dCIsImluV29yZHMiLCJmYWN0b3J5Iiwibm93IiwidXBkYXRlVGltZSIsImZzIiwicmVxdWlyZSIsIiRxIiwiY3JlYXRlVVVJRCIsInMiLCJBcnJheSIsImpvaW4iLCJuIiwiTWF0aCIsInJvdW5kIiwicmFuZG9tIiwiU3RyaW5nIiwiZnJvbUNoYXJDb2RlIiwiY3JlYXRlRHVtbXlQcm9qZWN0IiwidG90YWwiLCJwcm9qZWN0SWQiLCJ0aXRsZSIsInRpbWVzdGFtcCIsInRvdGFscyIsInN1Y2Nlc3MiLCJ3YXJuaW5nIiwiZXJyb3IiLCJ2aWV3cyIsImNyZWF0ZUR1bW15UHJvamVjdEZpbGUiLCJvcHRpb25zIiwidmlld3BvcnRzIiwic2VsZWN0b3JzIiwiY29va2llcyIsIm1ldGEiLCJ1cmwiLCJyZWFkeUV2ZW50IiwiZGVsYXkiLCJtaXNNYXRjaFRocmVzaG9sZCIsInByb2plY3RzUGF0aCIsIl9fZGlybmFtZSIsInByb2plY3RGaWxlc1BhdGgiLCJjcmVhdGVOZXciLCJkZmQiLCJkZWZlciIsImFsbFByb2plY3RzIiwiSlNPTiIsInJlYWRGaWxlU3luYyIsIm5ld1Byb2plY3REYXRhIiwibGVuZ3RoIiwibmV3UHJvamVjdEZpbGUiLCJ1bnNoaWZ0Iiwid3JpdGVGaWxlIiwic3RyaW5naWZ5IiwiZXJyIiwicmVqZWN0IiwicmVzb2x2ZSIsInByb21pc2UiLCJnZXRBbGwiLCJnZXRCeUlkIiwic2F2ZSIsInByb2plY3REYXRhIiwibWFwIiwib2JqIiwiaWR4Iiwic3BsaWNlIiwidW5saW5rIiwidHJpbURpZ2l0cyIsIm51bSIsIm0iLCJ0b1N0cmluZyIsInNsaWNlIiwic2VydmljZSIsInNldHRpbmdzIiwicmVmcmVzaE1pbGxpcyIsImFsbG93RnV0dXJlIiwic3RyaW5ncyIsInByZWZpeEFnbyIsInByZWZpeEZyb21Ob3ciLCJzdWZmaXhBZ28iLCJzdWZmaXhGcm9tTm93Iiwic2Vjb25kcyIsIm1pbnV0ZSIsIm1pbnV0ZXMiLCJob3VyIiwiaG91cnMiLCJkYXkiLCJkYXlzIiwibW9udGgiLCJtb250aHMiLCJ5ZWFyIiwieWVhcnMiLCJudW1iZXJzIiwiZGlzdGFuY2VNaWxsaXMiLCJzdWJzdGl0dXRlIiwic3RyaW5nT3JGdW5jdGlvbiIsIm51bWJlciIsInN0cmluZyIsImlzRnVuY3Rpb24iLCIkbCIsInByZWZpeCIsInN1ZmZpeCIsImFicyIsIndvcmRzIiwic2VwYXJhdG9yIiwidW5kZWZpbmVkIiwid29yZFNlcGFyYXRvciIsInRyaW0iLCJpc284NjAxIiwiaXNOdW1iZXIiLCJvcmlnaW5hbFRpbWVzdGFtcCIsImZpbHRlciIsImRpZmYiLCJjb250cm9sbGVyIiwiJHNjb3BlIiwiJHN0YXRlIiwiQ29uZmlnIiwiUHJvamVjdHMiLCJjdXJyZW50UHJvamVjdElkIiwiY3JlYXRlTmV3UHJvamVjdCIsInRoZW4iLCJyZXMiLCIkYnJvYWRjYXN0IiwiZ28iLCJjb25zb2xlIiwibG9nIiwiJHN0YXRlUGFyYW1zIiwicHJvamVjdCIsImFkZE5ld1R5cGUiLCJwdXNoIiwic2VsZWN0b3JUeXBlcyIsIm1hc3RlciIsImNvcHkiLCIkZW1pdCIsImNhbmNlbFNhdmUiLCJzdXJlIiwiY29uZmlybSIsImRlbGV0ZVByb2plY3QiLCJwcm9qZWN0SUQiLCJhZGRWaWV3cG9ydCIsIm5ld1ZpZXdwb3J0IiwiYWN0aXZlIiwibmFtZSIsIndpZHRoIiwiaGVpZ2h0IiwiYWRkU2VsZWN0b3IiLCJuZXdTZWxlY3RvciIsInF1ZXJ5IiwiYWRkQ29va2llIiwibmV3Q29va2llIiwicGF0aCIsInByb2plY3RzIiwiYXJncyIsImdvVG9Qcm9qZWN0IiwiY29uc3RhbnQiLCJFTlYiLCJTVEFHRSIsIlBST0QiLCJjb25maWciLCIkc3RhdGVQcm92aWRlciIsIiR1cmxSb3V0ZXJQcm92aWRlciIsInN0YXRlIiwidGVtcGxhdGVVcmwiLCJvdGhlcndpc2UiLCJydW4iLCIkaHR0cCIsIiRjb21tb24iLCJkZWZhdWx0cyIsImhlYWRlcnMiLCJjb21tb24iLCJldmVudCIsInRvU3RhdGUiLCJ0b1BhcmFtcyIsImZyb21TdGF0ZSIsImZyb21QYXJhbXMiXSwibWFwcGluZ3MiOiJBQUFBLEdBQUFBLEtBQUFDLFFBQUFDLE9BQUEsV0FBQSxZQUFBLGdCQ0lBRixLQUFBRyxVQUFBLFVBQUEsV0FDQSxPQUNBQyxTQUFBLElBQ0FDLEtBQUEsU0FBQUMsRUFBQUMsRUFBQUMsR0FDQSxHQUFBQyxHQUFBQyxTQUFBRixFQUFBRyxTQUFBLEVBQ0FKLEdBQUFLLFNBQUEsV0FFQUMsV0FBQSxXQUNBTixFQUFBTyxJQUFBLFVBQUEsTUFDQUwsUUNNQVQsSUFBQUcsVUFBQSxhQUNBLGFBQUEsV0FBQSxXQUNBLFNBQUFZLEVBQUFDLEVBQUFDLEdBQ0EsT0FDQVgsU0FDQUQsS0FBQSxTQUFBQyxFQUFBWSxFQUFBVixFQUFBVyxHQXNCQSxRQUFBQyxHQUFBQyxHQUNBLEdBQUFDLElBQUEsR0FBQUMsTUFDQUMsRUFBQUgsRUFBQUksSUFDQUMsRUFBQUwsRUFBQSxLQUFBQSxFQUFBTSxLQUFBQyxFQUVBQyxFQUFBQyxFQUFBQyxRQUFBLE9BQUFQLEdBQUFPLFFBQUEsT0FBQUwsR0FDQU0sRUFBQWYsRUFBQVksR0FBQXZCLEVBR0EwQixHQUFBLEdBQUFDLEdBQUFYLEVBQ0FZLEVBQUFaLEVBR0FhLEVBQUFDLE9BQUFKLEVBR0EsSUFBQUssR0FBQUYsRUFBQUcsS0FBQSxJQUFBaEIsRUFDQWlCLEdBQUFGLEVBQUFoQixFQUFBbUIsTUFFQW5CLEVBQUFvQixVQUNBSixFQUFBQyxLQUFBLGVBQUExQixTQUFBLFFBSUFJLEVBQUEsV0FDQXFCLEVBQUF6QixTQUFBLFFBQ0EsSUFFQThCLEVBQUExQixFQUFBLFdBQ0EyQixFQUFBTixJQUNBTyxHQUdBLFFBQUFELEdBQUFwQyxHQUNBLElBQUFBLEdBQUEyQixFQUNBM0IsRUFBQTRCLEVBQUFHLEtBQUEsSUFBQUosT0FDQSxLQUFBM0IsRUFBQSxNQUVBQSxHQUFBc0MsWUFBQSxPQUNBdEMsRUFBQUssU0FBQSxVQUNBSSxFQUFBLFdBQ0FmLFFBQUE2QyxRQUFBdkMsR0FBQXdDLFVBQ0EsS0FJQSxRQUFBUixHQUFBaEMsRUFBQWlDLEdBQ0FqQyxFQUFBc0MsWUFBQSxZQUNBdEMsRUFBQXNDLFlBQUEsWUFFQUwsR0FDQWpDLEVBQUFLLFNBQUEsT0FBQTRCLEdBeEVBLEdBT0FFLEdBUEFaLEVBQUEsNExBTUFLLEVBQUFsQyxRQUFBNkMsUUFBQTVCLEdBRUEwQixFQUFBLElBQ0FWLEVBQUEsR0FDQU4sRUFBQSxNQUVBdEIsR0FBQTBDLEtBQUEsR0FDQTFDLEVBQUFtQyxTQUFBLEtBQ0FuQyxFQUFBcUIsS0FBQUMsRUFDQXRCLEVBQUEyQyxPQUFBLFdBQ0EsR0FBQUMsR0FBQWYsRUFBQUcsS0FBQSxJQUFBYSxLQUFBbEIsR0FDQTNCLEdBQUFtQyxXQUNBRSxFQUFBTyxJQTBEQW5DLEVBQUFxQyxJQUFBLGlCQUFBLFNBQUFDLEVBQUFoQyxHQUNBQSxFQUFBSSxNQUNBNkIsT0FBQUMsYUFBQWIsR0FDQUMsSUFFQXRCLEVBQUFtQyxNQUNBWixFQUFBLElBQUF2QixFQUFBbUMsS0FHQW5DLEVBQUFvQixXQUNBbkMsRUFBQW1DLFNBQUFwQixFQUFBb0IsVUFHQXJCLEVBQUFDLFdDbEhBckIsSUFBQUcsVUFBQSxXQUNBLGlCQUFBLGlCQUNBLFNBQUFzRCxFQUFBQyxHQUNBLE9BQ0F0RCxTQUFBLEtBQ0FDLEtBQUEsU0FBQUMsRUFBQUMsRUFBQUMsR0FDQSxHQUFBbUQsRUFHQW5ELEdBQUFvRCxTQUFBLFdBQUEsU0FBQUMsR0FDQUYsRUFBQUYsRUFBQUssTUFBQUQsS0FJQXZELEVBQUF5RCxPQUFBLFdBQ0EsTUFBQUwsR0FBQU0sVUFBQUwsR0FDQSxTQUFBRSxHQUNBNUQsUUFBQTZDLFFBQUF2QyxHQUFBMEQsS0FBQVIsRUFBQVMsUUFBQUwsV0NqQkE3RCxJQUFBbUUsUUFBQSxXQUNBLFdBQ0EsU0FBQW5ELEdBQ0EsR0FBQTBDLEdBQUFuQyxLQUFBNkMsTUFDQUMsRUFBQSxXQUNBckQsRUFBQSxXQUNBMEMsRUFBQW5DLEtBQUE2QyxNQUNBQyxLQUNBLEtBSUEsT0FEQUEsTUFFQUwsUUFBQSxXQUNBLE1BQUFOLE9DZEEsSUFBQVksSUFBQUMsUUFBQSxLQUVBdkUsS0FBQW1FLFFBQUEsWUFDQSxLQUNBLFNBQUFLLEdBTUEsUUFBQUMsR0FBQUMsR0FNQSxNQUpBLGdCQUFBQSxJQUFBQSxJQUFBaEUsU0FBQWdFLEVBQUEsTUFDQUEsRUFBQUMsTUFBQUQsRUFBQSxHQUFBRSxLQUFBLE1BR0FGLEVBQUEzQyxRQUFBLEtBQUEsV0FDQSxHQUFBOEMsR0FBQUMsS0FBQUMsTUFBQSxHQUFBRCxLQUFBRSxVQUFBLEVBRUEsT0FEQUgsR0FBQUEsRUFBQSxHQUFBQSxFQUFBLEVBQUEsR0FBQUEsRUFBQSxHQUFBQSxFQUFBLEVBQUFBLEVBQ0FJLE9BQUFDLGFBQUFMLEtBS0EsUUFBQU0sR0FBQUMsR0FDQUEsRUFBQUEsR0FBQSxDQUNBLElBQUFDLEdBQUFaLEVBQUEsR0FDQSxRQUNBeEMsR0FBQW9ELEVBQ0FDLE1BQUEsWUFBQTVFLFNBQUEwRSxFQUFBLElBQUEsR0FDQUcsV0FBQSxHQUFBaEUsTUFDQWlFLFFBQ0FDLFFBQUEsS0FDQUMsUUFBQSxLQUNBQyxNQUFBLEtBQ0FDLE1BQUEsSUFNQSxRQUFBQyxHQUFBQyxHQUNBckIsRUFBQSxHQUNBLFFBQ0F4QyxHQUFBNkQsRUFBQTdELEdBQ0FxRCxNQUFBUSxFQUFBUixNQUNBQyxVQUFBTyxFQUFBUCxVQUNBUSxhQUNBQyxhQUNBQyxXQUNBQyxNQUNBQyxJQUFBLEtBQ0FDLFdBQUEsS0FDQUMsTUFBQSxLQUNBQyxrQkFBQSxPQWhEQSxHQUFBQyxHQUFBQyxVQUFBLGlCQUNBQyxFQUFBRCxVQUFBLFlBb0RBLFFBS0FFLFVBQUEsV0FDQSxHQUFBQyxHQUFBbkMsRUFBQW9DLFFBQ0FDLEVBQUFDLEtBQUFoRCxNQUFBUSxHQUFBeUMsYUFBQVIsRUFBQSxTQUNBUyxFQUFBN0IsRUFBQTBCLEVBQUFJLFFBQ0FDLEVBQUFyQixFQUFBbUIsRUF1QkEsT0FyQkFILEdBQUFNLFFBQUFILEdBR0ExQyxHQUFBOEMsVUFBQWIsRUFBQU8sS0FBQU8sVUFBQVIsR0FBQSxTQUFBUyxHQUNBLE1BQUFBLE9BQ0FYLEdBQUFZLE9BQUFELE9BS0FoRCxJQUFBOEMsVUFBQVgsRUFBQU8sRUFBQS9FLEdBQUEsUUFBQTZFLEtBQUFPLFVBQUFILEdBQUEsU0FBQUksR0FDQSxNQUFBQSxPQUNBWCxHQUFBWSxPQUFBRCxPQUtBWCxHQUFBYSxRQUFBUixPQUlBTCxFQUFBYyxTQUdBQyxPQUFBLFdBQ0EsTUFBQVosTUFBQWhELE1BQUFRLEdBQUF5QyxhQUFBUixFQUFBLFVBR0FvQixRQUFBLFNBQUExRixHQUNBLE1BQUE2RSxNQUFBaEQsTUFBQVEsR0FBQXlDLGFBQUFOLEVBQUF4RSxFQUFBLFFBQUEsVUFJQTJGLEtBQUEsU0FBQUMsR0FDQSxHQUFBbEIsR0FBQW5DLEVBQUFvQyxRQUNBQyxFQUFBQyxLQUFBaEQsTUFBQVEsR0FBQXlDLGFBQUFSLEVBQUEsUUE2QkEsT0ExQkFNLEdBQUFpQixJQUFBLFNBQUFDLEVBQUFDLEdBQ0FELEVBQUE5RixLQUFBNEYsRUFBQTVGLEtBQ0E0RSxFQUFBbUIsR0FBQTFDLE1BQUF1QyxFQUFBdkMsTUFDQXVCLEVBQUFtQixHQUFBekMsV0FBQSxHQUFBaEUsU0FLQStDLEdBQUE4QyxVQUFBWCxFQUFBb0IsRUFBQTVGLEdBQUEsUUFBQTZFLEtBQUFPLFVBQUFRLEdBQUEsU0FBQVAsR0FDQSxNQUFBQSxPQUNBWCxHQUFBWSxPQUFBRCxPQUtBaEQsSUFBQThDLFVBQUFiLEVBQUFPLEtBQUFPLFVBQUFSLEdBQUEsU0FBQVMsR0FDQSxNQUFBQSxPQUNBWCxHQUFBWSxPQUFBRCxPQUtBWCxHQUFBYSxRQUFBSyxPQUlBbEIsRUFBQWMsU0FJQTFFLE9BQUEsU0FBQWQsR0FDQSxHQUFBMEUsR0FBQW5DLEVBQUFvQyxRQUNBQyxFQUFBQyxLQUFBaEQsTUFBQVEsR0FBQXlDLGFBQUFSLEVBQUEsUUE0QkEsT0F6QkFNLEdBQUFpQixJQUFBLFNBQUFDLEVBQUFDLEdBQ0FELEVBQUE5RixLQUFBQSxHQUNBNEUsRUFBQW9CLE9BQUFELEVBQUEsS0FLQTFELEdBQUE0RCxPQUFBekIsRUFBQXhFLEVBQUEsUUFBQSxTQUFBcUYsR0FDQSxNQUFBQSxPQUNBWCxHQUFBWSxPQUFBRCxPQUtBaEQsSUFBQThDLFVBQUFiLEVBQUFPLEtBQUFPLFVBQUFSLEdBQUEsU0FBQVMsR0FDQSxNQUFBQSxPQUNBWCxHQUFBWSxPQUFBRCxPQUtBWCxHQUFBYSxjQUlBYixFQUFBYyxhRnhLQXpILElBQUFtRSxRQUFBLFVBQUEsV0EwQkEsUUFBQWdFLEdBQUFDLEdBQ0EsR0FBQUMsR0FBQUQsRUFBQUUsV0FBQUMsTUFBQSxFQUFBLEdBQ0EsT0FBQSxLQUFBRixFQUFBcEIsT0FBQXZHLFNBQUEySCxHQUFBRCxFQTNCQSxHQUFBSSxLQXFGQSxPQW5GQUEsR0FBQUMsVUFDQUMsY0FBQSxJQUNBQyxhQUFBLEVBQ0FDLFNBQ0FDLFVBQUEsS0FDQUMsY0FBQSxLQUNBQyxVQUFBLE1BQ0FDLGNBQUEsV0FDQUMsUUFBQSxxQkFDQUMsT0FBQSxpQkFDQUMsUUFBQSxhQUNBQyxLQUFBLGdCQUNBQyxNQUFBLFdBQ0FDLElBQUEsUUFDQUMsS0FBQSxVQUNBQyxNQUFBLGdCQUNBQyxPQUFBLFlBQ0FDLEtBQUEsZUFDQUMsTUFBQSxXQUNBQyxhQVNBcEIsRUFBQXRFLFFBQUEsU0FBQTJGLEdBaUJBLFFBQUFDLEdBQUFDLEVBQUFDLEdBQ0EsR0FBQUMsR0FBQWhLLFFBQUFpSyxXQUFBSCxHQUNBQSxFQUFBQyxFQUFBSCxHQUFBRSxFQUNBbEcsRUFBQXNHLEVBQUFQLFNBQUFPLEVBQUFQLFFBQUFJLElBQUFBLENBQ0EsT0FBQUMsR0FBQWxJLFFBQUEsTUFBQThCLEdBcEJBLEdBQUFzRyxHQUFBM0IsRUFBQUMsU0FBQUcsUUFDQXdCLEVBQUFELEVBQUF0QixVQUNBd0IsRUFBQUYsRUFBQXBCLFNBQ0FQLEdBQUFDLFNBQUFFLGFBQ0EsRUFBQWtCLElBQ0FPLEVBQUFELEVBQUFyQixjQUNBdUIsRUFBQUYsRUFBQW5CLGNBSUEsSUFBQUMsR0FBQW5FLEtBQUF3RixJQUFBVCxHQUFBLElBQ0FWLEVBQUFGLEVBQUEsR0FDQUksRUFBQUYsRUFBQSxHQUNBSSxFQUFBRixFQUFBLEdBQ0FNLEVBQUFKLEVBQUEsSUFTQWdCLEVBQUEsR0FBQXRCLEdBQUFhLEVBQUFLLEVBQUFsQixRQUFBbkUsS0FBQUMsTUFBQWtFLEtBQ0EsR0FBQUEsR0FBQWEsRUFBQUssRUFBQWpCLE9BQUEsSUFDQSxHQUFBQyxHQUFBVyxFQUFBSyxFQUFBaEIsUUFBQXJFLEtBQUFDLE1BQUFvRSxLQUNBLEdBQUFBLEdBQUFXLEVBQUFLLEVBQUFmLEtBQUEsSUFDQSxHQUFBQyxHQUFBUyxFQUFBSyxFQUFBZCxNQUFBdkUsS0FBQUMsTUFBQXNFLEtBQ0EsR0FBQUEsR0FBQVMsRUFBQUssRUFBQWIsSUFBQSxJQUNBLEdBQUFDLEdBQUFPLEVBQUFLLEVBQUFaLEtBQUF6RSxLQUFBQyxNQUFBd0UsS0FDQSxHQUFBQSxHQUFBTyxFQUFBSyxFQUFBWCxNQUFBLElBQ0EsSUFBQUQsR0FBQU8sRUFBQUssRUFBQVYsT0FBQTNFLEtBQUFDLE1BQUF3RSxFQUFBLE1BQ0EsSUFBQUksR0FBQUcsRUFBQUssRUFBQVQsS0FBQSxJQUNBSSxFQUFBSyxFQUFBUixNQUFBN0UsS0FBQUMsTUFBQTRFLElBRUFhLEVBQUFDLFNBQUFOLEVBQUFPLGNBQUEsSUFBQVAsRUFBQU8sYUFDQSxRQUFBTixFQUFBRyxFQUFBRixHQUFBekYsS0FBQTRGLEdBQUFHLFFBR0FuQyxFQUFBMUUsTUFBQSxTQUFBOEcsR0FDQSxHQUFBM0ssUUFBQTRLLFNBQUFELEdBQUEsQ0FDQUEsR0FBQSxFQUVBLElBQUFFLEdBQUEzQyxFQUFBeUMsRUFDQSxPQUFBbEssVUFBQW9LLEVBQUEsSUFFQSxHQUFBcEcsSUFBQWtHLEdBQUEsSUFBQUQsTUFLQSxPQUpBakcsR0FBQUEsRUFBQTNDLFFBQUEsUUFBQSxJQUNBMkMsRUFBQUEsRUFBQTNDLFFBQUEsSUFBQSxLQUFBQSxRQUFBLElBQUEsS0FDQTJDLEVBQUFBLEVBQUEzQyxRQUFBLElBQUEsS0FBQUEsUUFBQSxJQUFBLFFBQ0EyQyxFQUFBQSxFQUFBM0MsUUFBQSx3QkFBQSxTQUNBLEdBQUFSLE1BQUFtRCxJQUdBOEQsSUd0RkF4SSxJQUFBK0ssT0FBQSxXQUNBLFVBQUEsVUFDQSxTQUFBckgsRUFBQUQsR0FDQSxNQUFBLFVBQUFJLEdBQ0EsR0FBQUYsR0FBQUYsRUFBQUssTUFBQUQsR0FDQW1ILEVBQUF0SCxFQUFBTSxVQUFBTCxDQUNBLE9BQUFGLEdBQUFTLFFBQUE4RyxPQ05BaEwsSUFBQWlMLFdBQUEsWUFDQSxhQUFBLFNBQUEsU0FBQSxTQUFBLFdBQ0EsU0FBQWxLLEVBQUFtSyxFQUFBQyxFQUFBQyxFQUFBQyxHQUNBdEssRUFBQXVLLGlCQUFBLEdBRUFKLEVBQUFLLGlCQUFBLFdBQ0FGLEVBQUEzRSxZQUFBOEUsS0FBQSxTQUFBQyxHQUNBMUssRUFBQTJLLFdBQUEsdUJBQUFELEdBQ0FOLEVBQUFRLEdBQUEscUJBQUExSixHQUFBd0osRUFBQXhKLE1BR0EsU0FBQXFGLEdBQ0FzRSxRQUFBQyxJQUFBLE1BQUF2RSxTQ1pBdEgsSUFBQWlMLFdBQUEsZUFDQSxhQUFBLFNBQUEsZUFBQSxXQUNBLFNBQUFsSyxFQUFBbUssRUFBQVksRUFBQVQsR0FHQXRLLEVBQUFnTCxRQUFBVixFQUFBMUQsUUFBQW1FLEVBQUE3SixPQ0xBakMsSUFBQWlMLFdBQUEsc0JBQ0EsYUFBQSxTQUFBLFdBQ0EsU0FBQWxLLEVBQUFtSyxFQUFBRyxPQ0ZBckwsSUFBQWlMLFdBQUEscUJBQ0EsYUFBQSxTQUFBLFdBQ0EsU0FBQWxLLEVBQUFtSyxFQUFBRyxPQ0ZBckwsSUFBQWlMLFdBQUEsdUJBQ0EsYUFBQSxTQUFBLFNBQUEsV0FDQSxTQUFBbEssRUFBQW1LLEVBQUFDLEVBQUFFLEdBT0EsUUFBQVcsR0FBQXhKLEVBQUFuQixHQUNBTixFQUFBZ0wsUUFBQXZKLEdBQUF5SixLQUFBNUssR0FQQTZKLEVBQUFnQixlQUFBLFlBQUEsT0FBQSxVQUdBaEIsRUFBQWlCLFVBQ0FsTSxRQUFBbU0sS0FBQXJMLEVBQUFnTCxRQUFBYixFQUFBaUIsUUFRQWpCLEVBQUF0RCxLQUFBLFdBQ0F5RCxFQUFBekQsS0FBQTdHLEVBQUFnTCxTQUNBUCxLQUFBLFNBQUFDLEdBRUExSyxFQUFBc0wsTUFBQSxtQkFBQVosR0FHQXhMLFFBQUFtTSxLQUFBckwsRUFBQWdMLFFBQUFiLEVBQUFpQixTQUdBLFNBQUE3RSxHQUNBc0UsUUFBQUMsSUFBQSxNQUFBdkUsTUFLQTRELEVBQUFvQixXQUFBLFdBQ0EsR0FBQUMsR0FBQUMsUUFBQSxtREFDQUQsSUFFQXRNLFFBQUFtTSxLQUFBbEIsRUFBQWlCLE9BQUFwTCxFQUFBZ0wsVUFLQWIsRUFBQXVCLGNBQUEsV0FDQSxHQUFBRixHQUFBQyxRQUFBLGdEQUNBLElBQUFELEVBQUEsQ0FDQSxHQUFBRyxHQUFBM0wsRUFBQWdMLFFBQUE5SixFQUVBb0osR0FBQXRJLE9BQUEySixHQUNBbEIsS0FBQSxTQUFBQyxHQUNBMUssRUFBQXNMLE1BQUEsb0JBQUFwSyxHQUFBeUssSUFDQXZCLEVBQUFRLEdBQUEsUUFDQTVLLEVBQUFnTCxZQUdBLFNBQUF6RSxHQUNBc0UsUUFBQUMsSUFBQSxNQUFBdkUsT0FNQTRELEVBQUF5QixZQUFBLFdBQ0EsR0FBQUMsSUFDQUMsUUFBQSxFQUNBQyxLQUFBLEtBQ0FDLE1BQUEsS0FDQUMsT0FBQSxLQUdBaEIsR0FBQSxZQUFBWSxJQUlBMUIsRUFBQStCLFlBQUEsV0FDQSxHQUFBQyxJQUNBTCxRQUFBLEVBQ0FySyxLQUFBLEtBQ0EySyxNQUFBLEtBR0FuQixHQUFBLFlBQUFrQixJQUlBaEMsRUFBQWtDLFVBQUEsV0FDQSxHQUFBQyxJQUNBUixRQUFBLEVBQ0FDLEtBQUEsS0FDQWpKLE1BQUEsS0FDQXlKLEtBQUEsS0FHQXRCLEdBQUEsVUFBQXFCLE1DMUZBLElBQUEvSSxJQUFBQyxRQUFBLEtBRUF2RSxLQUFBaUwsV0FBQSxpQkFDQSxhQUFBLFNBQUEsU0FBQSxXQUNBLFNBQUFsSyxFQUFBbUssRUFBQUMsRUFBQUUsR0FDQUgsRUFBQXFDLFlBR0FyQyxFQUFBcUMsU0FBQWxDLEVBQUEzRCxTQUdBM0csRUFBQXFDLElBQUEsdUJBQUEsU0FBQUMsRUFBQW1LLEdBQ0FBLEdBQUFBLEVBQUF2TCxJQUVBaUosRUFBQXFDLFNBQUFwRyxRQUFBcUcsS0FJQXpNLEVBQUFxQyxJQUFBLG1CQUFBLFNBQUFDLEVBQUFtSyxHQUNBQSxHQUFBQSxFQUFBdkwsSUFFQWlKLEVBQUFxQyxTQUFBekYsSUFBQSxTQUFBQyxFQUFBQyxHQUNBRCxFQUFBOUYsS0FBQXVMLEVBQUF2TCxLQUNBaUosRUFBQXFDLFNBQUF2RixHQUFBd0YsT0FNQXpNLEVBQUFxQyxJQUFBLG1CQUFBLFNBQUFDLEVBQUFtSyxHQUNBQSxHQUFBQSxFQUFBdkwsSUFFQWlKLEVBQUFxQyxTQUFBekYsSUFBQSxTQUFBQyxFQUFBQyxHQUNBRCxFQUFBOUYsS0FBQXVMLEVBQUF2TCxJQUNBaUosRUFBQXFDLFNBQUF0RixPQUFBRCxFQUFBLE9BS0FrRCxFQUFBdUMsWUFBQSxTQUFBeEwsR0FDQSxHQUFBTyxHQUFBLFVBR0EySSxHQUFBUSxHQUFBLFlBQUFuSixHQUFBUCxHQUFBQSxJQUNBbEIsRUFBQXVLLGlCQUFBckosTUN6Q0FqQyxJQUFBME4sU0FBQSxVQUNBQyxJQUFBLFFBQ0FDLFNBRUFDLFVDUEE3TixJQUFBOE4sUUFDQSxpQkFBQSxxQkFDQSxTQUFBQyxFQUFBQyxHQVNBRCxFQUtBRSxNQUFBLFFBQ0E5SCxJQUFBLElBQ0ErSCxZQUFBLGNBTUFELE1BQUEsWUFDQTlILElBQUEsZ0JBQ0ErSCxZQUFBLGdCQUNBakQsV0FBQSxnQkFFQWdELE1BQUEscUJBQ0E5SCxJQUFBLFlBQ0ErSCxZQUFBLHlCQUNBakQsV0FBQSx3QkFFQWdELE1BQUEsbUJBQ0E5SCxJQUFBLFVBQ0ErSCxZQUFBLHVCQUNBakQsV0FBQSxzQkFFQWdELE1BQUEsb0JBQ0E5SCxJQUFBLFdBQ0ErSCxZQUFBLHdCQUNBakQsV0FBQSx1QkFzQkErQyxFQUFBRyxVQUFBLFFDaEVBbk8sSUFBQW9PLEtBQUEsYUFBQSxRQUNBLFNBQUFyTixFQUFBc04sR0FHQSxHQUFBQyxHQUFBRCxFQUFBRSxTQUFBQyxRQUFBQyxNQUNBSCxHQUFBLGdCQUFBLG1CQUVBdk4sRUFBQXFDLElBQUEsb0JBQUEsU0FBQXNMLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFuSixHQUNBaUcsUUFBQUMsSUFBQSxvQkFBQWxHIiwiZmlsZSI6Im11Zy5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBNVUcgPSBhbmd1bGFyLm1vZHVsZSgnbXVnc2hvdCcsIFsndWkucm91dGVyJywgJ211Z3RlbXBsYXRlcyddKTtcbiIsIi8qKlxuICogZmFkZUluXG4gKiBBIGRpcmVjdGl2ZSBmb3IgYW5pbWF0aW5nIGluIGVsZW1lbnRzXG4gKi9cbk1VRy5kaXJlY3RpdmUoJ2ZhZGVJbicsIFsgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHJlc3RyaWN0OiAnQScsXG4gICAgICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxlbSwgYXR0cnMpIHtcbiAgICAgICAgICAgIHZhciBvZmZzZXQgPSBwYXJzZUludChhdHRycy5mYWRlSW4pIHx8IDEwO1xuICAgICAgICAgICAgZWxlbS5hZGRDbGFzcygnZmFkZS1pbicpO1xuXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBlbGVtLmNzcyhcIm9wYWNpdHlcIiwgXCIxXCIpO1xuICAgICAgICAgICAgfSwgb2Zmc2V0KTtcbiAgICAgICAgfVxuICAgIH07XG59XSk7XG4iLCIvKipcbiAqIG1zZ0NlbnRlclxuICogYSBkaXJlY3RpdmUgZm9yIGhhbmRsaW5nIGFsbCBtZXNzYWdlIHJlbGF5IGZvciBhIHVzZXJcbiAqXG4gKiBVU0U6XG4gKiAkcm9vdFNjb3BlLiRicm9hZGNhc3QoJ01TR0NFTlRFUjpGSVJFJywgeyBtc2c6IFwiSGV5IHRoZXJlLCBJbSBhIG1lc3NhZ2UhIVwiLCBkdXI6IDUsIHR5cGU6IFwiaW5mb1wiLCBpY29uOiBcImluZm9cIiwgY2FsbGJhY2s6IGZ1bmN0aW9uKCl7fSB9KTtcbiAqXG4gKiBUWVBFUzpcbiAqIC0gREVGQVVMVCwgc2hvd3MgZ3JlZW4gbWVzc2FnZSwgdXNlZCBmb3Igc3VjY2Vzc1xuICogLSBXYXJuaW5nOiBcIndhcm5cIiAtIHNob3dzIG9yYW5nZSBtZXNzYWdlLCB1c2VkIGZvciBlcnJvcnMgb3Igd2FybmluZ3NcbiAqIC0gSW5mbzogXCJpbmZvXCIgLSBzaG93cyBkYXJrIGJsdWUgbWVzc2FnZSwgdXNlZCBmb3IgZ2VuZXJhbCB0aGluZ3NcbiAqXG4gKiBPUFRJT05TOlxuICogLSBtc2c6IHRoZSBjb250ZW50cyBvZiB0aGUgbWVzc2FnZSwgKFRPRE86IGNhbiBiZSBodG1sIG9yIHNpbXBsZSB0ZXh0KVxuICogLSBjYWxsYmFjazogYSBmdW5jdGlvbiB0byBmaXJlIG9uIGFjdGlvbiB0YWtlbiBvbiBtZXNzYWdlXG4gKiAtIGR1cjogdGhlIHRpbWVvdXQgb2YgdGhlIG1lc3NhZ2VcbiAqIC0gdHlwZTogc2VlIGFib3ZlIHR5cGVzXG4gKiAtIGljb246IGRlZmF1bHQgaXMgZ2xvYmUsIGNhbiBiZSBzZXQgdG8gQU5ZIGktc3ByaXRlcyAoc3ByaXRlcy5sZXNzKVxuICovXG5NVUcuZGlyZWN0aXZlKCdtc2dDZW50ZXInLFxuWyBcIiRyb290U2NvcGVcIiwgXCIkdGltZW91dFwiLCBcIiRjb21waWxlXCIsXG5mdW5jdGlvbiAoJHJvb3RTY29wZSwgJHRpbWVvdXQsICRjb21waWxlKSB7XG4gIHJldHVybiB7XG4gICAgc2NvcGU6IHt9LFxuICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWwsIGF0dHJzLCBjdHJsKSB7XG4gICAgICB2YXIgbXNnVGVtcGxhdGUgPSAnPGRpdiBjbGFzcz1cIm1zZ1wiIG5nLWNsaWNrPVwiYWN0aW9uKClcIj4nK1xuICAgICAgICAgICc8ZGl2IGNsYXNzPVwibXNnLWljblwiPjxpIGNsYXNzPVwiaXcgaS1JQ09OXCI+PC9pPjwvZGl2PicrXG4gICAgICAgICAgJzxkaXYgY2xhc3M9XCJtc2ctY29udFwiPkJPRFk8L2Rpdj4nK1xuICAgICAgICAgICc8ZGl2IGNsYXNzPVwibXNnLWFjdGlvblwiPjxpIGNsYXNzPVwiaWIgaS1yLWFycm93XCI+PC9pPjwvZGl2PicrXG4gICAgICAgICc8L2Rpdj4nO1xuXG4gICAgICB2YXIgX2VsID0gYW5ndWxhci5lbGVtZW50KGVsKTtcbiAgICAgIHZhciB0aW1lcjtcbiAgICAgIHZhciBkdXJhdGlvbiA9IDUwMDA7XG4gICAgICB2YXIgcHJldmlvdXNJZCA9IFwiXCI7XG4gICAgICB2YXIgZGVmYXVsdEljb24gPSBcImluZm9cIjtcblxuICAgICAgc2NvcGUuYm9keSA9IFwiXCI7XG4gICAgICBzY29wZS5jYWxsYmFjayA9IG51bGw7XG4gICAgICBzY29wZS5pY29uID0gZGVmYXVsdEljb247XG4gICAgICBzY29wZS5hY3Rpb24gPSBmdW5jdGlvbigpe1xuICAgICAgICB2YXIgYWN0aW9uRWwgPSBfZWwuZmluZChcIiNcIiArIHRoaXMuaWQpO1xuICAgICAgICBzY29wZS5jYWxsYmFjaygpO1xuICAgICAgICBjbGVhckVsKCBhY3Rpb25FbCApO1xuICAgICAgfTtcblxuICAgICAgZnVuY3Rpb24gc2hvd01lc3NhZ2UgKCBkYXRhICl7XG4gICAgICAgIHZhciBfaWQgPSAoK25ldyBEYXRlKCkpO1xuICAgICAgICB2YXIgbmV3Qm9keSA9IGRhdGEubXNnO1xuICAgICAgICB2YXIgbmV3SWNuID0gKGRhdGEuaWNvbik/IGRhdGEuaWNvbiA6IGRlZmF1bHRJY29uO1xuXG4gICAgICAgIHZhciB0ZW1wbGF0ZSA9IG1zZ1RlbXBsYXRlLnJlcGxhY2UoXCJCT0RZXCIsIG5ld0JvZHkpLnJlcGxhY2UoXCJJQ09OXCIsIG5ld0ljbik7XG4gICAgICAgIHZhciBuZXdNZXNzYWdlID0gJGNvbXBpbGUodGVtcGxhdGUpKHNjb3BlKTtcblxuICAgICAgICAvLyBzZXQgYSB1bmlxdWUgaWRcbiAgICAgICAgbmV3TWVzc2FnZVswXS5pZCA9IF9pZDtcbiAgICAgICAgcHJldmlvdXNJZCA9IF9pZDtcblxuICAgICAgICAvLyB0aHJvdyBpbnRvIGRvbSwgdGhlbiBzaG93IGluIHZpZXcsIHN0YXJ0IHRpbWVyXG4gICAgICAgIF9lbC5hcHBlbmQoIG5ld01lc3NhZ2UgKTtcblxuICAgICAgICAvLyByZW1lbWJlciB0aGUgbmV3IGVsIGZvciBsYXRlclxuICAgICAgICB2YXIgbXNnRWwgPSBfZWwuZmluZChcIiNcIiArIF9pZCk7XG4gICAgICAgIGNoYW5nZVR5cGUoIG1zZ0VsLCBkYXRhLnR5cGUgKTtcblxuICAgICAgICBpZihkYXRhLmNhbGxiYWNrKXtcbiAgICAgICAgICBtc2dFbC5maW5kKFwiLm1zZy1hY3Rpb25cIikuYWRkQ2xhc3MoXCJzaG93XCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc2hvd1xuICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICBtc2dFbC5hZGRDbGFzcygnYWRkJyk7XG4gICAgICAgIH0sIDIwKTtcblxuICAgICAgICB0aW1lciA9ICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgY2xlYXJFbCggbXNnRWwgKTtcbiAgICAgICAgfSwgZHVyYXRpb24pO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBjbGVhckVsICggZWxlbSApIHtcbiAgICAgICAgaWYoIWVsZW0gJiYgcHJldmlvdXNJZCl7XG4gICAgICAgICAgZWxlbSA9IF9lbC5maW5kKFwiI1wiICsgcHJldmlvdXNJZCk7XG4gICAgICAgIH0gZWxzZSBpZighZWxlbSkgeyByZXR1cm47IH1cblxuICAgICAgICBlbGVtLnJlbW92ZUNsYXNzKCdhZGQnKTtcbiAgICAgICAgZWxlbS5hZGRDbGFzcygncmVtb3ZlJyk7XG4gICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgICAgYW5ndWxhci5lbGVtZW50KGVsZW0pLnJlbW92ZSgpO1xuICAgICAgICB9LCAzMDApO1xuICAgICAgfVxuXG4gICAgICAvLyBzZXQgdGhlIHR5cGUgYnkgYSBjbGFzc1xuICAgICAgZnVuY3Rpb24gY2hhbmdlVHlwZSAoIGVsZW0sIHR5cGUgKSB7XG4gICAgICAgIGVsZW0ucmVtb3ZlQ2xhc3MoJ21zZy1pbmZvJyk7XG4gICAgICAgIGVsZW0ucmVtb3ZlQ2xhc3MoJ21zZy13YXJuJyk7XG5cbiAgICAgICAgaWYodHlwZSl7XG4gICAgICAgICAgZWxlbS5hZGRDbGFzcygnbXNnLScgKyB0eXBlKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAkcm9vdFNjb3BlLiRvbignTVNHQ0VOVEVSOkZJUkUnLCBmdW5jdGlvbihlLCBkYXRhKXtcbiAgICAgICAgaWYoIWRhdGEubXNnKXsgcmV0dXJuOyB9XG4gICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodGltZXIpO1xuICAgICAgICBjbGVhckVsKCk7XG5cbiAgICAgICAgaWYoZGF0YS5kdXIpe1xuICAgICAgICAgIGR1cmF0aW9uID0gZGF0YS5kdXIgKiAxMDAwO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYoZGF0YS5jYWxsYmFjayl7XG4gICAgICAgICAgc2NvcGUuY2FsbGJhY2sgPSBkYXRhLmNhbGxiYWNrO1xuICAgICAgICB9XG5cbiAgICAgICAgc2hvd01lc3NhZ2UoIGRhdGEgKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn1dKTtcbiIsIk1VRy5mYWN0b3J5KCd0aW1lQWdvJywgZnVuY3Rpb24gKCkge1xuICB2YXIgc2VydmljZSA9IHt9O1xuXG4gIHNlcnZpY2Uuc2V0dGluZ3MgPSB7XG4gICAgcmVmcmVzaE1pbGxpczogNjAwMDAsXG4gICAgYWxsb3dGdXR1cmU6IGZhbHNlLFxuICAgIHN0cmluZ3M6IHtcbiAgICAgIHByZWZpeEFnbzogbnVsbCxcbiAgICAgIHByZWZpeEZyb21Ob3c6IG51bGwsXG4gICAgICBzdWZmaXhBZ286ICdhZ28nLFxuICAgICAgc3VmZml4RnJvbU5vdzogJ2Zyb20gbm93JyxcbiAgICAgIHNlY29uZHM6ICdsZXNzIHRoYW4gYSBtaW51dGUnLFxuICAgICAgbWludXRlOiAnYWJvdXQgYSBtaW51dGUnLFxuICAgICAgbWludXRlczogJyVkIG1pbnV0ZXMnLFxuICAgICAgaG91cjogJ2Fib3V0IGFuIGhvdXInLFxuICAgICAgaG91cnM6ICclZCBob3VycycsXG4gICAgICBkYXk6ICdhIGRheScsXG4gICAgICBkYXlzOiAnJWQgZGF5cycsXG4gICAgICBtb250aDogJ2Fib3V0IGEgbW9udGgnLFxuICAgICAgbW9udGhzOiAnJWQgbW9udGhzJyxcbiAgICAgIHllYXI6ICdhYm91dCBhIHllYXInLFxuICAgICAgeWVhcnM6ICclZCB5ZWFycycsXG4gICAgICBudW1iZXJzOiBbXVxuICAgIH1cbiAgfTtcblxuICBmdW5jdGlvbiB0cmltRGlnaXRzICggbnVtICkge1xuICAgICAgdmFyIG0gPSBudW0udG9TdHJpbmcoKS5zbGljZSgwLDEzKTtcbiAgICAgIHJldHVybiAobS5sZW5ndGggPT0gMTMpPyBwYXJzZUludChtKSA6IG51bTtcbiAgfVxuXG4gIHNlcnZpY2UuaW5Xb3JkcyA9IGZ1bmN0aW9uIChkaXN0YW5jZU1pbGxpcykge1xuICAgIHZhciAkbCA9IHNlcnZpY2Uuc2V0dGluZ3Muc3RyaW5ncztcbiAgICB2YXIgcHJlZml4ID0gJGwucHJlZml4QWdvO1xuICAgIHZhciBzdWZmaXggPSAkbC5zdWZmaXhBZ287XG4gICAgaWYgKHNlcnZpY2Uuc2V0dGluZ3MuYWxsb3dGdXR1cmUpIHtcbiAgICAgIGlmIChkaXN0YW5jZU1pbGxpcyA8IDApIHtcbiAgICAgICAgcHJlZml4ID0gJGwucHJlZml4RnJvbU5vdztcbiAgICAgICAgc3VmZml4ID0gJGwuc3VmZml4RnJvbU5vdztcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgc2Vjb25kcyA9IE1hdGguYWJzKGRpc3RhbmNlTWlsbGlzKSAvIDEwMDA7XG4gICAgdmFyIG1pbnV0ZXMgPSBzZWNvbmRzIC8gNjA7XG4gICAgdmFyIGhvdXJzID0gbWludXRlcyAvIDYwO1xuICAgIHZhciBkYXlzID0gaG91cnMgLyAyNDtcbiAgICB2YXIgeWVhcnMgPSBkYXlzIC8gMzY1O1xuXG4gICAgZnVuY3Rpb24gc3Vic3RpdHV0ZShzdHJpbmdPckZ1bmN0aW9uLCBudW1iZXIpIHtcbiAgICAgIHZhciBzdHJpbmcgPSBhbmd1bGFyLmlzRnVuY3Rpb24oc3RyaW5nT3JGdW5jdGlvbikgP1xuICAgICAgc3RyaW5nT3JGdW5jdGlvbihudW1iZXIsIGRpc3RhbmNlTWlsbGlzKSA6IHN0cmluZ09yRnVuY3Rpb247XG4gICAgICB2YXIgdmFsdWUgPSAoJGwubnVtYmVycyAmJiAkbC5udW1iZXJzW251bWJlcl0pIHx8IG51bWJlcjtcbiAgICAgIHJldHVybiBzdHJpbmcucmVwbGFjZSgvJWQvaSwgdmFsdWUpO1xuICAgIH1cblxuICAgIHZhciB3b3JkcyA9IHNlY29uZHMgPCA0NSAmJiBzdWJzdGl0dXRlKCRsLnNlY29uZHMsIE1hdGgucm91bmQoc2Vjb25kcykpIHx8XG4gICAgICAgIHNlY29uZHMgPCA5MCAmJiBzdWJzdGl0dXRlKCRsLm1pbnV0ZSwgMSkgfHxcbiAgICAgICAgbWludXRlcyA8IDQ1ICYmIHN1YnN0aXR1dGUoJGwubWludXRlcywgTWF0aC5yb3VuZChtaW51dGVzKSkgfHxcbiAgICAgICAgbWludXRlcyA8IDkwICYmIHN1YnN0aXR1dGUoJGwuaG91ciwgMSkgfHxcbiAgICAgICAgaG91cnMgPCAyNCAmJiBzdWJzdGl0dXRlKCRsLmhvdXJzLCBNYXRoLnJvdW5kKGhvdXJzKSkgfHxcbiAgICAgICAgaG91cnMgPCA0MiAmJiBzdWJzdGl0dXRlKCRsLmRheSwgMSkgfHxcbiAgICAgICAgZGF5cyA8IDMwICYmIHN1YnN0aXR1dGUoJGwuZGF5cywgTWF0aC5yb3VuZChkYXlzKSkgfHxcbiAgICAgICAgZGF5cyA8IDQ1ICYmIHN1YnN0aXR1dGUoJGwubW9udGgsIDEpIHx8XG4gICAgICAgIGRheXMgPCAzNjUgJiYgc3Vic3RpdHV0ZSgkbC5tb250aHMsIE1hdGgucm91bmQoZGF5cyAvIDMwKSkgfHxcbiAgICAgICAgeWVhcnMgPCAxLjUgJiYgc3Vic3RpdHV0ZSgkbC55ZWFyLCAxKSB8fFxuICAgICAgICBzdWJzdGl0dXRlKCRsLnllYXJzLCBNYXRoLnJvdW5kKHllYXJzKSk7XG5cbiAgICB2YXIgc2VwYXJhdG9yID0gJGwud29yZFNlcGFyYXRvciA9PT0gdW5kZWZpbmVkID8gJyAnIDogJGwud29yZFNlcGFyYXRvcjtcbiAgICByZXR1cm4gW3ByZWZpeCwgd29yZHMsIHN1ZmZpeF0uam9pbihzZXBhcmF0b3IpLnRyaW0oKTtcbiAgfTtcblxuICBzZXJ2aWNlLnBhcnNlID0gZnVuY3Rpb24gKGlzbzg2MDEpIHtcbiAgICBpZiAoYW5ndWxhci5pc051bWJlcihpc284NjAxKSkge1xuICAgICAgaXNvODYwMSA9IGlzbzg2MDEgKyBcIlwiO1xuICAgICAgLy8gZm9ybWF0IGZvciBjb3JyZWN0IGxlbmd0aFxuICAgICAgdmFyIG9yaWdpbmFsVGltZXN0YW1wID0gdHJpbURpZ2l0cyggaXNvODYwMSApO1xuICAgICAgcmV0dXJuIHBhcnNlSW50KG9yaWdpbmFsVGltZXN0YW1wLCAxMCk7XG4gICAgfVxuICAgIHZhciBzID0gKGlzbzg2MDEgfHwgJycpLnRyaW0oKTtcbiAgICBzID0gcy5yZXBsYWNlKC9cXC5cXGQrLywgJycpOyAvLyByZW1vdmUgbWlsbGlzZWNvbmRzXG4gICAgcyA9IHMucmVwbGFjZSgvLS8sICcvJykucmVwbGFjZSgvLS8sICcvJyk7XG4gICAgcyA9IHMucmVwbGFjZSgvVC8sICcgJykucmVwbGFjZSgvWi8sICcgVVRDJyk7XG4gICAgcyA9IHMucmVwbGFjZSgvKFtcXCtcXC1dXFxkXFxkKVxcOj8oXFxkXFxkKS8sICcgJDEkMicpOyAvLyAtMDQ6MDAgLT4gLTA0MDBcbiAgICByZXR1cm4gbmV3IERhdGUocyk7XG4gIH07XG5cbiAgcmV0dXJuIHNlcnZpY2U7XG59KTtcbiIsIk1VRy5mYWN0b3J5KCdub3dUaW1lJyxcblsnJHRpbWVvdXQnLFxuZnVuY3Rpb24oJHRpbWVvdXQpIHtcbiAgdmFyIG5vd1RpbWUgPSBEYXRlLm5vdygpO1xuICB2YXIgdXBkYXRlVGltZSA9IGZ1bmN0aW9uKCkge1xuICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgbm93VGltZSA9IERhdGUubm93KCk7XG4gICAgICB1cGRhdGVUaW1lKCk7XG4gICAgfSwgMTAwMCk7XG4gIH07XG5cbiAgdXBkYXRlVGltZSgpO1xuICByZXR1cm4ge1xuICAgIGdldFRpbWU6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIG5vd1RpbWU7XG4gICAgfVxuICB9O1xufV0pO1xuIiwidmFyIGZzID0gcmVxdWlyZSgnZnMnKTtcblxuTVVHLmZhY3RvcnkoJ1Byb2plY3RzJyxcblsnJHEnLFxuZnVuY3Rpb24oJHEpIHtcbiAgLy8gQ29uZmlnIHRoZSBtYWluIHBhdGhzXG4gIHZhciBwcm9qZWN0c1BhdGggPSBfX2Rpcm5hbWUgKyAnL3Byb2plY3RzLmpzb24nO1xuICB2YXIgcHJvamVjdEZpbGVzUGF0aCA9IF9fZGlybmFtZSArICcvcHJvamVjdHMvJztcblxuICAvLyBDcmVhdGVzIGEgVVVJRCBvZiB0aGUgc3BlY2lmaWVkIGxlbmd0aFxuICBmdW5jdGlvbiBjcmVhdGVVVUlEKHMpIHtcbiAgICB2YXIgbjtcbiAgICBpZiAodHlwZW9mIHMgPT0gJ251bWJlcicgJiYgcyA9PT0gcGFyc2VJbnQocywgMTApKSB7XG4gICAgICBzID0gQXJyYXkocyArIDEpLmpvaW4oJ3gnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcy5yZXBsYWNlKC94L2csIGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIG4gPSBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiA2MSkgKyA0ODtcbiAgICAgIG4gPSBuID4gNTcgPyAobiArIDcgPiA5MCA/IG4gKyAxMyA6IG4gKyA3KSA6IG47XG4gICAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShuKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vIENyZWF0ZXMgYSBKU09OIG9iamVjdCBmb3IgYSBiYXNlbGluZSBuZXcgcHJvamVjdFxuICBmdW5jdGlvbiBjcmVhdGVEdW1teVByb2plY3QodG90YWwpIHtcbiAgICB0b3RhbCA9IHRvdGFsIHx8IDA7XG4gICAgdmFyIHByb2plY3RJZCA9IGNyZWF0ZVVVSUQoMTIpO1xuICAgIHJldHVybiB7XG4gICAgICBpZDogcHJvamVjdElkLFxuICAgICAgdGl0bGU6ICdQcm9qZWN0ICcgKyAocGFyc2VJbnQodG90YWwsIDEwKSArIDEpLFxuICAgICAgdGltZXN0YW1wOiAoK25ldyBEYXRlKSxcbiAgICAgIHRvdGFsczoge1xuICAgICAgICBzdWNjZXNzOiBudWxsLFxuICAgICAgICB3YXJuaW5nOiBudWxsLFxuICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgICAgdmlld3M6IDBcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgLy8gU2V0cyB1cCB0aGUgbmVlZGVkIGJhc2UgZGF0YSBmb3Igc3RvcmluZyBhbiBpbmRpdmlkdWFsIHByb2plY3RcbiAgZnVuY3Rpb24gY3JlYXRlRHVtbXlQcm9qZWN0RmlsZShvcHRpb25zKSB7XG4gICAgdmFyIHByb2plY3RJZCA9IGNyZWF0ZVVVSUQoMTIpO1xuICAgIHJldHVybiB7XG4gICAgICBpZDogb3B0aW9ucy5pZCxcbiAgICAgIHRpdGxlOiBvcHRpb25zLnRpdGxlLFxuICAgICAgdGltZXN0YW1wOiBvcHRpb25zLnRpbWVzdGFtcCxcbiAgICAgIHZpZXdwb3J0czogW10sXG4gICAgICBzZWxlY3RvcnM6IFtdLFxuICAgICAgY29va2llczogW10sXG4gICAgICBtZXRhOiB7XG4gICAgICAgIHVybDogbnVsbCxcbiAgICAgICAgcmVhZHlFdmVudDogbnVsbCxcbiAgICAgICAgZGVsYXk6IG51bGwsXG4gICAgICAgIG1pc01hdGNoVGhyZXNob2xkOiBudWxsXG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiB7XG5cbiAgICAvKipcbiAgICAgKiBjcmVhdGVzIGEgbmV3IHByb2plY3QsIGFuZCByZXR1cm5zIHRoZSBkYXRhIGluIGEgcHJvbWlzZVxuICAgICAqL1xuICAgIGNyZWF0ZU5ldzogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgZGZkID0gJHEuZGVmZXIoKTtcbiAgICAgIHZhciBhbGxQcm9qZWN0cyA9IEpTT04ucGFyc2UoZnMucmVhZEZpbGVTeW5jKHByb2plY3RzUGF0aCwgJ3V0ZjgnKSk7XG4gICAgICB2YXIgbmV3UHJvamVjdERhdGEgPSBjcmVhdGVEdW1teVByb2plY3QoYWxsUHJvamVjdHMubGVuZ3RoKTtcbiAgICAgIHZhciBuZXdQcm9qZWN0RmlsZSA9IGNyZWF0ZUR1bW15UHJvamVjdEZpbGUobmV3UHJvamVjdERhdGEpO1xuXG4gICAgICBhbGxQcm9qZWN0cy51bnNoaWZ0KG5ld1Byb2plY3REYXRhKTtcblxuICAgICAgLy8gc2F2ZSB0aGUgZGF0YSB0byB0aGUgcHJvamVjdHMgbGlzdFxuICAgICAgZnMud3JpdGVGaWxlKHByb2plY3RzUGF0aCwgSlNPTi5zdHJpbmdpZnkoYWxsUHJvamVjdHMpLCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgIGRmZC5yZWplY3QoZXJyKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzYXZlIGFzIGFuIGluZGl2aWR1YWwgZmlsZVxuICAgICAgICBmcy53cml0ZUZpbGUocHJvamVjdEZpbGVzUGF0aCArIG5ld1Byb2plY3REYXRhLmlkICsgJy5qc29uJywgSlNPTi5zdHJpbmdpZnkobmV3UHJvamVjdEZpbGUpLCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICBkZmQucmVqZWN0KGVycik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gcmVkaXJlY3QgdXNlciB0byB0aGUgc2V0dGluZ3MgcGFnZVxuICAgICAgICAgIGRmZC5yZXNvbHZlKG5ld1Byb2plY3REYXRhKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIGRmZC5wcm9taXNlO1xuICAgIH0sXG5cbiAgICBnZXRBbGw6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIEpTT04ucGFyc2UoZnMucmVhZEZpbGVTeW5jKHByb2plY3RzUGF0aCwgJ3V0ZjgnKSk7XG4gICAgfSxcblxuICAgIGdldEJ5SWQ6IGZ1bmN0aW9uKGlkKSB7XG4gICAgICByZXR1cm4gSlNPTi5wYXJzZShmcy5yZWFkRmlsZVN5bmMocHJvamVjdEZpbGVzUGF0aCArIGlkICsgJy5qc29uJywgJ3V0ZjgnKSk7XG4gICAgfSxcblxuICAgIC8vIHNhdmUgdG8gZmlsZSBhbmQgbGlzdHMsIHJldHVybiBsaXN0IGRhdGFcbiAgICBzYXZlOiBmdW5jdGlvbihwcm9qZWN0RGF0YSkge1xuICAgICAgdmFyIGRmZCA9ICRxLmRlZmVyKCk7XG4gICAgICB2YXIgYWxsUHJvamVjdHMgPSBKU09OLnBhcnNlKGZzLnJlYWRGaWxlU3luYyhwcm9qZWN0c1BhdGgsICd1dGY4JykpO1xuXG4gICAgICAvLyBVcGRhdGUgdGhlIGxpc3RpbmcgZGF0YVxuICAgICAgYWxsUHJvamVjdHMubWFwKGZ1bmN0aW9uKG9iaiwgaWR4KSB7XG4gICAgICAgIGlmIChvYmouaWQgPT09IHByb2plY3REYXRhLmlkKSB7XG4gICAgICAgICAgYWxsUHJvamVjdHNbaWR4XS50aXRsZSA9IHByb2plY3REYXRhLnRpdGxlO1xuICAgICAgICAgIGFsbFByb2plY3RzW2lkeF0udGltZXN0YW1wID0gKCtuZXcgRGF0ZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICAvLyBzYXZlIGFzIGFuIGluZGl2aWR1YWwgZmlsZVxuICAgICAgZnMud3JpdGVGaWxlKHByb2plY3RGaWxlc1BhdGggKyBwcm9qZWN0RGF0YS5pZCArICcuanNvbicsIEpTT04uc3RyaW5naWZ5KHByb2plY3REYXRhKSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICBkZmQucmVqZWN0KGVycik7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdXBkYXRlIHRoZSBsaXN0aW5nIGRhdGFcbiAgICAgICAgZnMud3JpdGVGaWxlKHByb2plY3RzUGF0aCwgSlNPTi5zdHJpbmdpZnkoYWxsUHJvamVjdHMpLCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICBkZmQucmVqZWN0KGVycik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gcmV0dXJuIHRoZSBsaXN0aW5nIGRhdGEsIHNvIHdlIGNhbiB1cGRhdGUgdGhlIHNpZGVwYW5lbFxuICAgICAgICAgIGRmZC5yZXNvbHZlKHByb2plY3REYXRhKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIGRmZC5wcm9taXNlO1xuICAgIH0sXG5cbiAgICAvLyBSZW1vdmVzIGEgc2luZ2xlIHByb2plY3QgYnkgSURcbiAgICByZW1vdmU6IGZ1bmN0aW9uKGlkKSB7XG4gICAgICB2YXIgZGZkID0gJHEuZGVmZXIoKTtcbiAgICAgIHZhciBhbGxQcm9qZWN0cyA9IEpTT04ucGFyc2UoZnMucmVhZEZpbGVTeW5jKHByb2plY3RzUGF0aCwgJ3V0ZjgnKSk7XG5cbiAgICAgIC8vIFVwZGF0ZSB0aGUgbGlzdGluZyBkYXRhXG4gICAgICBhbGxQcm9qZWN0cy5tYXAoZnVuY3Rpb24ob2JqLCBpZHgpIHtcbiAgICAgICAgaWYgKG9iai5pZCA9PT0gaWQpIHtcbiAgICAgICAgICBhbGxQcm9qZWN0cy5zcGxpY2UoaWR4LCAxKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIC8vIFJlbW92ZSB0aGUgcHJvamVjdCBmaWxlXG4gICAgICBmcy51bmxpbmsocHJvamVjdEZpbGVzUGF0aCArIGlkICsgJy5qc29uJywgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICBkZmQucmVqZWN0KGVycik7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdXBkYXRlIHRoZSBsaXN0aW5nIGRhdGFcbiAgICAgICAgZnMud3JpdGVGaWxlKHByb2plY3RzUGF0aCwgSlNPTi5zdHJpbmdpZnkoYWxsUHJvamVjdHMpLCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICBkZmQucmVqZWN0KGVycik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gcmV0dXJuXG4gICAgICAgICAgZGZkLnJlc29sdmUoKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIGRmZC5wcm9taXNlO1xuICAgIH1cbiAgfTtcbn1dKTtcbiIsIk1VRy5maWx0ZXIoJ3RpbWVBZ28nLFxuWydub3dUaW1lJywgJ3RpbWVBZ28nLFxuZnVuY3Rpb24gKG5vd1RpbWUsIHRpbWVBZ28pIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIHZhciBmcm9tVGltZSA9IHRpbWVBZ28ucGFyc2UodmFsdWUpO1xuICAgIHZhciBkaWZmID0gbm93VGltZS5nZXRUaW1lKCkgLSBmcm9tVGltZTtcbiAgICByZXR1cm4gdGltZUFnby5pbldvcmRzKGRpZmYpO1xuICB9O1xufV0pO1xuIiwiTVVHLmNvbnRyb2xsZXIoJ01haW5DdHJsJyxcblsnJHJvb3RTY29wZScsICckc2NvcGUnLCAnJHN0YXRlJywgJ0NvbmZpZycsICdQcm9qZWN0cycsXG5mdW5jdGlvbigkcm9vdFNjb3BlLCAkc2NvcGUsICRzdGF0ZSwgQ29uZmlnLCBQcm9qZWN0cykge1xuICAkcm9vdFNjb3BlLmN1cnJlbnRQcm9qZWN0SWQgPSAnJztcblxuICAkc2NvcGUuY3JlYXRlTmV3UHJvamVjdCA9IGZ1bmN0aW9uKCkge1xuICAgIFByb2plY3RzLmNyZWF0ZU5ldygpLnRoZW4oZnVuY3Rpb24ocmVzKSB7XG4gICAgICAkcm9vdFNjb3BlLiRicm9hZGNhc3QoJ1NJREVQQU5FTDpORVdQUk9KRUNUJywgcmVzKTtcbiAgICAgICRzdGF0ZS5nbygncHJvamVjdHMuc2V0dGluZ3MnLCB7IGlkOiByZXMuaWQgfSk7XG4gICAgfSxcblxuICAgIGZ1bmN0aW9uKGVycikge1xuICAgICAgY29uc29sZS5sb2coJ2VycicsIGVycik7XG4gICAgfSk7XG4gIH07XG5cbn1dKTtcbiIsIk1VRy5jb250cm9sbGVyKCdQcm9qZWN0Q3RybCcsXG5bJyRyb290U2NvcGUnLCAnJHNjb3BlJywgJyRzdGF0ZVBhcmFtcycsICdQcm9qZWN0cycsXG5mdW5jdGlvbigkcm9vdFNjb3BlLCAkc2NvcGUsICRzdGF0ZVBhcmFtcywgUHJvamVjdHMpIHtcblxuICAvLyBBbGxvdyB0aGUgY2hpbGQgdmlld3MgdG8gYmluZCB0byBzYW1lIHNjb3BlXG4gICRyb290U2NvcGUucHJvamVjdCA9IFByb2plY3RzLmdldEJ5SWQoJHN0YXRlUGFyYW1zLmlkKTtcblxufV0pO1xuIiwiTVVHLmNvbnRyb2xsZXIoJ1Byb2plY3RIaXN0b3J5Q3RybCcsXG5bJyRyb290U2NvcGUnLCAnJHNjb3BlJywgJ1Byb2plY3RzJyxcbmZ1bmN0aW9uKCRyb290U2NvcGUsICRzY29wZSwgUHJvamVjdHMpIHtcblxuICAvLyBBbGxvdyB0aGUgY2hpbGQgdmlld3MgdG8gYmluZCB0byBzYW1lIHNjb3BlXG4gIC8vICRyb290U2NvcGUucHJvamVjdCA9IFByb2plY3RzLmdldEJ5SWQoJHN0YXRlUGFyYW1zLmlkKTtcblxufV0pO1xuIiwiTVVHLmNvbnRyb2xsZXIoJ1Byb2plY3RSdW5uZXJDdHJsJyxcblsnJHJvb3RTY29wZScsICckc2NvcGUnLCAnUHJvamVjdHMnLFxuZnVuY3Rpb24oJHJvb3RTY29wZSwgJHNjb3BlLCBQcm9qZWN0cykge1xuXG4gIC8vIEFsbG93IHRoZSBjaGlsZCB2aWV3cyB0byBiaW5kIHRvIHNhbWUgc2NvcGVcbiAgLy8gJHJvb3RTY29wZS5wcm9qZWN0ID0gUHJvamVjdHMuZ2V0QnlJZCgkc3RhdGVQYXJhbXMuaWQpO1xuXG59XSk7XG4iLCJNVUcuY29udHJvbGxlcignUHJvamVjdFNldHRpbmdzQ3RybCcsXG5bJyRyb290U2NvcGUnLCAnJHNjb3BlJywgJyRzdGF0ZScsICdQcm9qZWN0cycsXG5mdW5jdGlvbigkcm9vdFNjb3BlLCAkc2NvcGUsICRzdGF0ZSwgUHJvamVjdHMpIHtcbiAgJHNjb3BlLnNlbGVjdG9yVHlwZXMgPSBbJ2NvbnRhaW5lcicsICdoaWRlJywgJ3JlbW92ZSddO1xuXG4gIC8vIFRPRE86IHNhdmUgcHJvamVjdCB1cG9uIGNoYW5nZXMgdG8gdmlld3BvcnRzL2Nvb2tpZXM/P1xuICAkc2NvcGUubWFzdGVyID0ge307XG4gIGFuZ3VsYXIuY29weSgkcm9vdFNjb3BlLnByb2plY3QsICRzY29wZS5tYXN0ZXIpO1xuXG4gIGZ1bmN0aW9uIGFkZE5ld1R5cGUodHlwZSwgZGF0YSkge1xuICAgICRyb290U2NvcGUucHJvamVjdFt0eXBlXS5wdXNoKGRhdGEpO1xuICB9XG5cbiAgLy8gVE9ETzogc2V0dXAgdmFsaWRhdGlvbnNcbiAgLy8gc2F2ZSB0aGUgY3VycmVudCBwcm9qZWN0XG4gICRzY29wZS5zYXZlID0gZnVuY3Rpb24oKSB7XG4gICAgUHJvamVjdHMuc2F2ZSgkcm9vdFNjb3BlLnByb2plY3QpXG4gICAgICAudGhlbihmdW5jdGlvbihyZXMpIHtcbiAgICAgICAgLy8gVXBkYXRlIHRoZSBzaWRlYmFyIHdpdGggY2hhbmdlc1xuICAgICAgICAkcm9vdFNjb3BlLiRlbWl0KCdTSURFUEFORUw6VVBEQVRFJywgcmVzKTtcblxuICAgICAgICAvLyBVcGRhdGUgdGhlIHJldmVydCBtb2RlbFxuICAgICAgICBhbmd1bGFyLmNvcHkoJHJvb3RTY29wZS5wcm9qZWN0LCAkc2NvcGUubWFzdGVyKTtcbiAgICAgIH0sXG5cbiAgICAgIGZ1bmN0aW9uKGVycikge1xuICAgICAgICBjb25zb2xlLmxvZygnZXJyJywgZXJyKTtcbiAgICAgIH0pO1xuICB9O1xuXG4gIC8vIHJldmVydCB0aGUgY3VycmVudCBwcm9qZWN0XG4gICRzY29wZS5jYW5jZWxTYXZlID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHN1cmUgPSBjb25maXJtKCdBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gY2xlYXIgYWxsIHlvdXIgY2hhbmdlcz8nKTtcbiAgICBpZiAoc3VyZSkge1xuICAgICAgLy8gcHV0IHJldmVydCBtb2RlbCBpbnRvIHRoZSBwcm9qZWN0IG1vZGVsXG4gICAgICBhbmd1bGFyLmNvcHkoJHNjb3BlLm1hc3RlciwgJHJvb3RTY29wZS5wcm9qZWN0KTtcbiAgICB9XG4gIH07XG5cbiAgLy8gZGVsZXRlIHRoZSBwcm9qZWN0LCBhbmQgcmVtb3ZlIGZyb20gcHJvamVjdCBsaXN0cywgdGhlbiByZWRpcmVjdCB0byBtYWluXG4gICRzY29wZS5kZWxldGVQcm9qZWN0ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHN1cmUgPSBjb25maXJtKCdBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlIHRoaXMgcHJvamVjdD8nKTtcbiAgICBpZiAoc3VyZSkge1xuICAgICAgdmFyIHByb2plY3RJRCA9ICRyb290U2NvcGUucHJvamVjdC5pZDtcblxuICAgICAgUHJvamVjdHMucmVtb3ZlKHByb2plY3RJRClcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzKSB7XG4gICAgICAgICAgJHJvb3RTY29wZS4kZW1pdCgnU0lERVBBTkVMOlJFTU9WRScsIHsgaWQ6IHByb2plY3RJRCB9KTtcbiAgICAgICAgICAkc3RhdGUuZ28oJ21haW4nKTtcbiAgICAgICAgICAkcm9vdFNjb3BlLnByb2plY3QgPSB7fTtcbiAgICAgICAgfSxcblxuICAgICAgICBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnZXJyJywgZXJyKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgLy8gQWRkcyBhIG5ldyB2aWV3cG9ydCBpdGVtXG4gICRzY29wZS5hZGRWaWV3cG9ydCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBuZXdWaWV3cG9ydCA9IHtcbiAgICAgIGFjdGl2ZTogZmFsc2UsXG4gICAgICBuYW1lOiBudWxsLFxuICAgICAgd2lkdGg6IG51bGwsXG4gICAgICBoZWlnaHQ6IG51bGxcbiAgICB9O1xuXG4gICAgYWRkTmV3VHlwZSgndmlld3BvcnRzJywgbmV3Vmlld3BvcnQpO1xuICB9O1xuXG4gIC8vIEFkZHMgYSBuZXcgc2VsZWN0b3IgaXRlbVxuICAkc2NvcGUuYWRkU2VsZWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgbmV3U2VsZWN0b3IgPSB7XG4gICAgICBhY3RpdmU6IGZhbHNlLFxuICAgICAgdHlwZTogbnVsbCxcbiAgICAgIHF1ZXJ5OiBudWxsXG4gICAgfTtcblxuICAgIGFkZE5ld1R5cGUoJ3NlbGVjdG9ycycsIG5ld1NlbGVjdG9yKTtcbiAgfTtcblxuICAvLyBBZGRzIGEgbmV3IGNvb2tpZSBpdGVtXG4gICRzY29wZS5hZGRDb29raWUgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgbmV3Q29va2llID0ge1xuICAgICAgYWN0aXZlOiBmYWxzZSxcbiAgICAgIG5hbWU6IG51bGwsXG4gICAgICB2YWx1ZTogbnVsbCxcbiAgICAgIHBhdGg6IG51bGxcbiAgICB9O1xuXG4gICAgYWRkTmV3VHlwZSgnY29va2llcycsIG5ld0Nvb2tpZSk7XG4gIH07XG5cbiAgLy8gVE9ETzogc2V0dXAgRk4gZm9yIGFjdGl2YXRlIGEgY29va2llL3ZpZXcvc2VsZWN0XG4gIC8vIFRPRE86IHNldHVwIEZOIGZvciByZW1vdmluZyBhIGNvb2tpZS92aWV3L3NlbGVjdFxuXG59XSk7XG4iLCJ2YXIgZnMgPSByZXF1aXJlKCdmcycpO1xuXG5NVUcuY29udHJvbGxlcignU2lkZVBhbmVsQ3RybCcsXG5bJyRyb290U2NvcGUnLCAnJHNjb3BlJywgJyRzdGF0ZScsICdQcm9qZWN0cycsXG5mdW5jdGlvbigkcm9vdFNjb3BlLCAkc2NvcGUsICRzdGF0ZSwgUHJvamVjdHMpIHtcbiAgJHNjb3BlLnByb2plY3RzID0gW107XG5cbiAgLy8gZ3JhYiBhbGwgcHJvamVjdHMgbGlzdFxuICAkc2NvcGUucHJvamVjdHMgPSBQcm9qZWN0cy5nZXRBbGwoKTtcblxuICAvLyBhZGQgbmV3IHByb2plY3QgdG8gdGhlIHByb2plY3RzIGxpc3RcbiAgJHJvb3RTY29wZS4kb24oJ1NJREVQQU5FTDpORVdQUk9KRUNUJywgZnVuY3Rpb24oZSwgYXJncykge1xuICAgIGlmICghYXJncyB8fCAhYXJncy5pZCkgeyByZXR1cm47IH1cblxuICAgICRzY29wZS5wcm9qZWN0cy51bnNoaWZ0KGFyZ3MpO1xuICB9KTtcblxuICAvLyB1cGRhdGUgdGhlIHByb2plY3RzIGxpc3RcbiAgJHJvb3RTY29wZS4kb24oJ1NJREVQQU5FTDpVUERBVEUnLCBmdW5jdGlvbihlLCBhcmdzKSB7XG4gICAgaWYgKCFhcmdzIHx8ICFhcmdzLmlkKSB7IHJldHVybjsgfVxuXG4gICAgJHNjb3BlLnByb2plY3RzLm1hcChmdW5jdGlvbihvYmosIGlkeCkge1xuICAgICAgaWYgKG9iai5pZCA9PT0gYXJncy5pZCkge1xuICAgICAgICAkc2NvcGUucHJvamVjdHNbaWR4XSA9IGFyZ3M7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuXG4gIC8vIHVwZGF0ZSB0aGUgcHJvamVjdHMgbGlzdFxuICAkcm9vdFNjb3BlLiRvbignU0lERVBBTkVMOlJFTU9WRScsIGZ1bmN0aW9uKGUsIGFyZ3MpIHtcbiAgICBpZiAoIWFyZ3MgfHwgIWFyZ3MuaWQpIHsgcmV0dXJuOyB9XG5cbiAgICAkc2NvcGUucHJvamVjdHMubWFwKGZ1bmN0aW9uKG9iaiwgaWR4KSB7XG4gICAgICBpZiAob2JqLmlkID09PSBhcmdzLmlkKSB7XG4gICAgICAgICRzY29wZS5wcm9qZWN0cy5zcGxpY2UoaWR4LCAxKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG5cbiAgJHNjb3BlLmdvVG9Qcm9qZWN0ID0gZnVuY3Rpb24oaWQpIHtcbiAgICB2YXIgdHlwZSA9ICdzZXR0aW5ncyc7XG5cbiAgICAvLyBUT0RPOiBzZXR1cCB0byBmaWd1cmUgb3V0IGlmIHdlIG5lZWQgdG8gZ28gdG8gc2V0dGluZ3MsIG90aGVyd2lzZSBnbyB0byBydW5uZXJcbiAgICAkc3RhdGUuZ28oJ3Byb2plY3RzLicgKyB0eXBlLCB7IGlkOiBpZCB9KTtcbiAgICAkcm9vdFNjb3BlLmN1cnJlbnRQcm9qZWN0SWQgPSBpZDtcbiAgfVxuXG59XSk7XG4iLCIvKipcbiAqIENvbmZpZ1xuICovXG5NVUcuY29uc3RhbnQoXCJDb25maWdcIiwge1xuICBcIkVOVlwiOiBcIlNUQUdFXCIsXG4gIFwiU1RBR0VcIjoge1xuICB9LFxuICBcIlBST0RcIjoge1xuICB9XG59KTtcbiIsIk1VRy5jb25maWcoXG5bJyRzdGF0ZVByb3ZpZGVyJywgJyR1cmxSb3V0ZXJQcm92aWRlcicsXG5mdW5jdGlvbigkc3RhdGVQcm92aWRlciwgJHVybFJvdXRlclByb3ZpZGVyKSB7XG5cbiAgLy8gUm91dGVzXG4gIC8vIC9cbiAgLy8gL3Byb2plY3RzXG4gIC8vIC9wcm9qZWN0cy86aWQvcnVubmVyXG4gIC8vIC9wcm9qZWN0cy86aWQvaGlzdG9yeVxuICAvLyAvcHJvamVjdHMvOmlkL3NldHRpbmdzXG5cbiAgJHN0YXRlUHJvdmlkZXJcblxuICAvKipcbiAgICogQmFzZSBSb3V0ZVxuICAgKi9cbiAgLnN0YXRlKCdtYWluJywge1xuICAgIHVybDogJy8nLFxuICAgIHRlbXBsYXRlVXJsOiAnbWFpbi5odG1sJ1xuICB9KVxuXG4gIC8qKlxuICAgKiBQcm9qZWN0IFJvdXRlc1xuICAgKi9cbiAgLnN0YXRlKCdwcm9qZWN0cycsIHtcbiAgICB1cmw6ICcvcHJvamVjdHMvOmlkJyxcbiAgICB0ZW1wbGF0ZVVybDogJ3Byb2plY3RzLmh0bWwnLFxuICAgIGNvbnRyb2xsZXI6ICdQcm9qZWN0Q3RybCdcbiAgfSlcbiAgLnN0YXRlKCdwcm9qZWN0cy5zZXR0aW5ncycsIHtcbiAgICB1cmw6ICcvc2V0dGluZ3MnLFxuICAgIHRlbXBsYXRlVXJsOiAncHJvamVjdHMuc2V0dGluZ3MuaHRtbCcsXG4gICAgY29udHJvbGxlcjogJ1Byb2plY3RTZXR0aW5nc0N0cmwnXG4gIH0pXG4gIC5zdGF0ZSgncHJvamVjdHMucnVubmVyJywge1xuICAgIHVybDogJy9ydW5uZXInLFxuICAgIHRlbXBsYXRlVXJsOiAncHJvamVjdHMucnVubmVyLmh0bWwnLFxuICAgIGNvbnRyb2xsZXI6ICdQcm9qZWN0UnVubmVyQ3RybCdcbiAgfSlcbiAgLnN0YXRlKCdwcm9qZWN0cy5oaXN0b3J5Jywge1xuICAgIHVybDogJy9oaXN0b3J5JyxcbiAgICB0ZW1wbGF0ZVVybDogJ3Byb2plY3RzLmhpc3RvcnkuaHRtbCcsXG4gICAgY29udHJvbGxlcjogJ1Byb2plY3RIaXN0b3J5Q3RybCdcbiAgfSlcblxuICAvKipcbiAgICogU3RhdGljIFJvdXRlc1xuICAgKi9cblxuICAvLyAuc3RhdGUoJ21haW4uNDA0Jywge1xuICAvLyAgICAgdXJsOiBcIi80MDRcIixcbiAgLy8gICAgIHRlbXBsYXRlVXJsOiBcInRlbXBsYXRlcy80MDQuaHRtbFwiLFxuICAvLyAgICAgaXNFeHRlcm5hbDogdHJ1ZVxuICAvLyB9KVxuXG4gIC8vIEVuZCBvZiB0aGUgd29ybGRcbiAgO1xuXG4gIC8vIHVybCByZS1yb3V0aW5nXG4gIC8vICR1cmxSb3V0ZXJQcm92aWRlclxuICAvLyAgIC53aGVuKCcvcHJvamVjdHMnLCAnLycpXG4gIC8vICAgLndoZW4oJy9wcm9qZWN0cy8nLCAnLycpO1xuXG4gIC8vIGlmIG5vbmUgb2YgdGhlIGFib3ZlIHN0YXRlcyBhcmUgbWF0Y2hlZCwgdXNlIHRoaXMgYXMgdGhlIGZhbGxiYWNrXG4gICR1cmxSb3V0ZXJQcm92aWRlci5vdGhlcndpc2UoJy8nKTtcbn1dKTtcbiIsIk1VRy5ydW4oWyckcm9vdFNjb3BlJywgJyRodHRwJyxcbmZ1bmN0aW9uKCRyb290U2NvcGUsICRodHRwKSB7XG5cbiAgLy8gaGVhZGVyc1xuICB2YXIgJGNvbW1vbiA9ICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uO1xuICAkY29tbW9uWydDb250ZW50LVR5cGUnXSA9ICdhcHBsaWNhdGlvbi9qc29uJztcblxuICAkcm9vdFNjb3BlLiRvbignJHN0YXRlQ2hhbmdlRXJyb3InLCBmdW5jdGlvbihldmVudCwgdG9TdGF0ZSwgdG9QYXJhbXMsIGZyb21TdGF0ZSwgZnJvbVBhcmFtcywgZXJyb3IpIHtcbiAgICBjb25zb2xlLmxvZygnJHN0YXRlQ2hhbmdlRXJyb3InLCBlcnJvcik7XG4gIH0pO1xuXG59XSk7XG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=