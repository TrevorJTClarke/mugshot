var MUG=angular.module("mugshot",["ui.router","mugtemplates"]);MUG.directive("alert",["$rootScope","$timeout","$compile","$templateCache",function(e,t,r,n){return{restrict:"E",replace:!0,template:'<div class="alert-parent"></div>',scope:{},link:function(o,i,c,a){function s(n){var o=+new Date,i=(n.title,n.icon?n.icon:null,e.$new(!0));i.alert={},i.alert.id=o,i.alert.icon=n.icon?n.icon:null,i.alert.type=n.type?n.type:"info",i.alert.title=n.title,i.alert.action=n.callback?function(){this.id;n.callback(),u(this)}:null;var c=r(p)(i);c[0].id=o,d=o,f.append(c),c.addClass(v),t(function(){c.addClass(g)},20),l=t(function(){u(c)},m)}function u(e){if(!e&&d)e=angular.element(document.getElementById(d));else{if(!e)return;e&&(e=angular.element(e))}e.removeClass(g),t(function(){e.remove()},300)}var l,p=n.get("alert.html"),f=angular.element(i),m=5e3,d="",v="alert-active",g="alert-visible";e.$on("ALERT:FIRE",function(e,t){t.title&&(window.clearTimeout(l),u(),t.dur&&(m=1e3*t.dur),s(t))})}}}]),MUG.directive("fadeIn",[function(){return{restrict:"A",link:function(e,t,r){var n=parseInt(r.fadeIn)||10;t.addClass("fade-in"),setTimeout(function(){t.css("opacity","1")},n)}}}]),MUG.directive("modal",["$timeout","$compile","$rootScope",function(e,t,r){return{restrict:"E",replace:!0,templateUrl:"modal.html",scope:{},link:function(e,t,n){function o(t){e.compareItem.a="screens/reference/"+r.project.id+"/"+t.source.replace(r.project.currentBatch+".png",r.project.currentReference+".png"),e.compareItem.b="screens/compare/"+r.project.id+"/"+t.source,e.compareItem.c="screens/compare/"+r.project.id+"/"+t.source.replace(".png","_diff.png")}var i="modal-open",c="modal-visible";e.project=angular.copy(r.project),e.activeOption="sides",e.opacityRange={},e.currentIndex=0,e.activeItem={},e.compareItem={a:"",b:"",c:""},e.viewer={items:[]},e.opacityRange={amount:.8,inverse:.2,percent:"80%"},e.$watch("opacityRange.amount",function(t,r){t!==r&&(e.opacityRange.inverse=(1-t).toFixed(2),e.opacityRange.percent=Math.round(100*t)+"%")}),e.optionMode=function(t){e.activeOption=t},r.$on("MODAL:CLOSE",function(t,r){e.close()}),r.$on("MODAL:OPEN",function(n,a){a&&a.type&&(e.currentIndex=0,e.project=angular.copy(r.project),"preview"===a.type&&(e.activeItem=a.item,e.viewer=a.project||{},e.viewer.items=null),"batch"===a.type&&a.items.length>0&&(e.activeItem=a.items[e.currentIndex],e.viewer=a.project||{},e.viewer.items=a.items,o(e.activeItem)),t.addClass(i),setTimeout(function(){t.addClass(c)},30))}),e.close=function(){t.removeClass(c),setTimeout(function(){t.removeClass(i)},230)},e.modalActionNav=function(t){if(!(e.viewer.items.length<1)){var r,n=e.viewer.items.length-1;r="right"===t?e.currentIndex===n?0:e.currentIndex+1:0===e.currentIndex?n:e.currentIndex-1,e.activeItem=e.viewer.items[r],e.currentIndex=r,o(e.activeItem)}},e.goToIndex=function(t){e.currentIndex!==t&&(e.activeItem=e.viewer.items[t],e.currentIndex=t,o(e.activeItem))}}}}]),MUG.directive("msgCenter",["$rootScope","$timeout","$compile",function(e,t,r){return{scope:{},link:function(n,o,i,c){function a(e){var o=+new Date,i=e.msg,c=e.icon?e.icon:v,a=p.replace("BODY",i).replace("ICON",c),g=r(a)(n);g[0].id=o,d=o,f.append(g);var h=f.find("#"+o);u(h,e.type),e.callback&&h.find(".msg-action").addClass("show"),t(function(){h.addClass("add")},20),l=t(function(){s(h)},m)}function s(e){if(!e&&d)e=f.find("#"+d);else if(!e)return;e.removeClass("add"),e.addClass("remove"),t(function(){angular.element(e).remove()},300)}function u(e,t){e.removeClass("msg-info"),e.removeClass("msg-warn"),t&&e.addClass("msg-"+t)}var l,p='<div class="msg" ng-click="action()"><div class="msg-icn"><i class="iw i-ICON"></i></div><div class="msg-cont">BODY</div><div class="msg-action"><i class="ib i-r-arrow"></i></div></div>',f=angular.element(o),m=5e3,d="",v="info";n.body="",n.callback=null,n.icon=v,n.action=function(){var e=f.find("#"+this.id);n.callback(),s(e)},e.$on("MSGCENTER:FIRE",function(e,t){t.msg&&(window.clearTimeout(l),s(),t.dur&&(m=1e3*t.dur),t.callback&&(n.callback=t.callback),a(t))})}}}]),MUG.directive("timeAgo",["timeAgoService","nowTimeService",function(e,t){return{restrict:"EA",link:function(r,n,o){var i;o.$observe("fromTime",function(t){i=e.parse(t)}),r.$watch(function(){return t.getTime()-i},function(t){angular.element(n).text(e.inWords(t))})}}}]);var fs=require("fs"),async=require("async");MUG.factory("Compare",["$q","Config",function(e,t){function r(e,t){fs.readFile(o+e,"base64",t)}function n(n,o){var c=e.defer(),a={};return resemble.outputSettings(t.Compare),async.map([n,o],r,function(e,t){var r=i+t[0],n=i+t[1];e&&c.reject(e),resemble(r).compareTo(n).ignoreColors().onComplete(function(e){a.report=e,a.src=e.getImageDataUrl(),c.resolve(a)})}),c.promise}var o=__dirname+"/",i="data:image/png;base64,",c=["passed","warning","failed"];return{runSingle:n,getStatus:function(e){var t=parseFloat(e.misMatchPercentage);return.1>t?e.isSameDimensions===!1?c[1]:c[0]:t>.1&&2>t?c[1]:c[2]}}}]),MUG.factory("nowTime",["$timeout",function(e){var t=Date.now(),r=function(){e(function(){t=Date.now(),r()},1e3)};return r(),{getTime:function(){return t}}}]);var fs=require("fs");MUG.factory("Projects",["$q",function(e){function t(e){return"number"==typeof e&&e===parseInt(e,10)&&(e=Array(e+1).join("x")),e.replace(/x/g,function(){var e=Math.round(61*Math.random())+48;return e=e>57?e+7>90?e+13:e+7:e,String.fromCharCode(e)})}function r(e){e=e||0;var r=t(12);return{id:r,title:"Project "+(parseInt(e,10)+1),timestamp:+new Date,totals:{success:null,warning:null,error:null,views:0}}}function n(e){t(12);return{id:e.id,title:e.title,timestamp:e.timestamp,viewports:[],selectors:[],cookies:[],meta:{url:null,readyEvent:null,delay:null,misMatchThreshold:null}}}function o(e,t){var r;try{r=fs.readFileSync(e,"utf8")}catch(n){if("ENOENT"===n.code)return t||{};throw n}return JSON.parse(r)}var i=__dirname+"/projects.json",c=__dirname+"/projects/";return{getAll:function(){return o(i,[])},getById:function(e){return o(c+e+".json")},getTypeById:function(e,t){return o(c+e+"_"+t+".json",[])},createNew:function(){var t=e.defer(),o=JSON.parse(fs.readFileSync(i,"utf8")),a=r(o.length),s=n(a);return o.unshift(a),fs.writeFile(i,JSON.stringify(o),function(e){return e?void t.reject(e):void fs.writeFile(c+a.id+".json",JSON.stringify(s),function(e){return e?void t.reject(e):void t.resolve(a)})}),t.promise},save:function(t){var r=e.defer(),n=JSON.parse(fs.readFileSync(i,"utf8"));return n.map(function(e,r){e.id===t.id&&(n[r].title=t.title,n[r].timestamp=+new Date)}),fs.writeFile(c+t.id+".json",JSON.stringify(t),function(e){return e?void r.reject(e):void fs.writeFile(i,JSON.stringify(n),function(e){return e?void r.reject(e):void r.resolve(t)})}),r.promise},remove:function(t){var r=e.defer(),n=JSON.parse(fs.readFileSync(i,"utf8"));return n.map(function(e,r){e.id===t&&n.splice(r,1)}),fs.unlink(c+t+".json",function(e){return e?void r.reject(e):void fs.writeFile(i,JSON.stringify(n),function(e){return e?void r.reject(e):void r.resolve()})}),r.promise}}}]),MUG.factory("timeAgo",function(){function e(e){var t=e.toString().slice(0,13);return 13==t.length?parseInt(t):e}var t={};return t.settings={refreshMillis:6e4,allowFuture:!1,strings:{prefixAgo:null,prefixFromNow:null,suffixAgo:"ago",suffixFromNow:"from now",seconds:"less than a minute",minute:"about a minute",minutes:"%d minutes",hour:"about an hour",hours:"%d hours",day:"a day",days:"%d days",month:"about a month",months:"%d months",year:"about a year",years:"%d years",numbers:[]}},t.inWords=function(e){function r(t,r){var o=angular.isFunction(t)?t(r,e):t,i=n.numbers&&n.numbers[r]||r;return o.replace(/%d/i,i)}var n=t.settings.strings,o=n.prefixAgo,i=n.suffixAgo;t.settings.allowFuture&&0>e&&(o=n.prefixFromNow,i=n.suffixFromNow);var c=Math.abs(e)/1e3,a=c/60,s=a/60,u=s/24,l=u/365,p=45>c&&r(n.seconds,Math.round(c))||90>c&&r(n.minute,1)||45>a&&r(n.minutes,Math.round(a))||90>a&&r(n.hour,1)||24>s&&r(n.hours,Math.round(s))||42>s&&r(n.day,1)||30>u&&r(n.days,Math.round(u))||45>u&&r(n.month,1)||365>u&&r(n.months,Math.round(u/30))||1.5>l&&r(n.year,1)||r(n.years,Math.round(l)),f=void 0===n.wordSeparator?" ":n.wordSeparator;return[o,p,i].join(f).trim()},t.parse=function(t){if(angular.isNumber(t)){t+="";var r=e(t);return parseInt(r,10)}var n=(t||"").trim();return n=n.replace(/\.\d+/,""),n=n.replace(/-/,"/").replace(/-/,"/"),n=n.replace(/T/," ").replace(/Z/," UTC"),n=n.replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2"),new Date(n)},t}),MUG.filter("timeAgo",["nowTime","timeAgo",function(e,t){return function(r){var n=t.parse(r),o=e.getTime()-n;return t.inWords(o)}}]),MUG.controller("MainCtrl",["$rootScope","$scope","$state","Config","Projects",function(e,t,r,n,o){e.currentProjectId="",t.createNewProject=function(){o.createNew().then(function(t){e.$broadcast("SIDEPANEL:NEWPROJECT",t),r.go("projects.settings",{id:t.id})},function(e){console.log("err",e)})}}]),MUG.controller("ProjectCtrl",["$rootScope","$scope","$stateParams","Projects",function(e,t,r,n){e.project=n.getById(r.id)}]),MUG.controller("ProjectHistoryCtrl",["$rootScope","$scope","$stateParams","Projects",function(e,t,r,n){t.activeFilter="All",t.activeFilterQuery="",t.historyItems=n.getTypeById(r.id,"history"),t.changeFilter=function(e){t.activeFilter=e,t.activeFilterQuery="All"==e?"":e},t.previewItem=function(t){e.$emit("MODAL:OPEN",{type:"preview",item:t,project:e.project})}}]);var ipc=require("ipc");MUG.controller("ProjectRunnerCtrl",["$rootScope","$scope","$timeout","$stateParams","Projects",function(e,t,r,n,o){function i(e){function r(e){if(e.status){var r=0;switch(e.status){case"warning":r=1;break;case"failed":r=2}n[r].items.unshift(e),t.activeData[n[r].type]=t.activeData[n[r].type]+1}}if(!e||e.length<1)return t.hasReference=!1,[];t.activeData={},t.activeData.success=0,t.activeData.warning=0,t.activeData.error=0;var n=[{type:"success",items:[]},{type:"warning",items:[]},{type:"error",items:[]}];return e.map(function(e,n){e.batch===t.currentBatch&&r(e)}),n}function c(){var e=o.getTypeById(n.id,"history");t.batchItems=i(e)}function a(e){e&&e.msg&&e.percent&&(t.progress.percent=parseInt(e.percent,10),t.progress.title=e.msg?e.msg:t.progress.title)}function s(){c(),t.processing=!1}function u(e){console.log("RUNNER:FAILED reason",e),t.processing=!1}t.processing=!1,t.hasSettings=!0,t.hasReference=!0,t.activeFilter="All",t.batchItems=[],t.activeData={},t.currentBatch=e.project.currentBatch||0,t.progress={percent:0},t.activeData=e.project&&e.project.batchHistory?e.project.batchHistory[t.currentBatch]:null,c(),t.previewBatch=function(t){e.$emit("MODAL:OPEN",{type:"batch",items:t,project:e.project})},t.newCompare=function(){t.processing=!0,ipc.send("RUNNER:FIRE",{type:"compare",projectId:e.project.id})},t.newReference=function(){t.processing=!0,ipc.send("RUNNER:FIRE",{type:"reference",projectId:e.project.id})},ipc.on("RUNNER:PROGRESS",a),ipc.on("RUNNER:COMPLETE",s),ipc.on("RUNNER:FAILED",u)}]),MUG.controller("ProjectSettingsCtrl",["$rootScope","$scope","$state","Projects",function(e,t,r,n){function o(t,r){e.project[t].push(r)}var i;t.selectorTypes=["container","hide","remove"],t.hasChanges=!1,t.master={},angular.copy(e.project,t.master),t.$watch("project",function(e,r){e!=r&&(t.hasChanges=!0,t.save())},!0),t.save=function(){i&&window.clearTimeout(i),i=setTimeout(function(){n.save(e.project).then(function(r){e.$emit("SIDEPANEL:UPDATE",r),angular.copy(e.project,t.master),t.hasChanges=!1},function(e){console.log("err",e)})},200)},t.cancelSave=function(){var r=confirm("Are you sure you want to clear all your changes?");r&&(angular.copy(t.master,e.project),t.hasChanges=!1)},t.deleteProject=function(){var o=confirm("Are you sure you want to delete this project?");if(o){var i=e.project.id;n.remove(i).then(function(n){e.$emit("SIDEPANEL:REMOVE",{id:i}),r.go("main"),e.project={},t.hasChanges=!1},function(e){console.log("err",e)})}},t.addViewport=function(){var e={active:!0,name:null,width:null,height:null};o("viewports",e)},t.addSelector=function(){var e={active:!0,type:"container",query:null};o("selectors",e)},t.addCookie=function(){var e={active:!0,name:null,value:null,path:null};o("cookies",e)},t.activateType=function(r,n){e.project[r][n].active=e.project[r][n].active===!0||"true"===e.project[r][n].active?!1:!0,t.save()},t.deleteTypeItem=function(r,n){e.project[r].splice(n,1),t.save()}}]);var fs=require("fs");MUG.controller("SidePanelCtrl",["$rootScope","$scope","$state","Projects",function(e,t,r,n){t.projects=[],t.projects=n.getAll(),e.$on("SIDEPANEL:NEWPROJECT",function(e,r){r&&r.id&&t.projects.unshift(r)}),e.$on("SIDEPANEL:UPDATE",function(e,r){r&&r.id&&t.projects.map(function(e,n){e.id===r.id&&(t.projects[n]=r)})}),e.$on("SIDEPANEL:REMOVE",function(e,r){r&&r.id&&t.projects.map(function(e,n){e.id===r.id&&t.projects.splice(n,1)})}),t.goToProject=function(t){var n="runner";r.go("projects."+n,{id:t}),e.currentProjectId=t}}]),MUG.constant("Config",{ENV:"STAGE",STAGE:{},PROD:{},Compare:{errorColor:{red:255,green:0,blue:255},errorType:"flat",transparency:1,largeImageThreshold:0}}),MUG.config(["$stateProvider","$urlRouterProvider",function(e,t){e.state("main",{url:"/",templateUrl:"main.html"}).state("projects",{url:"/projects/:id",templateUrl:"projects.html",controller:"ProjectCtrl"}).state("projects.settings",{url:"/settings",templateUrl:"projects.settings.html",controller:"ProjectSettingsCtrl"}).state("projects.runner",{url:"/runner",templateUrl:"projects.runner.html",controller:"ProjectRunnerCtrl"}).state("projects.history",{url:"/history",templateUrl:"projects.history.html",controller:"ProjectHistoryCtrl"}),t.otherwise("/")}]),MUG.run(["$rootScope","$http",function(e,t){var r=t.defaults.headers.common;r["Content-Type"]="application/json",e.$on("$stateChangeError",function(e,t,r,n,o,i){console.log("$stateChangeError",i)})}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsImFsZXJ0LmpzIiwiZmFkZWluLmpzIiwibW9kYWwuanMiLCJtc2djZW50ZXIuanMiLCJ0aW1lYWdvLmpzIiwiY29tcGFyZS5qcyIsIm5vd3RpbWUuanMiLCJwcm9qZWN0cy5qcyIsInRpbWUtYWdvLmpzIiwibWFpbmN0cmwuanMiLCJwcm9qZWN0Y3RybC5qcyIsInByb2plY3RoaXN0b3J5Y3RybC5qcyIsInByb2plY3RydW5uZXJjdHJsLmpzIiwicHJvamVjdHNldHRpbmdzY3RybC5qcyIsInNpZGVwYW5lbGN0cmwuanMiLCJjb25maWcuanMiLCJyb3V0ZXMuanMiLCJpbml0LmpzIl0sIm5hbWVzIjpbIk1VRyIsImFuZ3VsYXIiLCJtb2R1bGUiLCJkaXJlY3RpdmUiLCIkcm9vdFNjb3BlIiwiJHRpbWVvdXQiLCIkY29tcGlsZSIsIiR0ZW1wbGF0ZUNhY2hlIiwicmVzdHJpY3QiLCJyZXBsYWNlIiwidGVtcGxhdGUiLCJzY29wZSIsImxpbmsiLCJlbCIsImF0dHJzIiwiY3RybCIsInNob3dNZXNzYWdlIiwiZGF0YSIsIl9pZCIsIkRhdGUiLCIkdG1wU2NvcGUiLCJ0aXRsZSIsImljb24iLCIkbmV3IiwiYWxlcnQiLCJpZCIsInR5cGUiLCJhY3Rpb24iLCJjYWxsYmFjayIsInRoaXMiLCJjbGVhckVsIiwiYWxlcnRFbCIsImFsZXJ0VGVtcGxhdGUiLCJwcmV2aW91c0lkIiwiX2VsIiwiYXBwZW5kIiwiYWRkQ2xhc3MiLCJhbGVydEFjdGl2ZSIsImFsZXJ0VmlzaWJsZSIsInRpbWVyIiwiZHVyYXRpb24iLCJlbGVtIiwiZWxlbWVudCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJyZW1vdmVDbGFzcyIsInJlbW92ZSIsImdldCIsIiRvbiIsImUiLCJ3aW5kb3ciLCJjbGVhclRpbWVvdXQiLCJkdXIiLCJvZmZzZXQiLCJwYXJzZUludCIsImZhZGVJbiIsInNldFRpbWVvdXQiLCJjc3MiLCJ0ZW1wbGF0ZVVybCIsIiRzY29wZSIsIiRlbGVtZW50IiwiJGF0dHIiLCJzZXRBY3RpdmVJdGVtIiwiY29tcGFyZUl0ZW0iLCJhIiwicHJvamVjdCIsInNvdXJjZSIsImN1cnJlbnRCYXRjaCIsImN1cnJlbnRSZWZlcmVuY2UiLCJiIiwiYyIsIm1vZGFsQWN0aXZlIiwibW9kYWxWaXNpYmxlIiwiY29weSIsImFjdGl2ZU9wdGlvbiIsIm9wYWNpdHlSYW5nZSIsImN1cnJlbnRJbmRleCIsImFjdGl2ZUl0ZW0iLCJ2aWV3ZXIiLCJpdGVtcyIsImFtb3VudCIsImludmVyc2UiLCJwZXJjZW50IiwiJHdhdGNoIiwibnYiLCJvdiIsInRvRml4ZWQiLCJNYXRoIiwicm91bmQiLCJvcHRpb25Nb2RlIiwiYXJncyIsImNsb3NlIiwiaXRlbSIsImxlbmd0aCIsIm1vZGFsQWN0aW9uTmF2IiwibmV4dElkeCIsInRvdGFsIiwiZ29Ub0luZGV4IiwiaWR4IiwibmV3Qm9keSIsIm1zZyIsIm5ld0ljbiIsImRlZmF1bHRJY29uIiwibXNnVGVtcGxhdGUiLCJuZXdNZXNzYWdlIiwibXNnRWwiLCJmaW5kIiwiY2hhbmdlVHlwZSIsImJvZHkiLCJhY3Rpb25FbCIsInRpbWVBZ28iLCJub3dUaW1lIiwiZnJvbVRpbWUiLCIkb2JzZXJ2ZSIsInZhbHVlIiwicGFyc2UiLCJnZXRUaW1lIiwidGV4dCIsImluV29yZHMiLCJmcyIsInJlcXVpcmUiLCJhc3luYyIsImZhY3RvcnkiLCIkcSIsIkNvbmZpZyIsInJlYWRBc3luYyIsImZpbGUiLCJyZWFkRmlsZSIsImZpbGVEaXJQcmVmaXgiLCJjb21wYXJlU2luZ2xlIiwiZGZkIiwiZGVmZXIiLCJvdXRwdXQiLCJyZXNlbWJsZSIsIm91dHB1dFNldHRpbmdzIiwiQ29tcGFyZSIsIm1hcCIsImVyciIsInJlc3VsdHMiLCJhRGF0YSIsImltYWdlUHJlZml4IiwiYkRhdGEiLCJyZWplY3QiLCJjb21wYXJlVG8iLCJpZ25vcmVDb2xvcnMiLCJvbkNvbXBsZXRlIiwiZGlmZkRhdGEiLCJyZXBvcnQiLCJzcmMiLCJnZXRJbWFnZURhdGFVcmwiLCJyZXNvbHZlIiwicHJvbWlzZSIsIl9fZGlybmFtZSIsInN0YXR1c1R5cGVzIiwicnVuU2luZ2xlIiwiZ2V0U3RhdHVzIiwibWlzTWF0Y2hWYWx1ZSIsInBhcnNlRmxvYXQiLCJtaXNNYXRjaFBlcmNlbnRhZ2UiLCJpc1NhbWVEaW1lbnNpb25zIiwibm93IiwidXBkYXRlVGltZSIsImNyZWF0ZVVVSUQiLCJzIiwiQXJyYXkiLCJqb2luIiwibiIsInJhbmRvbSIsIlN0cmluZyIsImZyb21DaGFyQ29kZSIsImNyZWF0ZUR1bW15UHJvamVjdCIsInByb2plY3RJZCIsInRpbWVzdGFtcCIsInRvdGFscyIsInN1Y2Nlc3MiLCJ3YXJuaW5nIiwiZXJyb3IiLCJ2aWV3cyIsImNyZWF0ZUR1bW15UHJvamVjdEZpbGUiLCJvcHRpb25zIiwidmlld3BvcnRzIiwic2VsZWN0b3JzIiwiY29va2llcyIsIm1ldGEiLCJ1cmwiLCJyZWFkeUV2ZW50IiwiZGVsYXkiLCJtaXNNYXRjaFRocmVzaG9sZCIsImdldEpzb25GaWxlIiwicGF0aCIsInJlYWRGaWxlU3luYyIsImNvZGUiLCJKU09OIiwicHJvamVjdHNQYXRoIiwicHJvamVjdEZpbGVzUGF0aCIsImdldEFsbCIsImdldEJ5SWQiLCJnZXRUeXBlQnlJZCIsImNyZWF0ZU5ldyIsImFsbFByb2plY3RzIiwibmV3UHJvamVjdERhdGEiLCJuZXdQcm9qZWN0RmlsZSIsInVuc2hpZnQiLCJ3cml0ZUZpbGUiLCJzdHJpbmdpZnkiLCJzYXZlIiwicHJvamVjdERhdGEiLCJvYmoiLCJzcGxpY2UiLCJ1bmxpbmsiLCJ0cmltRGlnaXRzIiwibnVtIiwibSIsInRvU3RyaW5nIiwic2xpY2UiLCJzZXJ2aWNlIiwic2V0dGluZ3MiLCJyZWZyZXNoTWlsbGlzIiwiYWxsb3dGdXR1cmUiLCJzdHJpbmdzIiwicHJlZml4QWdvIiwicHJlZml4RnJvbU5vdyIsInN1ZmZpeEFnbyIsInN1ZmZpeEZyb21Ob3ciLCJzZWNvbmRzIiwibWludXRlIiwibWludXRlcyIsImhvdXIiLCJob3VycyIsImRheSIsImRheXMiLCJtb250aCIsIm1vbnRocyIsInllYXIiLCJ5ZWFycyIsIm51bWJlcnMiLCJkaXN0YW5jZU1pbGxpcyIsInN1YnN0aXR1dGUiLCJzdHJpbmdPckZ1bmN0aW9uIiwibnVtYmVyIiwic3RyaW5nIiwiaXNGdW5jdGlvbiIsIiRsIiwicHJlZml4Iiwic3VmZml4IiwiYWJzIiwid29yZHMiLCJzZXBhcmF0b3IiLCJ1bmRlZmluZWQiLCJ3b3JkU2VwYXJhdG9yIiwidHJpbSIsImlzbzg2MDEiLCJpc051bWJlciIsIm9yaWdpbmFsVGltZXN0YW1wIiwiZmlsdGVyIiwiZGlmZiIsImNvbnRyb2xsZXIiLCIkc3RhdGUiLCJQcm9qZWN0cyIsImN1cnJlbnRQcm9qZWN0SWQiLCJjcmVhdGVOZXdQcm9qZWN0IiwidGhlbiIsInJlcyIsIiRicm9hZGNhc3QiLCJnbyIsImNvbnNvbGUiLCJsb2ciLCIkc3RhdGVQYXJhbXMiLCJhY3RpdmVGaWx0ZXIiLCJhY3RpdmVGaWx0ZXJRdWVyeSIsImhpc3RvcnlJdGVtcyIsImNoYW5nZUZpbHRlciIsInByZXZpZXdJdGVtIiwiJGVtaXQiLCJpcGMiLCJwcm9jZXNzQmF0Y2giLCJhbGxEYXRhIiwicGxhY2VJdGVtIiwic3RhdHVzIiwidGFyZ2V0IiwiZm9ybWF0dGVkIiwiYWN0aXZlRGF0YSIsImhhc1JlZmVyZW5jZSIsImJhdGNoIiwic2V0dXBDdXJyZW50QmF0Y2giLCJoaXN0b3J5RGF0YSIsImJhdGNoSXRlbXMiLCJydW5uZXJFdmVudHMiLCJwcm9ncmVzcyIsInJ1bm5lckNvbXBsZXRlIiwicHJvY2Vzc2luZyIsInJ1bm5lckZhaWxlZCIsInJlYXNvbiIsImhhc1NldHRpbmdzIiwiYmF0Y2hIaXN0b3J5IiwicHJldmlld0JhdGNoIiwibmV3Q29tcGFyZSIsInNlbmQiLCJuZXdSZWZlcmVuY2UiLCJvbiIsImFkZE5ld1R5cGUiLCJwdXNoIiwic2F2ZVRpbWVyIiwic2VsZWN0b3JUeXBlcyIsImhhc0NoYW5nZXMiLCJtYXN0ZXIiLCJuViIsIm9WIiwiY2FuY2VsU2F2ZSIsInN1cmUiLCJjb25maXJtIiwiZGVsZXRlUHJvamVjdCIsInByb2plY3RJRCIsImFkZFZpZXdwb3J0IiwibmV3Vmlld3BvcnQiLCJhY3RpdmUiLCJuYW1lIiwid2lkdGgiLCJoZWlnaHQiLCJhZGRTZWxlY3RvciIsIm5ld1NlbGVjdG9yIiwicXVlcnkiLCJhZGRDb29raWUiLCJuZXdDb29raWUiLCJhY3RpdmF0ZVR5cGUiLCJkZWxldGVUeXBlSXRlbSIsInByb2plY3RzIiwiZ29Ub1Byb2plY3QiLCJjb25zdGFudCIsIkVOViIsIlNUQUdFIiwiUFJPRCIsImVycm9yQ29sb3IiLCJyZWQiLCJncmVlbiIsImJsdWUiLCJlcnJvclR5cGUiLCJ0cmFuc3BhcmVuY3kiLCJsYXJnZUltYWdlVGhyZXNob2xkIiwiY29uZmlnIiwiJHN0YXRlUHJvdmlkZXIiLCIkdXJsUm91dGVyUHJvdmlkZXIiLCJzdGF0ZSIsIm90aGVyd2lzZSIsInJ1biIsIiRodHRwIiwiJGNvbW1vbiIsImRlZmF1bHRzIiwiaGVhZGVycyIsImNvbW1vbiIsImV2ZW50IiwidG9TdGF0ZSIsInRvUGFyYW1zIiwiZnJvbVN0YXRlIiwiZnJvbVBhcmFtcyJdLCJtYXBwaW5ncyI6IkFBQUEsR0FBQUEsS0FBQUMsUUFBQUMsT0FBQSxXQUFBLFlBQUEsZ0JDbUJBRixLQUFBRyxVQUFBLFNBQ0EsYUFBQSxXQUFBLFdBQUEsaUJBQ0EsU0FBQUMsRUFBQUMsRUFBQUMsRUFBQUMsR0FDQSxPQUNBQyxTQUFBLElBQ0FDLFNBQUEsRUFDQUMsU0FBQSxtQ0FDQUMsU0FDQUMsS0FBQSxTQUFBRCxFQUFBRSxFQUFBQyxFQUFBQyxHQVNBLFFBQUFDLEdBQUFDLEdBQ0EsR0FBQUMsSUFBQSxHQUFBQyxNQUdBQyxHQUZBSCxFQUFBSSxNQUNBSixFQUFBLEtBQUFBLEVBQUFLLEtBQUEsS0FDQWxCLEVBQUFtQixNQUFBLEdBR0FILEdBQUFJLFNBQ0FKLEVBQUFJLE1BQUFDLEdBQUFQLEVBQ0FFLEVBQUFJLE1BQUFGLEtBQUFMLEVBQUEsS0FBQUEsRUFBQUssS0FBQSxLQUNBRixFQUFBSSxNQUFBRSxLQUFBVCxFQUFBLEtBQUFBLEVBQUFTLEtBQUEsT0FDQU4sRUFBQUksTUFBQUgsTUFBQUosRUFBQUksTUFDQUQsRUFBQUksTUFBQUcsT0FBQVYsRUFBQVcsU0FBQSxXQUNBQyxLQUFBSixFQUNBUixHQUFBVyxXQUNBRSxFQUFBRCxPQUhBLElBTUEsSUFBQUUsR0FBQXpCLEVBQUEwQixHQUFBWixFQUdBVyxHQUFBLEdBQUFOLEdBQUFQLEVBQ0FlLEVBQUFmLEVBR0FnQixFQUFBQyxPQUFBSixHQUNBQSxFQUFBSyxTQUFBQyxHQUdBaEMsRUFBQSxXQUNBMEIsRUFBQUssU0FBQUUsSUFDQSxJQUVBQyxFQUFBbEMsRUFBQSxXQUNBeUIsRUFBQUMsSUFDQVMsR0FHQSxRQUFBVixHQUFBVyxHQUNBLElBQUFBLEdBQUFSLEVBQ0FRLEVBQUF4QyxRQUFBeUMsUUFBQUMsU0FBQUMsZUFBQVgsUUFDQSxDQUFBLElBQUFRLEVBQ0EsTUFDQUEsS0FDQUEsRUFBQXhDLFFBQUF5QyxRQUFBRCxJQUdBQSxFQUFBSSxZQUFBUCxHQUNBakMsRUFBQSxXQUNBb0MsRUFBQUssVUFDQSxLQTFEQSxHQUVBUCxHQUZBUCxFQUFBekIsRUFBQXdDLElBQUEsY0FDQWIsRUFBQWpDLFFBQUF5QyxRQUFBN0IsR0FFQTJCLEVBQUEsSUFDQVAsRUFBQSxHQUNBSSxFQUFBLGVBQ0FDLEVBQUEsZUF1REFsQyxHQUFBNEMsSUFBQSxhQUFBLFNBQUFDLEVBQUFoQyxHQUNBQSxFQUFBSSxRQUVBNkIsT0FBQUMsYUFBQVosR0FDQVQsSUFFQWIsRUFBQW1DLE1BQ0FaLEVBQUEsSUFBQXZCLEVBQUFtQyxLQUdBcEMsRUFBQUMsV0MvRkFqQixJQUFBRyxVQUFBLFVBQUEsV0FDQSxPQUNBSyxTQUFBLElBQ0FJLEtBQUEsU0FBQUQsRUFBQThCLEVBQUEzQixHQUNBLEdBQUF1QyxHQUFBQyxTQUFBeEMsRUFBQXlDLFNBQUEsRUFDQWQsR0FBQUwsU0FBQSxXQUVBb0IsV0FBQSxXQUNBZixFQUFBZ0IsSUFBQSxVQUFBLE1BQ0FKLFFDTkFyRCxJQUFBRyxVQUFBLFNBQ0EsV0FBQSxXQUFBLGFBQ0EsU0FBQUUsRUFBQUMsRUFBQUYsR0FDQSxPQUNBSSxTQUFBLElBQ0FDLFNBQUEsRUFDQWlELFlBQUEsYUFDQS9DLFNBQ0FDLEtBQUEsU0FBQStDLEVBQUFDLEVBQUFDLEdBZ0NBLFFBQUFDLEdBQUE3QyxHQUNBMEMsRUFBQUksWUFBQUMsRUFBQSxxQkFBQTVELEVBQUE2RCxRQUFBeEMsR0FBQSxJQUFBUixFQUFBaUQsT0FBQXpELFFBQUFMLEVBQUE2RCxRQUFBRSxhQUFBLE9BQUEvRCxFQUFBNkQsUUFBQUcsaUJBQUEsUUFDQVQsRUFBQUksWUFBQU0sRUFBQSxtQkFBQWpFLEVBQUE2RCxRQUFBeEMsR0FBQSxJQUFBUixFQUFBaUQsT0FDQVAsRUFBQUksWUFBQU8sRUFBQSxtQkFBQWxFLEVBQUE2RCxRQUFBeEMsR0FBQSxJQUFBUixFQUFBaUQsT0FBQXpELFFBQUEsT0FBQSxhQWxDQSxHQUFBOEQsR0FBQSxhQUNBQyxFQUFBLGVBRUFiLEdBQUFNLFFBQUFoRSxRQUFBd0UsS0FBQXJFLEVBQUE2RCxTQUNBTixFQUFBZSxhQUFBLFFBQ0FmLEVBQUFnQixnQkFDQWhCLEVBQUFpQixhQUFBLEVBQ0FqQixFQUFBa0IsY0FDQWxCLEVBQUFJLGFBQ0FDLEVBQUEsR0FDQUssRUFBQSxHQUNBQyxFQUFBLElBRUFYLEVBQUFtQixRQUNBQyxVQUVBcEIsRUFBQWdCLGNBQ0FLLE9BQUEsR0FDQUMsUUFBQSxHQUNBQyxRQUFBLE9BR0F2QixFQUFBd0IsT0FBQSxzQkFBQSxTQUFBQyxFQUFBQyxHQUNBRCxJQUFBQyxJQUdBMUIsRUFBQWdCLGFBQUFNLFNBQUEsRUFBQUcsR0FBQUUsUUFBQSxHQUNBM0IsRUFBQWdCLGFBQUFPLFFBQUFLLEtBQUFDLE1BQUEsSUFBQUosR0FBQSxPQVdBekIsRUFBQThCLFdBQUEsU0FBQS9ELEdBQ0FpQyxFQUFBZSxhQUFBaEQsR0FHQXRCLEVBQUE0QyxJQUFBLGNBQUEsU0FBQUMsRUFBQXlDLEdBQ0EvQixFQUFBZ0MsVUFHQXZGLEVBQUE0QyxJQUFBLGFBQUEsU0FBQUMsRUFBQXlDLEdBQ0FBLEdBQUFBLEVBQUFoRSxPQUdBaUMsRUFBQWlCLGFBQUEsRUFDQWpCLEVBQUFNLFFBQUFoRSxRQUFBd0UsS0FBQXJFLEVBQUE2RCxTQUdBLFlBQUF5QixFQUFBaEUsT0FDQWlDLEVBQUFrQixXQUFBYSxFQUFBRSxLQUNBakMsRUFBQW1CLE9BQUFZLEVBQUF6QixZQUNBTixFQUFBbUIsT0FBQUMsTUFBQSxNQUlBLFVBQUFXLEVBQUFoRSxNQUFBZ0UsRUFBQVgsTUFBQWMsT0FBQSxJQUNBbEMsRUFBQWtCLFdBQUFhLEVBQUFYLE1BQUFwQixFQUFBaUIsY0FDQWpCLEVBQUFtQixPQUFBWSxFQUFBekIsWUFDQU4sRUFBQW1CLE9BQUFDLE1BQUFXLEVBQUFYLE1BQ0FqQixFQUFBSCxFQUFBa0IsYUFJQWpCLEVBQUF4QixTQUFBbUMsR0FFQWYsV0FBQSxXQUNBSSxFQUFBeEIsU0FBQW9DLElBQ0EsT0FHQWIsRUFBQWdDLE1BQUEsV0FDQS9CLEVBQUFmLFlBQUEyQixHQUVBaEIsV0FBQSxXQUNBSSxFQUFBZixZQUFBMEIsSUFDQSxNQUlBWixFQUFBbUMsZUFBQSxTQUFBcEUsR0FDQSxLQUFBaUMsRUFBQW1CLE9BQUFDLE1BQUFjLE9BQUEsR0FBQSxDQUVBLEdBQ0FFLEdBREFDLEVBQUFyQyxFQUFBbUIsT0FBQUMsTUFBQWMsT0FBQSxDQUlBRSxHQURBLFVBQUFyRSxFQUNBaUMsRUFBQWlCLGVBQUFvQixFQUFBLEVBQUFyQyxFQUFBaUIsYUFBQSxFQUVBLElBQUFqQixFQUFBaUIsYUFBQW9CLEVBQUFyQyxFQUFBaUIsYUFBQSxFQUdBakIsRUFBQWtCLFdBQUFsQixFQUFBbUIsT0FBQUMsTUFBQWdCLEdBQ0FwQyxFQUFBaUIsYUFBQW1CLEVBQ0FqQyxFQUFBSCxFQUFBa0IsY0FJQWxCLEVBQUFzQyxVQUFBLFNBQUFDLEdBQ0F2QyxFQUFBaUIsZUFBQXNCLElBRUF2QyxFQUFBa0IsV0FBQWxCLEVBQUFtQixPQUFBQyxNQUFBbUIsR0FDQXZDLEVBQUFpQixhQUFBc0IsRUFDQXBDLEVBQUFILEVBQUFrQixtQkN6R0E3RSxJQUFBRyxVQUFBLGFBQ0EsYUFBQSxXQUFBLFdBQ0EsU0FBQUMsRUFBQUMsRUFBQUMsR0FDQSxPQUNBSyxTQUNBQyxLQUFBLFNBQUFELEVBQUFFLEVBQUFDLEVBQUFDLEdBc0JBLFFBQUFDLEdBQUFDLEdBQ0EsR0FBQUMsSUFBQSxHQUFBQyxNQUNBZ0YsRUFBQWxGLEVBQUFtRixJQUNBQyxFQUFBcEYsRUFBQSxLQUFBQSxFQUFBSyxLQUFBZ0YsRUFFQTVGLEVBQUE2RixFQUFBOUYsUUFBQSxPQUFBMEYsR0FBQTFGLFFBQUEsT0FBQTRGLEdBQ0FHLEVBQUFsRyxFQUFBSSxHQUFBQyxFQUdBNkYsR0FBQSxHQUFBL0UsR0FBQVAsRUFDQWUsRUFBQWYsRUFHQWdCLEVBQUFDLE9BQUFxRSxFQUdBLElBQUFDLEdBQUF2RSxFQUFBd0UsS0FBQSxJQUFBeEYsRUFDQXlGLEdBQUFGLEVBQUF4RixFQUFBUyxNQUVBVCxFQUFBVyxVQUNBNkUsRUFBQUMsS0FBQSxlQUFBdEUsU0FBQSxRQUlBL0IsRUFBQSxXQUNBb0csRUFBQXJFLFNBQUEsUUFDQSxJQUVBRyxFQUFBbEMsRUFBQSxXQUNBeUIsRUFBQTJFLElBQ0FqRSxHQUdBLFFBQUFWLEdBQUFXLEdBQ0EsSUFBQUEsR0FBQVIsRUFDQVEsRUFBQVAsRUFBQXdFLEtBQUEsSUFBQXpFLE9BQ0EsS0FBQVEsRUFBQSxNQUVBQSxHQUFBSSxZQUFBLE9BQ0FKLEVBQUFMLFNBQUEsVUFDQS9CLEVBQUEsV0FDQUosUUFBQXlDLFFBQUFELEdBQUFLLFVBQ0EsS0FJQSxRQUFBNkQsR0FBQWxFLEVBQUFmLEdBQ0FlLEVBQUFJLFlBQUEsWUFDQUosRUFBQUksWUFBQSxZQUVBbkIsR0FDQWUsRUFBQUwsU0FBQSxPQUFBVixHQXhFQSxHQU9BYSxHQVBBZ0UsRUFBQSw0TEFNQXJFLEVBQUFqQyxRQUFBeUMsUUFBQTdCLEdBRUEyQixFQUFBLElBQ0FQLEVBQUEsR0FDQXFFLEVBQUEsTUFFQTNGLEdBQUFpRyxLQUFBLEdBQ0FqRyxFQUFBaUIsU0FBQSxLQUNBakIsRUFBQVcsS0FBQWdGLEVBQ0EzRixFQUFBZ0IsT0FBQSxXQUNBLEdBQUFrRixHQUFBM0UsRUFBQXdFLEtBQUEsSUFBQTdFLEtBQUFKLEdBQ0FkLEdBQUFpQixXQUNBRSxFQUFBK0UsSUEwREF6RyxFQUFBNEMsSUFBQSxpQkFBQSxTQUFBQyxFQUFBaEMsR0FDQUEsRUFBQW1GLE1BQ0FsRCxPQUFBQyxhQUFBWixHQUNBVCxJQUVBYixFQUFBbUMsTUFDQVosRUFBQSxJQUFBdkIsRUFBQW1DLEtBR0FuQyxFQUFBVyxXQUNBakIsRUFBQWlCLFNBQUFYLEVBQUFXLFVBR0FaLEVBQUFDLFdDbEhBakIsSUFBQUcsVUFBQSxXQUNBLGlCQUFBLGlCQUNBLFNBQUEyRyxFQUFBQyxHQUNBLE9BQ0F2RyxTQUFBLEtBQ0FJLEtBQUEsU0FBQUQsRUFBQThCLEVBQUEzQixHQUNBLEdBQUFrRyxFQUdBbEcsR0FBQW1HLFNBQUEsV0FBQSxTQUFBQyxHQUNBRixFQUFBRixFQUFBSyxNQUFBRCxLQUlBdkcsRUFBQXdFLE9BQUEsV0FDQSxNQUFBNEIsR0FBQUssVUFBQUosR0FDQSxTQUFBRSxHQUNBakgsUUFBQXlDLFFBQUFELEdBQUE0RSxLQUFBUCxFQUFBUSxRQUFBSixVQ2pCQSxJQUFBSyxJQUFBQyxRQUFBLE1BQ0FDLE1BQUFELFFBQUEsUUFFQXhILEtBQUEwSCxRQUFBLFdBQ0EsS0FBQSxTQUNBLFNBQUFDLEVBQUFDLEdBT0EsUUFBQUMsR0FBQUMsRUFBQWxHLEdBQ0EyRixHQUFBUSxTQUFBQyxFQUFBRixFQUFBLFNBQUFsRyxHQUlBLFFBQUFxRyxHQUFBakUsRUFBQUssR0FDQSxHQUFBNkQsR0FBQVAsRUFBQVEsUUFDQUMsSUEyQkEsT0F4QkFDLFVBQUFDLGVBQUFWLEVBQUFXLFNBR0FkLE1BQUFlLEtBQUF4RSxFQUFBSyxHQUFBd0QsRUFBQSxTQUFBWSxFQUFBQyxHQUNBLEdBQUFDLEdBQUFDLEVBQUFGLEVBQUEsR0FDQUcsRUFBQUQsRUFBQUYsRUFBQSxFQUdBRCxJQUNBUCxFQUFBWSxPQUFBTCxHQUlBSixTQUFBTSxHQUNBSSxVQUFBRixHQUNBRyxlQUNBQyxXQUFBLFNBQUFDLEdBQ0FkLEVBQUFlLE9BQUFELEVBQ0FkLEVBQUFnQixJQUFBRixFQUFBRyxrQkFFQW5CLEVBQUFvQixRQUFBbEIsT0FJQUYsRUFBQXFCLFFBdkNBLEdBQUF2QixHQUFBd0IsVUFBQSxJQUNBWixFQUFBLHlCQUNBYSxHQUFBLFNBQUEsVUFBQSxTQXdDQSxRQUtBQyxVQUFBekIsRUFLQTBCLFVBQUEsU0FBQTFJLEdBQ0EsR0FBQTJJLEdBQUFDLFdBQUE1SSxFQUFBNkksbUJBR0EsT0FBQSxHQUFBRixFQUdBM0ksRUFBQThJLG9CQUFBLEVBQ0FOLEVBQUEsR0FFQUEsRUFBQSxHQUtBRyxFQUFBLElBQUEsRUFBQUEsRUFDQUgsRUFBQSxHQUlBQSxFQUFBLFFDL0VBekosSUFBQTBILFFBQUEsV0FDQSxXQUNBLFNBQUFySCxHQUNBLEdBQUEwRyxHQUFBNUYsS0FBQTZJLE1BQ0FDLEVBQUEsV0FDQTVKLEVBQUEsV0FDQTBHLEVBQUE1RixLQUFBNkksTUFDQUMsS0FDQSxLQUlBLE9BREFBLE1BRUE3QyxRQUFBLFdBQ0EsTUFBQUwsT0NkQSxJQUFBUSxJQUFBQyxRQUFBLEtBRUF4SCxLQUFBMEgsUUFBQSxZQUNBLEtBQ0EsU0FBQUMsR0FNQSxRQUFBdUMsR0FBQUMsR0FNQSxNQUpBLGdCQUFBQSxJQUFBQSxJQUFBN0csU0FBQTZHLEVBQUEsTUFDQUEsRUFBQUMsTUFBQUQsRUFBQSxHQUFBRSxLQUFBLE1BR0FGLEVBQUExSixRQUFBLEtBQUEsV0FDQSxHQUFBNkosR0FBQS9FLEtBQUFDLE1BQUEsR0FBQUQsS0FBQWdGLFVBQUEsRUFFQSxPQURBRCxHQUFBQSxFQUFBLEdBQUFBLEVBQUEsRUFBQSxHQUFBQSxFQUFBLEdBQUFBLEVBQUEsRUFBQUEsRUFDQUUsT0FBQUMsYUFBQUgsS0FLQSxRQUFBSSxHQUFBMUUsR0FDQUEsRUFBQUEsR0FBQSxDQUNBLElBQUEyRSxHQUFBVCxFQUFBLEdBQ0EsUUFDQXpJLEdBQUFrSixFQUNBdEosTUFBQSxZQUFBaUMsU0FBQTBDLEVBQUEsSUFBQSxHQUNBNEUsV0FBQSxHQUFBekosTUFDQTBKLFFBQ0FDLFFBQUEsS0FDQUMsUUFBQSxLQUNBQyxNQUFBLEtBQ0FDLE1BQUEsSUFNQSxRQUFBQyxHQUFBQyxHQUNBakIsRUFBQSxHQUNBLFFBQ0F6SSxHQUFBMEosRUFBQTFKLEdBQ0FKLE1BQUE4SixFQUFBOUosTUFDQXVKLFVBQUFPLEVBQUFQLFVBQ0FRLGFBQ0FDLGFBQ0FDLFdBQ0FDLE1BQ0FDLElBQUEsS0FDQUMsV0FBQSxLQUNBQyxNQUFBLEtBQ0FDLGtCQUFBLE9BTUEsUUFBQUMsR0FBQUMsRUFBQW5LLEdBQ0EsR0FBQW9HLEVBRUEsS0FDQUEsRUFBQVAsR0FBQXVFLGFBQUFELEVBQUEsUUFDQSxNQUFBNUksR0FFQSxHQUFBLFdBQUFBLEVBQUE4SSxLQUNBLE1BQUFySyxNQUVBLE1BQUF1QixHQUlBLE1BQUErSSxNQUFBN0UsTUFBQVcsR0FwRUEsR0FBQW1FLEdBQUF6QyxVQUFBLGlCQUNBMEMsRUFBQTFDLFVBQUEsWUFzRUEsUUFFQTJDLE9BQUEsV0FDQSxNQUFBUCxHQUFBSyxPQUdBRyxRQUFBLFNBQUEzSyxHQUNBLE1BQUFtSyxHQUFBTSxFQUFBekssRUFBQSxVQUdBNEssWUFBQSxTQUFBNUssRUFBQUMsR0FDQSxNQUFBa0ssR0FBQU0sRUFBQXpLLEVBQUEsSUFBQUMsRUFBQSxhQU1BNEssVUFBQSxXQUNBLEdBQUFwRSxHQUFBUCxFQUFBUSxRQUNBb0UsRUFBQVAsS0FBQTdFLE1BQUFJLEdBQUF1RSxhQUFBRyxFQUFBLFNBQ0FPLEVBQUE5QixFQUFBNkIsRUFBQTFHLFFBQ0E0RyxFQUFBdkIsRUFBQXNCLEVBdUJBLE9BckJBRCxHQUFBRyxRQUFBRixHQUdBakYsR0FBQW9GLFVBQUFWLEVBQUFELEtBQUFZLFVBQUFMLEdBQUEsU0FBQTlELEdBQ0EsTUFBQUEsT0FDQVAsR0FBQVksT0FBQUwsT0FLQWxCLElBQUFvRixVQUFBVCxFQUFBTSxFQUFBL0ssR0FBQSxRQUFBdUssS0FBQVksVUFBQUgsR0FBQSxTQUFBaEUsR0FDQSxNQUFBQSxPQUNBUCxHQUFBWSxPQUFBTCxPQUtBUCxHQUFBb0IsUUFBQWtELE9BSUF0RSxFQUFBcUIsU0FJQXNELEtBQUEsU0FBQUMsR0FDQSxHQUFBNUUsR0FBQVAsRUFBQVEsUUFDQW9FLEVBQUFQLEtBQUE3RSxNQUFBSSxHQUFBdUUsYUFBQUcsRUFBQSxRQTZCQSxPQTFCQU0sR0FBQS9ELElBQUEsU0FBQXVFLEVBQUE3RyxHQUNBNkcsRUFBQXRMLEtBQUFxTCxFQUFBckwsS0FDQThLLEVBQUFyRyxHQUFBN0UsTUFBQXlMLEVBQUF6TCxNQUNBa0wsRUFBQXJHLEdBQUEwRSxXQUFBLEdBQUF6SixTQUtBb0csR0FBQW9GLFVBQUFULEVBQUFZLEVBQUFyTCxHQUFBLFFBQUF1SyxLQUFBWSxVQUFBRSxHQUFBLFNBQUFyRSxHQUNBLE1BQUFBLE9BQ0FQLEdBQUFZLE9BQUFMLE9BS0FsQixJQUFBb0YsVUFBQVYsRUFBQUQsS0FBQVksVUFBQUwsR0FBQSxTQUFBOUQsR0FDQSxNQUFBQSxPQUNBUCxHQUFBWSxPQUFBTCxPQUtBUCxHQUFBb0IsUUFBQXdELE9BSUE1RSxFQUFBcUIsU0FJQXpHLE9BQUEsU0FBQXJCLEdBQ0EsR0FBQXlHLEdBQUFQLEVBQUFRLFFBQ0FvRSxFQUFBUCxLQUFBN0UsTUFBQUksR0FBQXVFLGFBQUFHLEVBQUEsUUE0QkEsT0F6QkFNLEdBQUEvRCxJQUFBLFNBQUF1RSxFQUFBN0csR0FDQTZHLEVBQUF0TCxLQUFBQSxHQUNBOEssRUFBQVMsT0FBQTlHLEVBQUEsS0FLQXFCLEdBQUEwRixPQUFBZixFQUFBekssRUFBQSxRQUFBLFNBQUFnSCxHQUNBLE1BQUFBLE9BQ0FQLEdBQUFZLE9BQUFMLE9BS0FsQixJQUFBb0YsVUFBQVYsRUFBQUQsS0FBQVksVUFBQUwsR0FBQSxTQUFBOUQsR0FDQSxNQUFBQSxPQUNBUCxHQUFBWSxPQUFBTCxPQUtBUCxHQUFBb0IsY0FJQXBCLEVBQUFxQixhSDlMQXZKLElBQUEwSCxRQUFBLFVBQUEsV0EwQkEsUUFBQXdGLEdBQUFDLEdBQ0EsR0FBQUMsR0FBQUQsRUFBQUUsV0FBQUMsTUFBQSxFQUFBLEdBQ0EsT0FBQSxLQUFBRixFQUFBdkgsT0FBQXZDLFNBQUE4SixHQUFBRCxFQTNCQSxHQUFBSSxLQXFGQSxPQW5GQUEsR0FBQUMsVUFDQUMsY0FBQSxJQUNBQyxhQUFBLEVBQ0FDLFNBQ0FDLFVBQUEsS0FDQUMsY0FBQSxLQUNBQyxVQUFBLE1BQ0FDLGNBQUEsV0FDQUMsUUFBQSxxQkFDQUMsT0FBQSxpQkFDQUMsUUFBQSxhQUNBQyxLQUFBLGdCQUNBQyxNQUFBLFdBQ0FDLElBQUEsUUFDQUMsS0FBQSxVQUNBQyxNQUFBLGdCQUNBQyxPQUFBLFlBQ0FDLEtBQUEsZUFDQUMsTUFBQSxXQUNBQyxhQVNBcEIsRUFBQWpHLFFBQUEsU0FBQXNILEdBaUJBLFFBQUFDLEdBQUFDLEVBQUFDLEdBQ0EsR0FBQUMsR0FBQS9PLFFBQUFnUCxXQUFBSCxHQUNBQSxFQUFBQyxFQUFBSCxHQUFBRSxFQUNBNUgsRUFBQWdJLEVBQUFQLFNBQUFPLEVBQUFQLFFBQUFJLElBQUFBLENBQ0EsT0FBQUMsR0FBQXZPLFFBQUEsTUFBQXlHLEdBcEJBLEdBQUFnSSxHQUFBM0IsRUFBQUMsU0FBQUcsUUFDQXdCLEVBQUFELEVBQUF0QixVQUNBd0IsRUFBQUYsRUFBQXBCLFNBQ0FQLEdBQUFDLFNBQUFFLGFBQ0EsRUFBQWtCLElBQ0FPLEVBQUFELEVBQUFyQixjQUNBdUIsRUFBQUYsRUFBQW5CLGNBSUEsSUFBQUMsR0FBQXpJLEtBQUE4SixJQUFBVCxHQUFBLElBQ0FWLEVBQUFGLEVBQUEsR0FDQUksRUFBQUYsRUFBQSxHQUNBSSxFQUFBRixFQUFBLEdBQ0FNLEVBQUFKLEVBQUEsSUFTQWdCLEVBQUEsR0FBQXRCLEdBQUFhLEVBQUFLLEVBQUFsQixRQUFBekksS0FBQUMsTUFBQXdJLEtBQ0EsR0FBQUEsR0FBQWEsRUFBQUssRUFBQWpCLE9BQUEsSUFDQSxHQUFBQyxHQUFBVyxFQUFBSyxFQUFBaEIsUUFBQTNJLEtBQUFDLE1BQUEwSSxLQUNBLEdBQUFBLEdBQUFXLEVBQUFLLEVBQUFmLEtBQUEsSUFDQSxHQUFBQyxHQUFBUyxFQUFBSyxFQUFBZCxNQUFBN0ksS0FBQUMsTUFBQTRJLEtBQ0EsR0FBQUEsR0FBQVMsRUFBQUssRUFBQWIsSUFBQSxJQUNBLEdBQUFDLEdBQUFPLEVBQUFLLEVBQUFaLEtBQUEvSSxLQUFBQyxNQUFBOEksS0FDQSxHQUFBQSxHQUFBTyxFQUFBSyxFQUFBWCxNQUFBLElBQ0EsSUFBQUQsR0FBQU8sRUFBQUssRUFBQVYsT0FBQWpKLEtBQUFDLE1BQUE4SSxFQUFBLE1BQ0EsSUFBQUksR0FBQUcsRUFBQUssRUFBQVQsS0FBQSxJQUNBSSxFQUFBSyxFQUFBUixNQUFBbkosS0FBQUMsTUFBQWtKLElBRUFhLEVBQUFDLFNBQUFOLEVBQUFPLGNBQUEsSUFBQVAsRUFBQU8sYUFDQSxRQUFBTixFQUFBRyxFQUFBRixHQUFBL0UsS0FBQWtGLEdBQUFHLFFBR0FuQyxFQUFBcEcsTUFBQSxTQUFBd0ksR0FDQSxHQUFBMVAsUUFBQTJQLFNBQUFELEdBQUEsQ0FDQUEsR0FBQSxFQUVBLElBQUFFLEdBQUEzQyxFQUFBeUMsRUFDQSxPQUFBck0sVUFBQXVNLEVBQUEsSUFFQSxHQUFBMUYsSUFBQXdGLEdBQUEsSUFBQUQsTUFLQSxPQUpBdkYsR0FBQUEsRUFBQTFKLFFBQUEsUUFBQSxJQUNBMEosRUFBQUEsRUFBQTFKLFFBQUEsSUFBQSxLQUFBQSxRQUFBLElBQUEsS0FDQTBKLEVBQUFBLEVBQUExSixRQUFBLElBQUEsS0FBQUEsUUFBQSxJQUFBLFFBQ0EwSixFQUFBQSxFQUFBMUosUUFBQSx3QkFBQSxTQUNBLEdBQUFVLE1BQUFnSixJQUdBb0QsSUl0RkF2TixJQUFBOFAsT0FBQSxXQUNBLFVBQUEsVUFDQSxTQUFBL0ksRUFBQUQsR0FDQSxNQUFBLFVBQUFJLEdBQ0EsR0FBQUYsR0FBQUYsRUFBQUssTUFBQUQsR0FDQTZJLEVBQUFoSixFQUFBSyxVQUFBSixDQUNBLE9BQUFGLEdBQUFRLFFBQUF5SSxPQ05BL1AsSUFBQWdRLFdBQUEsWUFDQSxhQUFBLFNBQUEsU0FBQSxTQUFBLFdBQ0EsU0FBQTVQLEVBQUF1RCxFQUFBc00sRUFBQXJJLEVBQUFzSSxHQUNBOVAsRUFBQStQLGlCQUFBLEdBRUF4TSxFQUFBeU0saUJBQUEsV0FDQUYsRUFBQTVELFlBQUErRCxLQUFBLFNBQUFDLEdBQ0FsUSxFQUFBbVEsV0FBQSx1QkFBQUQsR0FDQUwsRUFBQU8sR0FBQSxxQkFBQS9PLEdBQUE2TyxFQUFBN08sTUFHQSxTQUFBZ0gsR0FDQWdJLFFBQUFDLElBQUEsTUFBQWpJLFNDWkF6SSxJQUFBZ1EsV0FBQSxlQUNBLGFBQUEsU0FBQSxlQUFBLFdBQ0EsU0FBQTVQLEVBQUF1RCxFQUFBZ04sRUFBQVQsR0FHQTlQLEVBQUE2RCxRQUFBaU0sRUFBQTlELFFBQUF1RSxFQUFBbFAsT0NMQXpCLElBQUFnUSxXQUFBLHNCQUNBLGFBQUEsU0FBQSxlQUFBLFdBQ0EsU0FBQTVQLEVBQUF1RCxFQUFBZ04sRUFBQVQsR0FDQXZNLEVBQUFpTixhQUFBLE1BQ0FqTixFQUFBa04sa0JBQUEsR0FHQWxOLEVBQUFtTixhQUFBWixFQUFBN0QsWUFBQXNFLEVBQUFsUCxHQUFBLFdBRUFrQyxFQUFBb04sYUFBQSxTQUFBclAsR0FDQWlDLEVBQUFpTixhQUFBbFAsRUFDQWlDLEVBQUFrTixrQkFBQSxPQUFBblAsRUFBQSxHQUFBQSxHQUdBaUMsRUFBQXFOLFlBQUEsU0FBQXBMLEdBQ0F4RixFQUFBNlEsTUFBQSxjQUFBdlAsS0FBQSxVQUFBa0UsS0FBQUEsRUFBQTNCLFFBQUE3RCxFQUFBNkQsYUNmQSxJQUFBaU4sS0FBQTFKLFFBQUEsTUFFQXhILEtBQUFnUSxXQUFBLHFCQUNBLGFBQUEsU0FBQSxXQUFBLGVBQUEsV0FDQSxTQUFBNVAsRUFBQXVELEVBQUF0RCxFQUFBc1EsRUFBQVQsR0FnQkEsUUFBQWlCLEdBQUFDLEdBYUEsUUFBQUMsR0FBQXpMLEdBR0EsR0FBQUEsRUFBQTBMLE9BQUEsQ0FDQSxHQUFBQyxHQUFBLENBRUEsUUFBQTNMLEVBQUEwTCxRQUNBLElBQUEsVUFDQUMsRUFBQSxDQUNBLE1BQ0EsS0FBQSxTQUNBQSxFQUFBLEVBSUFDLEVBQUFELEdBQUF4TSxNQUFBMkgsUUFBQTlHLEdBQ0FqQyxFQUFBOE4sV0FBQUQsRUFBQUQsR0FBQTdQLE1BQUFpQyxFQUFBOE4sV0FBQUQsRUFBQUQsR0FBQTdQLE1BQUEsR0E1QkEsSUFBQTBQLEdBQUFBLEVBQUF2TCxPQUFBLEVBRUEsTUFEQWxDLEdBQUErTixjQUFBLElBS0EvTixHQUFBOE4sY0FDQTlOLEVBQUE4TixXQUFBM0csUUFBQSxFQUNBbkgsRUFBQThOLFdBQUExRyxRQUFBLEVBQ0FwSCxFQUFBOE4sV0FBQXpHLE1BQUEsQ0FDQSxJQUFBd0csS0FBQTlQLEtBQUEsVUFBQXFELFdBQUFyRCxLQUFBLFVBQUFxRCxXQUFBckQsS0FBQSxRQUFBcUQsVUE0QkEsT0FOQXFNLEdBQUE1SSxJQUFBLFNBQUF1RSxFQUFBN0csR0FDQTZHLEVBQUE0RSxRQUFBaE8sRUFBQVEsY0FDQWtOLEVBQUF0RSxLQUlBeUUsRUFHQSxRQUFBSSxLQUVBLEdBQUFDLEdBQUEzQixFQUFBN0QsWUFBQXNFLEVBQUFsUCxHQUFBLFVBR0FrQyxHQUFBbU8sV0FBQVgsRUFBQVUsR0E0QkEsUUFBQUUsR0FBQXJNLEdBQ0FBLEdBQUFBLEVBQUFVLEtBQUFWLEVBQUFSLFVBR0F2QixFQUFBcU8sU0FBQTlNLFFBQUE1QixTQUFBb0MsRUFBQVIsUUFBQSxJQUNBdkIsRUFBQXFPLFNBQUEzUSxNQUFBcUUsRUFBQSxJQUFBQSxFQUFBVSxJQUFBekMsRUFBQXFPLFNBQUEzUSxPQUdBLFFBQUE0USxLQUNBTCxJQUNBak8sRUFBQXVPLFlBQUEsRUFHQSxRQUFBQyxHQUFBQyxHQUNBM0IsUUFBQUMsSUFBQSx1QkFBQTBCLEdBQ0F6TyxFQUFBdU8sWUFBQSxFQXpHQXZPLEVBQUF1TyxZQUFBLEVBQ0F2TyxFQUFBME8sYUFBQSxFQUNBMU8sRUFBQStOLGNBQUEsRUFDQS9OLEVBQUFpTixhQUFBLE1BQ0FqTixFQUFBbU8sY0FDQW5PLEVBQUE4TixjQUNBOU4sRUFBQVEsYUFBQS9ELEVBQUE2RCxRQUFBRSxjQUFBLEVBQ0FSLEVBQUFxTyxVQUNBOU0sUUFBQSxHQUlBdkIsRUFBQThOLFdBQUFyUixFQUFBNkQsU0FBQTdELEVBQUE2RCxRQUFBcU8sYUFBQWxTLEVBQUE2RCxRQUFBcU8sYUFBQTNPLEVBQUFRLGNBQUEsS0FxREF5TixJQVNBak8sRUFBQTRPLGFBQUEsU0FBQXhOLEdBQ0EzRSxFQUFBNlEsTUFBQSxjQUFBdlAsS0FBQSxRQUFBcUQsTUFBQUEsRUFBQWQsUUFBQTdELEVBQUE2RCxXQUlBTixFQUFBNk8sV0FBQSxXQUNBN08sRUFBQXVPLFlBQUEsRUFDQWhCLElBQUF1QixLQUFBLGVBQUEvUSxLQUFBLFVBQUFpSixVQUFBdkssRUFBQTZELFFBQUF4QyxNQUlBa0MsRUFBQStPLGFBQUEsV0FDQS9PLEVBQUF1TyxZQUFBLEVBQ0FoQixJQUFBdUIsS0FBQSxlQUFBL1EsS0FBQSxZQUFBaUosVUFBQXZLLEVBQUE2RCxRQUFBeEMsTUFxQkF5UCxJQUFBeUIsR0FBQSxrQkFBQVosR0FDQWIsSUFBQXlCLEdBQUEsa0JBQUFWLEdBQ0FmLElBQUF5QixHQUFBLGdCQUFBUixNQ25IQW5TLElBQUFnUSxXQUFBLHVCQUNBLGFBQUEsU0FBQSxTQUFBLFdBQ0EsU0FBQTVQLEVBQUF1RCxFQUFBc00sRUFBQUMsR0FRQSxRQUFBMEMsR0FBQWxSLEVBQUFULEdBQ0FiLEVBQUE2RCxRQUFBdkMsR0FBQW1SLEtBQUE1UixHQVJBLEdBQUE2UixFQUVBblAsR0FBQW9QLGVBQUEsWUFBQSxPQUFBLFVBQ0FwUCxFQUFBcVAsWUFBQSxFQUNBclAsRUFBQXNQLFVBQ0FoVCxRQUFBd0UsS0FBQXJFLEVBQUE2RCxRQUFBTixFQUFBc1AsUUFPQXRQLEVBQUF3QixPQUFBLFVBQUEsU0FBQStOLEVBQUFDLEdBQ0FELEdBQUFDLElBQ0F4UCxFQUFBcVAsWUFBQSxFQUdBclAsRUFBQWtKLFVBRUEsR0FJQWxKLEVBQUFrSixLQUFBLFdBQ0FpRyxHQUNBNVAsT0FBQUMsYUFBQTJQLEdBSUFBLEVBQUF0UCxXQUFBLFdBR0EwTSxFQUFBckQsS0FBQXpNLEVBQUE2RCxTQUNBb00sS0FBQSxTQUFBQyxHQUVBbFEsRUFBQTZRLE1BQUEsbUJBQUFYLEdBR0FyUSxRQUFBd0UsS0FBQXJFLEVBQUE2RCxRQUFBTixFQUFBc1AsUUFDQXRQLEVBQUFxUCxZQUFBLEdBR0EsU0FBQXZLLEdBQ0FnSSxRQUFBQyxJQUFBLE1BQUFqSSxNQUVBLE1BSUE5RSxFQUFBeVAsV0FBQSxXQUNBLEdBQUFDLEdBQUFDLFFBQUEsbURBQ0FELEtBRUFwVCxRQUFBd0UsS0FBQWQsRUFBQXNQLE9BQUE3UyxFQUFBNkQsU0FDQU4sRUFBQXFQLFlBQUEsSUFLQXJQLEVBQUE0UCxjQUFBLFdBQ0EsR0FBQUYsR0FBQUMsUUFBQSxnREFDQSxJQUFBRCxFQUFBLENBQ0EsR0FBQUcsR0FBQXBULEVBQUE2RCxRQUFBeEMsRUFFQXlPLEdBQUFwTixPQUFBMFEsR0FDQW5ELEtBQUEsU0FBQUMsR0FDQWxRLEVBQUE2USxNQUFBLG9CQUFBeFAsR0FBQStSLElBQ0F2RCxFQUFBTyxHQUFBLFFBQ0FwUSxFQUFBNkQsV0FDQU4sRUFBQXFQLFlBQUEsR0FHQSxTQUFBdkssR0FDQWdJLFFBQUFDLElBQUEsTUFBQWpJLE9BTUE5RSxFQUFBOFAsWUFBQSxXQUNBLEdBQUFDLElBQ0FDLFFBQUEsRUFDQUMsS0FBQSxLQUNBQyxNQUFBLEtBQ0FDLE9BQUEsS0FHQWxCLEdBQUEsWUFBQWMsSUFJQS9QLEVBQUFvUSxZQUFBLFdBQ0EsR0FBQUMsSUFDQUwsUUFBQSxFQUNBalMsS0FBQSxZQUNBdVMsTUFBQSxLQUdBckIsR0FBQSxZQUFBb0IsSUFJQXJRLEVBQUF1USxVQUFBLFdBQ0EsR0FBQUMsSUFDQVIsUUFBQSxFQUNBQyxLQUFBLEtBQ0ExTSxNQUFBLEtBQ0EyRSxLQUFBLEtBR0ErRyxHQUFBLFVBQUF1QixJQUlBeFEsRUFBQXlRLGFBQUEsU0FBQTFTLEVBQUFELEdBQ0FyQixFQUFBNkQsUUFBQXZDLEdBQUFELEdBQUFrUyxPQUFBdlQsRUFBQTZELFFBQUF2QyxHQUFBRCxHQUFBa1MsVUFBQSxHQUFBLFNBQUF2VCxFQUFBNkQsUUFBQXZDLEdBQUFELEdBQUFrUyxRQUFBLEdBQUEsRUFHQWhRLEVBQUFrSixRQUlBbEosRUFBQTBRLGVBQUEsU0FBQTNTLEVBQUFELEdBQ0FyQixFQUFBNkQsUUFBQXZDLEdBQUFzTCxPQUFBdkwsRUFBQSxHQUdBa0MsRUFBQWtKLFVDaklBLElBQUF0RixJQUFBQyxRQUFBLEtBRUF4SCxLQUFBZ1EsV0FBQSxpQkFDQSxhQUFBLFNBQUEsU0FBQSxXQUNBLFNBQUE1UCxFQUFBdUQsRUFBQXNNLEVBQUFDLEdBQ0F2TSxFQUFBMlEsWUFHQTNRLEVBQUEyUSxTQUFBcEUsRUFBQS9ELFNBR0EvTCxFQUFBNEMsSUFBQSx1QkFBQSxTQUFBQyxFQUFBeUMsR0FDQUEsR0FBQUEsRUFBQWpFLElBRUFrQyxFQUFBMlEsU0FBQTVILFFBQUFoSCxLQUlBdEYsRUFBQTRDLElBQUEsbUJBQUEsU0FBQUMsRUFBQXlDLEdBQ0FBLEdBQUFBLEVBQUFqRSxJQUVBa0MsRUFBQTJRLFNBQUE5TCxJQUFBLFNBQUF1RSxFQUFBN0csR0FDQTZHLEVBQUF0TCxLQUFBaUUsRUFBQWpFLEtBQ0FrQyxFQUFBMlEsU0FBQXBPLEdBQUFSLE9BTUF0RixFQUFBNEMsSUFBQSxtQkFBQSxTQUFBQyxFQUFBeUMsR0FDQUEsR0FBQUEsRUFBQWpFLElBRUFrQyxFQUFBMlEsU0FBQTlMLElBQUEsU0FBQXVFLEVBQUE3RyxHQUNBNkcsRUFBQXRMLEtBQUFpRSxFQUFBakUsSUFDQWtDLEVBQUEyUSxTQUFBdEgsT0FBQTlHLEVBQUEsT0FLQXZDLEVBQUE0USxZQUFBLFNBQUE5UyxHQUdBLEdBQUFDLEdBQUEsUUFHQXVPLEdBQUFPLEdBQUEsWUFBQTlPLEdBQUFELEdBQUFBLElBQ0FyQixFQUFBK1AsaUJBQUExTyxNQzNDQXpCLElBQUF3VSxTQUFBLFVBQ0FDLElBQUEsUUFDQUMsU0FFQUMsUUFFQXBNLFNBQ0FxTSxZQUNBQyxJQUFBLElBQ0FDLE1BQUEsRUFDQUMsS0FBQSxLQUVBQyxVQUFBLE9BQ0FDLGFBQUEsRUFDQUMsb0JBQUEsS0NqQkFsVixJQUFBbVYsUUFDQSxpQkFBQSxxQkFDQSxTQUFBQyxFQUFBQyxHQVNBRCxFQUtBRSxNQUFBLFFBQ0E5SixJQUFBLElBQ0E5SCxZQUFBLGNBTUE0UixNQUFBLFlBQ0E5SixJQUFBLGdCQUNBOUgsWUFBQSxnQkFDQXNNLFdBQUEsZ0JBRUFzRixNQUFBLHFCQUNBOUosSUFBQSxZQUNBOUgsWUFBQSx5QkFDQXNNLFdBQUEsd0JBRUFzRixNQUFBLG1CQUNBOUosSUFBQSxVQUNBOUgsWUFBQSx1QkFDQXNNLFdBQUEsc0JBRUFzRixNQUFBLG9CQUNBOUosSUFBQSxXQUNBOUgsWUFBQSx3QkFDQXNNLFdBQUEsdUJBc0JBcUYsRUFBQUUsVUFBQSxRQ2hFQXZWLElBQUF3VixLQUFBLGFBQUEsUUFDQSxTQUFBcFYsRUFBQXFWLEdBR0EsR0FBQUMsR0FBQUQsRUFBQUUsU0FBQUMsUUFBQUMsTUFDQUgsR0FBQSxnQkFBQSxtQkFFQXRWLEVBQUE0QyxJQUFBLG9CQUFBLFNBQUE4UyxFQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxFQUFBbEwsR0FDQXlGLFFBQUFDLElBQUEsb0JBQUExRiIsImZpbGUiOiJtdWcuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgTVVHID0gYW5ndWxhci5tb2R1bGUoJ211Z3Nob3QnLCBbJ3VpLnJvdXRlcicsICdtdWd0ZW1wbGF0ZXMnXSk7XG4iLCIvKipcbiAqIGFsZXJ0XG4gKiBhIGRpcmVjdGl2ZSBmb3IgaGFuZGxpbmcgYWxsIGFsZXJ0cyBhbmQgbm90aWNlcyBmb3IgYSB1c2VyXG4gKlxuICogVVNFOlxuICogPGFsZXJ0PjwvYWxlcnQ+XG4gKlxuICogJHJvb3RTY29wZS4kYnJvYWRjYXN0KCdBTEVSVDpGSVJFJywgeyB0aXRsZTogXCJIZXkgdGhlcmUsIEltIGEgbWVzc2FnZSEhXCIsIGR1cjogNSwgdHlwZTogXCJpbmZvXCIsIGljb246IFwiaW5mb1wiLCBjYWxsYmFjazogZnVuY3Rpb24oKXt9IH0pO1xuICpcbiAqIFRZUEVTOlxuICogLSBpbmZvLCBzdWNjZXNzLCB3YXJuaW5nLCBlcnJvclxuICpcbiAqIE9QVElPTlM6XG4gKiAtIHRpdGxlOiB0aGUgY29udGVudHMgb2YgdGhlIG1lc3NhZ2UsIChUT0RPOiBjYW4gYmUgaHRtbCBvciBzaW1wbGUgdGV4dClcbiAqIC0gY2FsbGJhY2s6IGEgZnVuY3Rpb24gdG8gZmlyZSBvbiBhY3Rpb24gdGFrZW4gb24gbWVzc2FnZVxuICogLSBkdXI6IHRoZSB0aW1lb3V0IG9mIHRoZSBtZXNzYWdlLCBpbiBzZWNvbmRzXG4gKiAtIHR5cGU6IHNlZSBhYm92ZSB0eXBlc1xuICogLSBpY29uOiBubyBkZWZhdWx0LCBzZWUgaHR0cHM6Ly9vY3RpY29ucy5naXRodWIuY29tLyBmb3Igb3B0aW9uc1xuICovXG5NVUcuZGlyZWN0aXZlKCdhbGVydCcsXG5bJyRyb290U2NvcGUnLCAnJHRpbWVvdXQnLCAnJGNvbXBpbGUnLCAnJHRlbXBsYXRlQ2FjaGUnLFxuZnVuY3Rpb24oJHJvb3RTY29wZSwgJHRpbWVvdXQsICRjb21waWxlLCAkdGVtcGxhdGVDYWNoZSkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRScsXG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJhbGVydC1wYXJlbnRcIj48L2Rpdj4nLFxuICAgIHNjb3BlOiB7fSxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWwsIGF0dHJzLCBjdHJsKSB7XG4gICAgICB2YXIgYWxlcnRUZW1wbGF0ZSA9ICR0ZW1wbGF0ZUNhY2hlLmdldCgnYWxlcnQuaHRtbCcpO1xuICAgICAgdmFyIF9lbCA9IGFuZ3VsYXIuZWxlbWVudChlbCk7XG4gICAgICB2YXIgdGltZXI7XG4gICAgICB2YXIgZHVyYXRpb24gPSA1MDAwO1xuICAgICAgdmFyIHByZXZpb3VzSWQgPSAnJztcbiAgICAgIHZhciBhbGVydEFjdGl2ZSA9ICdhbGVydC1hY3RpdmUnO1xuICAgICAgdmFyIGFsZXJ0VmlzaWJsZSA9ICdhbGVydC12aXNpYmxlJztcblxuICAgICAgZnVuY3Rpb24gc2hvd01lc3NhZ2UoZGF0YSkge1xuICAgICAgICB2YXIgX2lkID0gKCtuZXcgRGF0ZSgpKTtcbiAgICAgICAgdmFyIG5ld0JvZHkgPSBkYXRhLnRpdGxlO1xuICAgICAgICB2YXIgbmV3SWNuID0gKGRhdGEuaWNvbikgPyBkYXRhLmljb24gOiBudWxsO1xuICAgICAgICB2YXIgJHRtcFNjb3BlID0gJHJvb3RTY29wZS4kbmV3KHRydWUpO1xuXG4gICAgICAgIC8vIHNldHVwIHNpbXBsZSBzY29wZSBmb3Igb25seSB0aGlzIGFsZXJ0IGl0ZW1cbiAgICAgICAgJHRtcFNjb3BlLmFsZXJ0ID0ge307XG4gICAgICAgICR0bXBTY29wZS5hbGVydC5pZCA9IF9pZDtcbiAgICAgICAgJHRtcFNjb3BlLmFsZXJ0Lmljb24gPSAoZGF0YS5pY29uKSA/IGRhdGEuaWNvbiA6IG51bGw7XG4gICAgICAgICR0bXBTY29wZS5hbGVydC50eXBlID0gKGRhdGEudHlwZSkgPyBkYXRhLnR5cGUgOiAnaW5mbyc7XG4gICAgICAgICR0bXBTY29wZS5hbGVydC50aXRsZSA9IGRhdGEudGl0bGU7XG4gICAgICAgICR0bXBTY29wZS5hbGVydC5hY3Rpb24gPSAoIWRhdGEuY2FsbGJhY2spID8gbnVsbCA6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHZhciBhY3Rpb25FbCA9IHRoaXMuaWQ7XG4gICAgICAgICAgZGF0YS5jYWxsYmFjaygpO1xuICAgICAgICAgIGNsZWFyRWwodGhpcyk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIGFsZXJ0RWwgPSAkY29tcGlsZShhbGVydFRlbXBsYXRlKSgkdG1wU2NvcGUpO1xuXG4gICAgICAgIC8vIHNldCBhIHVuaXF1ZSBpZFxuICAgICAgICBhbGVydEVsWzBdLmlkID0gX2lkO1xuICAgICAgICBwcmV2aW91c0lkID0gX2lkO1xuXG4gICAgICAgIC8vIHRocm93IGludG8gZG9tLCB0aGVuIHNob3cgaW4gdmlldywgc3RhcnQgdGltZXJcbiAgICAgICAgX2VsLmFwcGVuZChhbGVydEVsKTtcbiAgICAgICAgYWxlcnRFbC5hZGRDbGFzcyhhbGVydEFjdGl2ZSk7XG5cbiAgICAgICAgLy8gc2hvd1xuICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICBhbGVydEVsLmFkZENsYXNzKGFsZXJ0VmlzaWJsZSk7XG4gICAgICAgIH0sIDIwKTtcblxuICAgICAgICB0aW1lciA9ICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGNsZWFyRWwoYWxlcnRFbCk7XG4gICAgICAgIH0sIGR1cmF0aW9uKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gY2xlYXJFbChlbGVtKSB7XG4gICAgICAgIGlmICghZWxlbSAmJiBwcmV2aW91c0lkKSB7XG4gICAgICAgICAgZWxlbSA9IGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChwcmV2aW91c0lkKSk7XG4gICAgICAgIH0gZWxzZSBpZiAoIWVsZW0pIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gZWxzZSBpZiAoZWxlbSkge1xuICAgICAgICAgIGVsZW0gPSBhbmd1bGFyLmVsZW1lbnQoZWxlbSk7XG4gICAgICAgIH1cblxuICAgICAgICBlbGVtLnJlbW92ZUNsYXNzKGFsZXJ0VmlzaWJsZSk7XG4gICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGVsZW0ucmVtb3ZlKCk7XG4gICAgICAgIH0sIDMwMCk7XG4gICAgICB9XG5cbiAgICAgICRyb290U2NvcGUuJG9uKCdBTEVSVDpGSVJFJywgZnVuY3Rpb24oZSwgZGF0YSkge1xuICAgICAgICBpZiAoIWRhdGEudGl0bGUpIHsgcmV0dXJuOyB9XG5cbiAgICAgICAgd2luZG93LmNsZWFyVGltZW91dCh0aW1lcik7XG4gICAgICAgIGNsZWFyRWwoKTtcblxuICAgICAgICBpZiAoZGF0YS5kdXIpIHtcbiAgICAgICAgICBkdXJhdGlvbiA9IGRhdGEuZHVyICogMTAwMDtcbiAgICAgICAgfVxuXG4gICAgICAgIHNob3dNZXNzYWdlKGRhdGEpO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xufV0pO1xuIiwiLyoqXG4gKiBmYWRlSW5cbiAqIEEgZGlyZWN0aXZlIGZvciBhbmltYXRpbmcgaW4gZWxlbWVudHNcbiAqL1xuTVVHLmRpcmVjdGl2ZSgnZmFkZUluJywgWyBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmVzdHJpY3Q6ICdBJyxcbiAgICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbGVtLCBhdHRycykge1xuICAgICAgICAgICAgdmFyIG9mZnNldCA9IHBhcnNlSW50KGF0dHJzLmZhZGVJbikgfHwgMTA7XG4gICAgICAgICAgICBlbGVtLmFkZENsYXNzKCdmYWRlLWluJyk7XG5cbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGVsZW0uY3NzKFwib3BhY2l0eVwiLCBcIjFcIik7XG4gICAgICAgICAgICB9LCBvZmZzZXQpO1xuICAgICAgICB9XG4gICAgfTtcbn1dKTtcbiIsIi8qKlxuICogTW9kYWxcbiAqIEJ1aWxkcyBhIG1vZGFsIGZvciBpbWFnZSB2aWV3aW5nIGFuZCBjb21wYXJpbmdcbiAqXG4gKiBAdXNhZ2VcbiAqIDxtb2RhbD48L21vZGFsPlxuICovXG5NVUcuZGlyZWN0aXZlKCdtb2RhbCcsXG5bJyR0aW1lb3V0JywgJyRjb21waWxlJywgJyRyb290U2NvcGUnLFxuZnVuY3Rpb24oJHRpbWVvdXQsICRjb21waWxlLCAkcm9vdFNjb3BlKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFJyxcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIHRlbXBsYXRlVXJsOiAnbW9kYWwuaHRtbCcsXG4gICAgc2NvcGU6IHt9LFxuICAgIGxpbms6IGZ1bmN0aW9uKCRzY29wZSwgJGVsZW1lbnQsICRhdHRyKSB7XG4gICAgICB2YXIgbW9kYWxBY3RpdmUgPSAnbW9kYWwtb3Blbic7XG4gICAgICB2YXIgbW9kYWxWaXNpYmxlID0gJ21vZGFsLXZpc2libGUnO1xuXG4gICAgICAkc2NvcGUucHJvamVjdCA9IGFuZ3VsYXIuY29weSgkcm9vdFNjb3BlLnByb2plY3QpO1xuICAgICAgJHNjb3BlLmFjdGl2ZU9wdGlvbiA9ICdzaWRlcyc7XG4gICAgICAkc2NvcGUub3BhY2l0eVJhbmdlID0ge307XG4gICAgICAkc2NvcGUuY3VycmVudEluZGV4ID0gMDtcbiAgICAgICRzY29wZS5hY3RpdmVJdGVtID0ge307XG4gICAgICAkc2NvcGUuY29tcGFyZUl0ZW0gPSB7XG4gICAgICAgIGE6ICcnLFxuICAgICAgICBiOiAnJyxcbiAgICAgICAgYzogJydcbiAgICAgIH07XG4gICAgICAkc2NvcGUudmlld2VyID0ge1xuICAgICAgICBpdGVtczogW11cbiAgICAgIH07XG4gICAgICAkc2NvcGUub3BhY2l0eVJhbmdlID0ge1xuICAgICAgICBhbW91bnQ6IDAuOCxcbiAgICAgICAgaW52ZXJzZTogMC4yLFxuICAgICAgICBwZXJjZW50OiAnODAlJ1xuICAgICAgfTtcblxuICAgICAgJHNjb3BlLiR3YXRjaCgnb3BhY2l0eVJhbmdlLmFtb3VudCcsIGZ1bmN0aW9uKG52LCBvdikge1xuICAgICAgICBpZiAobnYgPT09IG92KSB7cmV0dXJuO31cblxuICAgICAgICAvLyB1cGRhdGUgdGhlIG90aGVyIHZhbHVlc1xuICAgICAgICAkc2NvcGUub3BhY2l0eVJhbmdlLmludmVyc2UgPSAoMSAtIG52KS50b0ZpeGVkKDIpO1xuICAgICAgICAkc2NvcGUub3BhY2l0eVJhbmdlLnBlcmNlbnQgPSBNYXRoLnJvdW5kKG52ICogMTAwKSArICclJztcbiAgICAgIH0pO1xuXG4gICAgICAvLyBzZXQgdGhlIGFjdGl2ZSBpdGVtIHdpdGggY29ycmVjdCBwYXRoc1xuICAgICAgZnVuY3Rpb24gc2V0QWN0aXZlSXRlbShkYXRhKSB7XG4gICAgICAgICRzY29wZS5jb21wYXJlSXRlbS5hID0gJ3NjcmVlbnMvcmVmZXJlbmNlLycgKyAkcm9vdFNjb3BlLnByb2plY3QuaWQgKyAnLycgKyBkYXRhLnNvdXJjZS5yZXBsYWNlKCRyb290U2NvcGUucHJvamVjdC5jdXJyZW50QmF0Y2ggKyAnLnBuZycsICRyb290U2NvcGUucHJvamVjdC5jdXJyZW50UmVmZXJlbmNlICsgJy5wbmcnKTtcbiAgICAgICAgJHNjb3BlLmNvbXBhcmVJdGVtLmIgPSAnc2NyZWVucy9jb21wYXJlLycgKyAkcm9vdFNjb3BlLnByb2plY3QuaWQgKyAnLycgKyBkYXRhLnNvdXJjZTtcbiAgICAgICAgJHNjb3BlLmNvbXBhcmVJdGVtLmMgPSAnc2NyZWVucy9jb21wYXJlLycgKyAkcm9vdFNjb3BlLnByb2plY3QuaWQgKyAnLycgKyBkYXRhLnNvdXJjZS5yZXBsYWNlKCcucG5nJywgJ19kaWZmLnBuZycpO1xuICAgICAgfVxuXG4gICAgICAvLyBDaG9vc2UgdGhlIHZpZXdlciBsYXlvdXRcbiAgICAgICRzY29wZS5vcHRpb25Nb2RlID0gZnVuY3Rpb24odHlwZSkge1xuICAgICAgICAkc2NvcGUuYWN0aXZlT3B0aW9uID0gdHlwZTtcbiAgICAgIH07XG5cbiAgICAgICRyb290U2NvcGUuJG9uKCdNT0RBTDpDTE9TRScsIGZ1bmN0aW9uKGUsIGFyZ3MpIHtcbiAgICAgICAgJHNjb3BlLmNsb3NlKCk7XG4gICAgICB9KTtcblxuICAgICAgJHJvb3RTY29wZS4kb24oJ01PREFMOk9QRU4nLCBmdW5jdGlvbihlLCBhcmdzKSB7XG4gICAgICAgIGlmICghYXJncyB8fCAhYXJncy50eXBlKSB7IHJldHVybjsgfVxuXG4gICAgICAgIC8vIE1ha2Ugc3VyZSB0byByZXNldCBjdXJyZW50IEluZGV4XG4gICAgICAgICRzY29wZS5jdXJyZW50SW5kZXggPSAwO1xuICAgICAgICAkc2NvcGUucHJvamVjdCA9IGFuZ3VsYXIuY29weSgkcm9vdFNjb3BlLnByb2plY3QpO1xuXG4gICAgICAgIC8vIFNob3cgYSBzaW5nbGUgaXRlbVxuICAgICAgICBpZiAoYXJncy50eXBlID09PSAncHJldmlldycpIHtcbiAgICAgICAgICAkc2NvcGUuYWN0aXZlSXRlbSA9IGFyZ3MuaXRlbTtcbiAgICAgICAgICAkc2NvcGUudmlld2VyID0gYXJncy5wcm9qZWN0IHx8IHt9O1xuICAgICAgICAgICRzY29wZS52aWV3ZXIuaXRlbXMgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2hvdyBtdWx0aXBsZSBpdGVtc1xuICAgICAgICBpZiAoYXJncy50eXBlID09PSAnYmF0Y2gnICYmIGFyZ3MuaXRlbXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICRzY29wZS5hY3RpdmVJdGVtID0gYXJncy5pdGVtc1skc2NvcGUuY3VycmVudEluZGV4XTtcbiAgICAgICAgICAkc2NvcGUudmlld2VyID0gYXJncy5wcm9qZWN0IHx8IHt9O1xuICAgICAgICAgICRzY29wZS52aWV3ZXIuaXRlbXMgPSBhcmdzLml0ZW1zO1xuICAgICAgICAgIHNldEFjdGl2ZUl0ZW0oJHNjb3BlLmFjdGl2ZUl0ZW0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gbWFrZSB0aGUgbW9kYWwgYWN0aXZlIHdpdGggZGF0YVxuICAgICAgICAkZWxlbWVudC5hZGRDbGFzcyhtb2RhbEFjdGl2ZSk7XG5cbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAkZWxlbWVudC5hZGRDbGFzcyhtb2RhbFZpc2libGUpO1xuICAgICAgICB9LCAzMCk7XG4gICAgICB9KTtcblxuICAgICAgJHNjb3BlLmNsb3NlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICRlbGVtZW50LnJlbW92ZUNsYXNzKG1vZGFsVmlzaWJsZSk7XG5cbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAkZWxlbWVudC5yZW1vdmVDbGFzcyhtb2RhbEFjdGl2ZSk7XG4gICAgICAgIH0sIDIzMCk7XG4gICAgICB9O1xuXG4gICAgICAvLyBTZXR1cCBvZiBsZWZ0L3JpZ2h0IG5hdmlnYXRpb25cbiAgICAgICRzY29wZS5tb2RhbEFjdGlvbk5hdiA9IGZ1bmN0aW9uKHR5cGUpIHtcbiAgICAgICAgaWYgKCRzY29wZS52aWV3ZXIuaXRlbXMubGVuZ3RoIDwgMSkgeyByZXR1cm47IH1cblxuICAgICAgICB2YXIgdG90YWwgPSAkc2NvcGUudmlld2VyLml0ZW1zLmxlbmd0aCAtIDE7XG4gICAgICAgIHZhciBuZXh0SWR4O1xuXG4gICAgICAgIGlmICh0eXBlID09PSAncmlnaHQnKSB7XG4gICAgICAgICAgbmV4dElkeCA9ICgkc2NvcGUuY3VycmVudEluZGV4ID09PSB0b3RhbCkgPyAwIDogJHNjb3BlLmN1cnJlbnRJbmRleCArIDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbmV4dElkeCA9ICgkc2NvcGUuY3VycmVudEluZGV4ID09PSAwKSA/IHRvdGFsIDogJHNjb3BlLmN1cnJlbnRJbmRleCAtIDE7XG4gICAgICAgIH1cblxuICAgICAgICAkc2NvcGUuYWN0aXZlSXRlbSA9ICRzY29wZS52aWV3ZXIuaXRlbXNbbmV4dElkeF07XG4gICAgICAgICRzY29wZS5jdXJyZW50SW5kZXggPSBuZXh0SWR4O1xuICAgICAgICBzZXRBY3RpdmVJdGVtKCRzY29wZS5hY3RpdmVJdGVtKTtcbiAgICAgIH07XG5cbiAgICAgIC8vIEdvIGRpcmVjdGx5IHRvIGFuIGl0ZW1cbiAgICAgICRzY29wZS5nb1RvSW5kZXggPSBmdW5jdGlvbihpZHgpIHtcbiAgICAgICAgaWYgKCRzY29wZS5jdXJyZW50SW5kZXggPT09IGlkeCkge3JldHVybjt9XG5cbiAgICAgICAgJHNjb3BlLmFjdGl2ZUl0ZW0gPSAkc2NvcGUudmlld2VyLml0ZW1zW2lkeF07XG4gICAgICAgICRzY29wZS5jdXJyZW50SW5kZXggPSBpZHg7XG4gICAgICAgIHNldEFjdGl2ZUl0ZW0oJHNjb3BlLmFjdGl2ZUl0ZW0pO1xuICAgICAgfTtcblxuICAgIH1cbiAgfTtcbn1dKTtcbiIsIi8qKlxuICogbXNnQ2VudGVyXG4gKiBhIGRpcmVjdGl2ZSBmb3IgaGFuZGxpbmcgYWxsIG1lc3NhZ2UgcmVsYXkgZm9yIGEgdXNlclxuICpcbiAqIFVTRTpcbiAqICRyb290U2NvcGUuJGJyb2FkY2FzdCgnTVNHQ0VOVEVSOkZJUkUnLCB7IG1zZzogXCJIZXkgdGhlcmUsIEltIGEgbWVzc2FnZSEhXCIsIGR1cjogNSwgdHlwZTogXCJpbmZvXCIsIGljb246IFwiaW5mb1wiLCBjYWxsYmFjazogZnVuY3Rpb24oKXt9IH0pO1xuICpcbiAqIFRZUEVTOlxuICogLSBERUZBVUxULCBzaG93cyBncmVlbiBtZXNzYWdlLCB1c2VkIGZvciBzdWNjZXNzXG4gKiAtIFdhcm5pbmc6IFwid2FyblwiIC0gc2hvd3Mgb3JhbmdlIG1lc3NhZ2UsIHVzZWQgZm9yIGVycm9ycyBvciB3YXJuaW5nc1xuICogLSBJbmZvOiBcImluZm9cIiAtIHNob3dzIGRhcmsgYmx1ZSBtZXNzYWdlLCB1c2VkIGZvciBnZW5lcmFsIHRoaW5nc1xuICpcbiAqIE9QVElPTlM6XG4gKiAtIG1zZzogdGhlIGNvbnRlbnRzIG9mIHRoZSBtZXNzYWdlLCAoVE9ETzogY2FuIGJlIGh0bWwgb3Igc2ltcGxlIHRleHQpXG4gKiAtIGNhbGxiYWNrOiBhIGZ1bmN0aW9uIHRvIGZpcmUgb24gYWN0aW9uIHRha2VuIG9uIG1lc3NhZ2VcbiAqIC0gZHVyOiB0aGUgdGltZW91dCBvZiB0aGUgbWVzc2FnZVxuICogLSB0eXBlOiBzZWUgYWJvdmUgdHlwZXNcbiAqIC0gaWNvbjogZGVmYXVsdCBpcyBnbG9iZSwgY2FuIGJlIHNldCB0byBBTlkgaS1zcHJpdGVzIChzcHJpdGVzLmxlc3MpXG4gKi9cbk1VRy5kaXJlY3RpdmUoJ21zZ0NlbnRlcicsXG5bIFwiJHJvb3RTY29wZVwiLCBcIiR0aW1lb3V0XCIsIFwiJGNvbXBpbGVcIixcbmZ1bmN0aW9uICgkcm9vdFNjb3BlLCAkdGltZW91dCwgJGNvbXBpbGUpIHtcbiAgcmV0dXJuIHtcbiAgICBzY29wZToge30sXG4gICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbCwgYXR0cnMsIGN0cmwpIHtcbiAgICAgIHZhciBtc2dUZW1wbGF0ZSA9ICc8ZGl2IGNsYXNzPVwibXNnXCIgbmctY2xpY2s9XCJhY3Rpb24oKVwiPicrXG4gICAgICAgICAgJzxkaXYgY2xhc3M9XCJtc2ctaWNuXCI+PGkgY2xhc3M9XCJpdyBpLUlDT05cIj48L2k+PC9kaXY+JytcbiAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1zZy1jb250XCI+Qk9EWTwvZGl2PicrXG4gICAgICAgICAgJzxkaXYgY2xhc3M9XCJtc2ctYWN0aW9uXCI+PGkgY2xhc3M9XCJpYiBpLXItYXJyb3dcIj48L2k+PC9kaXY+JytcbiAgICAgICAgJzwvZGl2Pic7XG5cbiAgICAgIHZhciBfZWwgPSBhbmd1bGFyLmVsZW1lbnQoZWwpO1xuICAgICAgdmFyIHRpbWVyO1xuICAgICAgdmFyIGR1cmF0aW9uID0gNTAwMDtcbiAgICAgIHZhciBwcmV2aW91c0lkID0gXCJcIjtcbiAgICAgIHZhciBkZWZhdWx0SWNvbiA9IFwiaW5mb1wiO1xuXG4gICAgICBzY29wZS5ib2R5ID0gXCJcIjtcbiAgICAgIHNjb3BlLmNhbGxiYWNrID0gbnVsbDtcbiAgICAgIHNjb3BlLmljb24gPSBkZWZhdWx0SWNvbjtcbiAgICAgIHNjb3BlLmFjdGlvbiA9IGZ1bmN0aW9uKCl7XG4gICAgICAgIHZhciBhY3Rpb25FbCA9IF9lbC5maW5kKFwiI1wiICsgdGhpcy5pZCk7XG4gICAgICAgIHNjb3BlLmNhbGxiYWNrKCk7XG4gICAgICAgIGNsZWFyRWwoIGFjdGlvbkVsICk7XG4gICAgICB9O1xuXG4gICAgICBmdW5jdGlvbiBzaG93TWVzc2FnZSAoIGRhdGEgKXtcbiAgICAgICAgdmFyIF9pZCA9ICgrbmV3IERhdGUoKSk7XG4gICAgICAgIHZhciBuZXdCb2R5ID0gZGF0YS5tc2c7XG4gICAgICAgIHZhciBuZXdJY24gPSAoZGF0YS5pY29uKT8gZGF0YS5pY29uIDogZGVmYXVsdEljb247XG5cbiAgICAgICAgdmFyIHRlbXBsYXRlID0gbXNnVGVtcGxhdGUucmVwbGFjZShcIkJPRFlcIiwgbmV3Qm9keSkucmVwbGFjZShcIklDT05cIiwgbmV3SWNuKTtcbiAgICAgICAgdmFyIG5ld01lc3NhZ2UgPSAkY29tcGlsZSh0ZW1wbGF0ZSkoc2NvcGUpO1xuXG4gICAgICAgIC8vIHNldCBhIHVuaXF1ZSBpZFxuICAgICAgICBuZXdNZXNzYWdlWzBdLmlkID0gX2lkO1xuICAgICAgICBwcmV2aW91c0lkID0gX2lkO1xuXG4gICAgICAgIC8vIHRocm93IGludG8gZG9tLCB0aGVuIHNob3cgaW4gdmlldywgc3RhcnQgdGltZXJcbiAgICAgICAgX2VsLmFwcGVuZCggbmV3TWVzc2FnZSApO1xuXG4gICAgICAgIC8vIHJlbWVtYmVyIHRoZSBuZXcgZWwgZm9yIGxhdGVyXG4gICAgICAgIHZhciBtc2dFbCA9IF9lbC5maW5kKFwiI1wiICsgX2lkKTtcbiAgICAgICAgY2hhbmdlVHlwZSggbXNnRWwsIGRhdGEudHlwZSApO1xuXG4gICAgICAgIGlmKGRhdGEuY2FsbGJhY2spe1xuICAgICAgICAgIG1zZ0VsLmZpbmQoXCIubXNnLWFjdGlvblwiKS5hZGRDbGFzcyhcInNob3dcIik7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzaG93XG4gICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgIG1zZ0VsLmFkZENsYXNzKCdhZGQnKTtcbiAgICAgICAgfSwgMjApO1xuXG4gICAgICAgIHRpbWVyID0gJHRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBjbGVhckVsKCBtc2dFbCApO1xuICAgICAgICB9LCBkdXJhdGlvbik7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGNsZWFyRWwgKCBlbGVtICkge1xuICAgICAgICBpZighZWxlbSAmJiBwcmV2aW91c0lkKXtcbiAgICAgICAgICBlbGVtID0gX2VsLmZpbmQoXCIjXCIgKyBwcmV2aW91c0lkKTtcbiAgICAgICAgfSBlbHNlIGlmKCFlbGVtKSB7IHJldHVybjsgfVxuXG4gICAgICAgIGVsZW0ucmVtb3ZlQ2xhc3MoJ2FkZCcpO1xuICAgICAgICBlbGVtLmFkZENsYXNzKCdyZW1vdmUnKTtcbiAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgICAgICBhbmd1bGFyLmVsZW1lbnQoZWxlbSkucmVtb3ZlKCk7XG4gICAgICAgIH0sIDMwMCk7XG4gICAgICB9XG5cbiAgICAgIC8vIHNldCB0aGUgdHlwZSBieSBhIGNsYXNzXG4gICAgICBmdW5jdGlvbiBjaGFuZ2VUeXBlICggZWxlbSwgdHlwZSApIHtcbiAgICAgICAgZWxlbS5yZW1vdmVDbGFzcygnbXNnLWluZm8nKTtcbiAgICAgICAgZWxlbS5yZW1vdmVDbGFzcygnbXNnLXdhcm4nKTtcblxuICAgICAgICBpZih0eXBlKXtcbiAgICAgICAgICBlbGVtLmFkZENsYXNzKCdtc2ctJyArIHR5cGUpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgICRyb290U2NvcGUuJG9uKCdNU0dDRU5URVI6RklSRScsIGZ1bmN0aW9uKGUsIGRhdGEpe1xuICAgICAgICBpZighZGF0YS5tc2cpeyByZXR1cm47IH1cbiAgICAgICAgd2luZG93LmNsZWFyVGltZW91dCh0aW1lcik7XG4gICAgICAgIGNsZWFyRWwoKTtcblxuICAgICAgICBpZihkYXRhLmR1cil7XG4gICAgICAgICAgZHVyYXRpb24gPSBkYXRhLmR1ciAqIDEwMDA7XG4gICAgICAgIH1cblxuICAgICAgICBpZihkYXRhLmNhbGxiYWNrKXtcbiAgICAgICAgICBzY29wZS5jYWxsYmFjayA9IGRhdGEuY2FsbGJhY2s7XG4gICAgICAgIH1cblxuICAgICAgICBzaG93TWVzc2FnZSggZGF0YSApO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xufV0pO1xuIiwiTVVHLmZhY3RvcnkoJ3RpbWVBZ28nLCBmdW5jdGlvbiAoKSB7XG4gIHZhciBzZXJ2aWNlID0ge307XG5cbiAgc2VydmljZS5zZXR0aW5ncyA9IHtcbiAgICByZWZyZXNoTWlsbGlzOiA2MDAwMCxcbiAgICBhbGxvd0Z1dHVyZTogZmFsc2UsXG4gICAgc3RyaW5nczoge1xuICAgICAgcHJlZml4QWdvOiBudWxsLFxuICAgICAgcHJlZml4RnJvbU5vdzogbnVsbCxcbiAgICAgIHN1ZmZpeEFnbzogJ2FnbycsXG4gICAgICBzdWZmaXhGcm9tTm93OiAnZnJvbSBub3cnLFxuICAgICAgc2Vjb25kczogJ2xlc3MgdGhhbiBhIG1pbnV0ZScsXG4gICAgICBtaW51dGU6ICdhYm91dCBhIG1pbnV0ZScsXG4gICAgICBtaW51dGVzOiAnJWQgbWludXRlcycsXG4gICAgICBob3VyOiAnYWJvdXQgYW4gaG91cicsXG4gICAgICBob3VyczogJyVkIGhvdXJzJyxcbiAgICAgIGRheTogJ2EgZGF5JyxcbiAgICAgIGRheXM6ICclZCBkYXlzJyxcbiAgICAgIG1vbnRoOiAnYWJvdXQgYSBtb250aCcsXG4gICAgICBtb250aHM6ICclZCBtb250aHMnLFxuICAgICAgeWVhcjogJ2Fib3V0IGEgeWVhcicsXG4gICAgICB5ZWFyczogJyVkIHllYXJzJyxcbiAgICAgIG51bWJlcnM6IFtdXG4gICAgfVxuICB9O1xuXG4gIGZ1bmN0aW9uIHRyaW1EaWdpdHMgKCBudW0gKSB7XG4gICAgICB2YXIgbSA9IG51bS50b1N0cmluZygpLnNsaWNlKDAsMTMpO1xuICAgICAgcmV0dXJuIChtLmxlbmd0aCA9PSAxMyk/IHBhcnNlSW50KG0pIDogbnVtO1xuICB9XG5cbiAgc2VydmljZS5pbldvcmRzID0gZnVuY3Rpb24gKGRpc3RhbmNlTWlsbGlzKSB7XG4gICAgdmFyICRsID0gc2VydmljZS5zZXR0aW5ncy5zdHJpbmdzO1xuICAgIHZhciBwcmVmaXggPSAkbC5wcmVmaXhBZ287XG4gICAgdmFyIHN1ZmZpeCA9ICRsLnN1ZmZpeEFnbztcbiAgICBpZiAoc2VydmljZS5zZXR0aW5ncy5hbGxvd0Z1dHVyZSkge1xuICAgICAgaWYgKGRpc3RhbmNlTWlsbGlzIDwgMCkge1xuICAgICAgICBwcmVmaXggPSAkbC5wcmVmaXhGcm9tTm93O1xuICAgICAgICBzdWZmaXggPSAkbC5zdWZmaXhGcm9tTm93O1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBzZWNvbmRzID0gTWF0aC5hYnMoZGlzdGFuY2VNaWxsaXMpIC8gMTAwMDtcbiAgICB2YXIgbWludXRlcyA9IHNlY29uZHMgLyA2MDtcbiAgICB2YXIgaG91cnMgPSBtaW51dGVzIC8gNjA7XG4gICAgdmFyIGRheXMgPSBob3VycyAvIDI0O1xuICAgIHZhciB5ZWFycyA9IGRheXMgLyAzNjU7XG5cbiAgICBmdW5jdGlvbiBzdWJzdGl0dXRlKHN0cmluZ09yRnVuY3Rpb24sIG51bWJlcikge1xuICAgICAgdmFyIHN0cmluZyA9IGFuZ3VsYXIuaXNGdW5jdGlvbihzdHJpbmdPckZ1bmN0aW9uKSA/XG4gICAgICBzdHJpbmdPckZ1bmN0aW9uKG51bWJlciwgZGlzdGFuY2VNaWxsaXMpIDogc3RyaW5nT3JGdW5jdGlvbjtcbiAgICAgIHZhciB2YWx1ZSA9ICgkbC5udW1iZXJzICYmICRsLm51bWJlcnNbbnVtYmVyXSkgfHwgbnVtYmVyO1xuICAgICAgcmV0dXJuIHN0cmluZy5yZXBsYWNlKC8lZC9pLCB2YWx1ZSk7XG4gICAgfVxuXG4gICAgdmFyIHdvcmRzID0gc2Vjb25kcyA8IDQ1ICYmIHN1YnN0aXR1dGUoJGwuc2Vjb25kcywgTWF0aC5yb3VuZChzZWNvbmRzKSkgfHxcbiAgICAgICAgc2Vjb25kcyA8IDkwICYmIHN1YnN0aXR1dGUoJGwubWludXRlLCAxKSB8fFxuICAgICAgICBtaW51dGVzIDwgNDUgJiYgc3Vic3RpdHV0ZSgkbC5taW51dGVzLCBNYXRoLnJvdW5kKG1pbnV0ZXMpKSB8fFxuICAgICAgICBtaW51dGVzIDwgOTAgJiYgc3Vic3RpdHV0ZSgkbC5ob3VyLCAxKSB8fFxuICAgICAgICBob3VycyA8IDI0ICYmIHN1YnN0aXR1dGUoJGwuaG91cnMsIE1hdGgucm91bmQoaG91cnMpKSB8fFxuICAgICAgICBob3VycyA8IDQyICYmIHN1YnN0aXR1dGUoJGwuZGF5LCAxKSB8fFxuICAgICAgICBkYXlzIDwgMzAgJiYgc3Vic3RpdHV0ZSgkbC5kYXlzLCBNYXRoLnJvdW5kKGRheXMpKSB8fFxuICAgICAgICBkYXlzIDwgNDUgJiYgc3Vic3RpdHV0ZSgkbC5tb250aCwgMSkgfHxcbiAgICAgICAgZGF5cyA8IDM2NSAmJiBzdWJzdGl0dXRlKCRsLm1vbnRocywgTWF0aC5yb3VuZChkYXlzIC8gMzApKSB8fFxuICAgICAgICB5ZWFycyA8IDEuNSAmJiBzdWJzdGl0dXRlKCRsLnllYXIsIDEpIHx8XG4gICAgICAgIHN1YnN0aXR1dGUoJGwueWVhcnMsIE1hdGgucm91bmQoeWVhcnMpKTtcblxuICAgIHZhciBzZXBhcmF0b3IgPSAkbC53b3JkU2VwYXJhdG9yID09PSB1bmRlZmluZWQgPyAnICcgOiAkbC53b3JkU2VwYXJhdG9yO1xuICAgIHJldHVybiBbcHJlZml4LCB3b3Jkcywgc3VmZml4XS5qb2luKHNlcGFyYXRvcikudHJpbSgpO1xuICB9O1xuXG4gIHNlcnZpY2UucGFyc2UgPSBmdW5jdGlvbiAoaXNvODYwMSkge1xuICAgIGlmIChhbmd1bGFyLmlzTnVtYmVyKGlzbzg2MDEpKSB7XG4gICAgICBpc284NjAxID0gaXNvODYwMSArIFwiXCI7XG4gICAgICAvLyBmb3JtYXQgZm9yIGNvcnJlY3QgbGVuZ3RoXG4gICAgICB2YXIgb3JpZ2luYWxUaW1lc3RhbXAgPSB0cmltRGlnaXRzKCBpc284NjAxICk7XG4gICAgICByZXR1cm4gcGFyc2VJbnQob3JpZ2luYWxUaW1lc3RhbXAsIDEwKTtcbiAgICB9XG4gICAgdmFyIHMgPSAoaXNvODYwMSB8fCAnJykudHJpbSgpO1xuICAgIHMgPSBzLnJlcGxhY2UoL1xcLlxcZCsvLCAnJyk7IC8vIHJlbW92ZSBtaWxsaXNlY29uZHNcbiAgICBzID0gcy5yZXBsYWNlKC8tLywgJy8nKS5yZXBsYWNlKC8tLywgJy8nKTtcbiAgICBzID0gcy5yZXBsYWNlKC9ULywgJyAnKS5yZXBsYWNlKC9aLywgJyBVVEMnKTtcbiAgICBzID0gcy5yZXBsYWNlKC8oW1xcK1xcLV1cXGRcXGQpXFw6PyhcXGRcXGQpLywgJyAkMSQyJyk7IC8vIC0wNDowMCAtPiAtMDQwMFxuICAgIHJldHVybiBuZXcgRGF0ZShzKTtcbiAgfTtcblxuICByZXR1cm4gc2VydmljZTtcbn0pO1xuIiwidmFyIGZzID0gcmVxdWlyZSgnZnMnKTtcbnZhciBhc3luYyA9IHJlcXVpcmUoJ2FzeW5jJyk7XG5cbk1VRy5mYWN0b3J5KCdDb21wYXJlJyxcblsnJHEnLCAnQ29uZmlnJyxcbmZ1bmN0aW9uKCRxLCBDb25maWcpIHtcbiAgLy8gQ29uZmlnIHZhcnNcbiAgdmFyIGZpbGVEaXJQcmVmaXggPSBfX2Rpcm5hbWUgKyAnLyc7XG4gIHZhciBpbWFnZVByZWZpeCA9ICdkYXRhOmltYWdlL3BuZztiYXNlNjQsJztcbiAgdmFyIHN0YXR1c1R5cGVzID0gWydwYXNzZWQnLCAnd2FybmluZycsICdmYWlsZWQnXTtcblxuICAvLyBhc3luYyBoZWxwZXJcbiAgZnVuY3Rpb24gcmVhZEFzeW5jKGZpbGUsIGNhbGxiYWNrKSB7XG4gICAgZnMucmVhZEZpbGUoZmlsZURpclByZWZpeCArIGZpbGUsICdiYXNlNjQnLCBjYWxsYmFjayk7XG4gIH1cblxuICAvLyBUT0RPOiBsZXQgdGhlIGJhY2tlbmQgcHJvY2VzcyBoYW5kbGUgdGhpcyFcbiAgZnVuY3Rpb24gY29tcGFyZVNpbmdsZShhLCBiKSB7XG4gICAgdmFyIGRmZCA9ICRxLmRlZmVyKCk7XG4gICAgdmFyIG91dHB1dCA9IHt9O1xuXG4gICAgLy8gQXBwbHkgTWFpbiBDb21wYXJlIENvbmZpZ1xuICAgIHJlc2VtYmxlLm91dHB1dFNldHRpbmdzKENvbmZpZy5Db21wYXJlKTtcblxuICAgIC8vIE9wZW4gYm90aCBmaWxlcywgYmVmb3JlIHdlIGFyZSByZWFkeSB0byBwcm9jZXNzXG4gICAgYXN5bmMubWFwKFthLCBiXSwgcmVhZEFzeW5jLCBmdW5jdGlvbihlcnIsIHJlc3VsdHMpIHtcbiAgICAgIHZhciBhRGF0YSA9IGltYWdlUHJlZml4ICsgcmVzdWx0c1swXTtcbiAgICAgIHZhciBiRGF0YSA9IGltYWdlUHJlZml4ICsgcmVzdWx0c1sxXTtcblxuICAgICAgLy8gSGFuZGxlcyBlcnJvcnNcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgZGZkLnJlamVjdChlcnIpO1xuICAgICAgfVxuXG4gICAgICAvLyBSdW4gdGhlIGNvbXBhcmUgZnVuY3Rpb24sIHJldHVybiB0aGUgZGlmZiBkYXRhXG4gICAgICByZXNlbWJsZShhRGF0YSlcbiAgICAgICAgLmNvbXBhcmVUbyhiRGF0YSlcbiAgICAgICAgLmlnbm9yZUNvbG9ycygpXG4gICAgICAgIC5vbkNvbXBsZXRlKGZ1bmN0aW9uKGRpZmZEYXRhKSB7XG4gICAgICAgICAgb3V0cHV0LnJlcG9ydCA9IGRpZmZEYXRhO1xuICAgICAgICAgIG91dHB1dC5zcmMgPSBkaWZmRGF0YS5nZXRJbWFnZURhdGFVcmwoKTtcblxuICAgICAgICAgIGRmZC5yZXNvbHZlKG91dHB1dCk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIGRmZC5wcm9taXNlO1xuICB9O1xuXG4gIHJldHVybiB7XG5cbiAgICAvKipcbiAgICAgKiBDb21wYXJlcyB0d28gaW1hZ2VzIGFuZCByZXR1cm5zIGFsbCBkYXRhIHdpdGggYW4gaW1hZ2Ugb2YgY2hhbmdlc1xuICAgICAqL1xuICAgIHJ1blNpbmdsZTogY29tcGFyZVNpbmdsZSxcblxuICAgIC8qKlxuICAgICAqIHJldHVybnMgdGhlIHR5cGUgb2YgcGFzcy93YXJuL2ZhaWwgc3RhdHVzXG4gICAgICovXG4gICAgZ2V0U3RhdHVzOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICB2YXIgbWlzTWF0Y2hWYWx1ZSA9IHBhcnNlRmxvYXQoZGF0YS5taXNNYXRjaFBlcmNlbnRhZ2UpO1xuXG4gICAgICAvLyBsb3dlc3QgdG9sZXJhbmNlXG4gICAgICBpZiAobWlzTWF0Y2hWYWx1ZSA8IDAuMSkge1xuXG4gICAgICAgIC8vIFdhcm4gdGhhdCBkaW1lbnNpb25zIGFyZSBkaWZmZXJlbmNlXG4gICAgICAgIGlmIChkYXRhLmlzU2FtZURpbWVuc2lvbnMgPT09IGZhbHNlKSB7XG4gICAgICAgICAgcmV0dXJuIHN0YXR1c1R5cGVzWzFdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBzdGF0dXNUeXBlc1swXTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyB3YXJuaW5nIHRvbGVyYW5jZVxuICAgICAgaWYgKG1pc01hdGNoVmFsdWUgPiAwLjEgJiYgbWlzTWF0Y2hWYWx1ZSA8IDIpIHtcbiAgICAgICAgcmV0dXJuIHN0YXR1c1R5cGVzWzFdO1xuICAgICAgfVxuXG4gICAgICAvLyBlcnJvciB0b2xlcmFuY2UgcmVhY2hlZFxuICAgICAgcmV0dXJuIHN0YXR1c1R5cGVzWzJdO1xuICAgIH1cblxuICB9O1xufV0pO1xuIiwiTVVHLmZhY3RvcnkoJ25vd1RpbWUnLFxuWyckdGltZW91dCcsXG5mdW5jdGlvbigkdGltZW91dCkge1xuICB2YXIgbm93VGltZSA9IERhdGUubm93KCk7XG4gIHZhciB1cGRhdGVUaW1lID0gZnVuY3Rpb24oKSB7XG4gICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICBub3dUaW1lID0gRGF0ZS5ub3coKTtcbiAgICAgIHVwZGF0ZVRpbWUoKTtcbiAgICB9LCAxMDAwKTtcbiAgfTtcblxuICB1cGRhdGVUaW1lKCk7XG4gIHJldHVybiB7XG4gICAgZ2V0VGltZTogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gbm93VGltZTtcbiAgICB9XG4gIH07XG59XSk7XG4iLCJ2YXIgZnMgPSByZXF1aXJlKCdmcycpO1xuXG5NVUcuZmFjdG9yeSgnUHJvamVjdHMnLFxuWyckcScsXG5mdW5jdGlvbigkcSkge1xuICAvLyBDb25maWcgdGhlIG1haW4gcGF0aHNcbiAgdmFyIHByb2plY3RzUGF0aCA9IF9fZGlybmFtZSArICcvcHJvamVjdHMuanNvbic7XG4gIHZhciBwcm9qZWN0RmlsZXNQYXRoID0gX19kaXJuYW1lICsgJy9wcm9qZWN0cy8nO1xuXG4gIC8vIENyZWF0ZXMgYSBVVUlEIG9mIHRoZSBzcGVjaWZpZWQgbGVuZ3RoXG4gIGZ1bmN0aW9uIGNyZWF0ZVVVSUQocykge1xuICAgIHZhciBuO1xuICAgIGlmICh0eXBlb2YgcyA9PSAnbnVtYmVyJyAmJiBzID09PSBwYXJzZUludChzLCAxMCkpIHtcbiAgICAgIHMgPSBBcnJheShzICsgMSkuam9pbigneCcpO1xuICAgIH1cblxuICAgIHJldHVybiBzLnJlcGxhY2UoL3gvZywgZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgbiA9IE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIDYxKSArIDQ4O1xuICAgICAgbiA9IG4gPiA1NyA/IChuICsgNyA+IDkwID8gbiArIDEzIDogbiArIDcpIDogbjtcbiAgICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKG4pO1xuICAgIH0pO1xuICB9XG5cbiAgLy8gQ3JlYXRlcyBhIEpTT04gb2JqZWN0IGZvciBhIGJhc2VsaW5lIG5ldyBwcm9qZWN0XG4gIGZ1bmN0aW9uIGNyZWF0ZUR1bW15UHJvamVjdCh0b3RhbCkge1xuICAgIHRvdGFsID0gdG90YWwgfHwgMDtcbiAgICB2YXIgcHJvamVjdElkID0gY3JlYXRlVVVJRCgxMik7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlkOiBwcm9qZWN0SWQsXG4gICAgICB0aXRsZTogJ1Byb2plY3QgJyArIChwYXJzZUludCh0b3RhbCwgMTApICsgMSksXG4gICAgICB0aW1lc3RhbXA6ICgrbmV3IERhdGUpLFxuICAgICAgdG90YWxzOiB7XG4gICAgICAgIHN1Y2Nlc3M6IG51bGwsXG4gICAgICAgIHdhcm5pbmc6IG51bGwsXG4gICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgICB2aWV3czogMFxuICAgICAgfVxuICAgIH07XG4gIH1cblxuICAvLyBTZXRzIHVwIHRoZSBuZWVkZWQgYmFzZSBkYXRhIGZvciBzdG9yaW5nIGFuIGluZGl2aWR1YWwgcHJvamVjdFxuICBmdW5jdGlvbiBjcmVhdGVEdW1teVByb2plY3RGaWxlKG9wdGlvbnMpIHtcbiAgICB2YXIgcHJvamVjdElkID0gY3JlYXRlVVVJRCgxMik7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlkOiBvcHRpb25zLmlkLFxuICAgICAgdGl0bGU6IG9wdGlvbnMudGl0bGUsXG4gICAgICB0aW1lc3RhbXA6IG9wdGlvbnMudGltZXN0YW1wLFxuICAgICAgdmlld3BvcnRzOiBbXSxcbiAgICAgIHNlbGVjdG9yczogW10sXG4gICAgICBjb29raWVzOiBbXSxcbiAgICAgIG1ldGE6IHtcbiAgICAgICAgdXJsOiBudWxsLFxuICAgICAgICByZWFkeUV2ZW50OiBudWxsLFxuICAgICAgICBkZWxheTogbnVsbCxcbiAgICAgICAgbWlzTWF0Y2hUaHJlc2hvbGQ6IG51bGxcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgLy8gR3JhYnMgSlNPTiBmaWxlIGFuZCBhcHByb3ByaWF0ZWx5IGhhbmRsZXMgZXJyb3JzXG4gIGZ1bmN0aW9uIGdldEpzb25GaWxlKHBhdGgsIHR5cGUpIHtcbiAgICB2YXIgZmlsZTtcblxuICAgIHRyeSB7XG4gICAgICBmaWxlID0gZnMucmVhZEZpbGVTeW5jKHBhdGgsICd1dGY4Jyk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgLy8gY291bGRuJ3QgZmluZCBmaWxlXG4gICAgICBpZiAoZS5jb2RlID09PSAnRU5PRU5UJykge1xuICAgICAgICByZXR1cm4gdHlwZSB8fCB7fTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IGU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIEpTT04ucGFyc2UoZmlsZSk7XG4gIH1cblxuICByZXR1cm4ge1xuXG4gICAgZ2V0QWxsOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBnZXRKc29uRmlsZShwcm9qZWN0c1BhdGgsIFtdKTtcbiAgICB9LFxuXG4gICAgZ2V0QnlJZDogZnVuY3Rpb24oaWQpIHtcbiAgICAgIHJldHVybiBnZXRKc29uRmlsZShwcm9qZWN0RmlsZXNQYXRoICsgaWQgKyAnLmpzb24nKTtcbiAgICB9LFxuXG4gICAgZ2V0VHlwZUJ5SWQ6IGZ1bmN0aW9uKGlkLCB0eXBlKSB7XG4gICAgICByZXR1cm4gZ2V0SnNvbkZpbGUocHJvamVjdEZpbGVzUGF0aCArIGlkICsgJ18nICsgdHlwZSArICcuanNvbicsIFtdKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogY3JlYXRlcyBhIG5ldyBwcm9qZWN0LCBhbmQgcmV0dXJucyB0aGUgZGF0YSBpbiBhIHByb21pc2VcbiAgICAgKi9cbiAgICBjcmVhdGVOZXc6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGRmZCA9ICRxLmRlZmVyKCk7XG4gICAgICB2YXIgYWxsUHJvamVjdHMgPSBKU09OLnBhcnNlKGZzLnJlYWRGaWxlU3luYyhwcm9qZWN0c1BhdGgsICd1dGY4JykpO1xuICAgICAgdmFyIG5ld1Byb2plY3REYXRhID0gY3JlYXRlRHVtbXlQcm9qZWN0KGFsbFByb2plY3RzLmxlbmd0aCk7XG4gICAgICB2YXIgbmV3UHJvamVjdEZpbGUgPSBjcmVhdGVEdW1teVByb2plY3RGaWxlKG5ld1Byb2plY3REYXRhKTtcblxuICAgICAgYWxsUHJvamVjdHMudW5zaGlmdChuZXdQcm9qZWN0RGF0YSk7XG5cbiAgICAgIC8vIHNhdmUgdGhlIGRhdGEgdG8gdGhlIHByb2plY3RzIGxpc3RcbiAgICAgIGZzLndyaXRlRmlsZShwcm9qZWN0c1BhdGgsIEpTT04uc3RyaW5naWZ5KGFsbFByb2plY3RzKSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICBkZmQucmVqZWN0KGVycik7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc2F2ZSBhcyBhbiBpbmRpdmlkdWFsIGZpbGVcbiAgICAgICAgZnMud3JpdGVGaWxlKHByb2plY3RGaWxlc1BhdGggKyBuZXdQcm9qZWN0RGF0YS5pZCArICcuanNvbicsIEpTT04uc3RyaW5naWZ5KG5ld1Byb2plY3RGaWxlKSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgZGZkLnJlamVjdChlcnIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIHJlZGlyZWN0IHVzZXIgdG8gdGhlIHNldHRpbmdzIHBhZ2VcbiAgICAgICAgICBkZmQucmVzb2x2ZShuZXdQcm9qZWN0RGF0YSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBkZmQucHJvbWlzZTtcbiAgICB9LFxuXG4gICAgLy8gc2F2ZSB0byBmaWxlIGFuZCBsaXN0cywgcmV0dXJuIGxpc3QgZGF0YVxuICAgIHNhdmU6IGZ1bmN0aW9uKHByb2plY3REYXRhKSB7XG4gICAgICB2YXIgZGZkID0gJHEuZGVmZXIoKTtcbiAgICAgIHZhciBhbGxQcm9qZWN0cyA9IEpTT04ucGFyc2UoZnMucmVhZEZpbGVTeW5jKHByb2plY3RzUGF0aCwgJ3V0ZjgnKSk7XG5cbiAgICAgIC8vIFVwZGF0ZSB0aGUgbGlzdGluZyBkYXRhXG4gICAgICBhbGxQcm9qZWN0cy5tYXAoZnVuY3Rpb24ob2JqLCBpZHgpIHtcbiAgICAgICAgaWYgKG9iai5pZCA9PT0gcHJvamVjdERhdGEuaWQpIHtcbiAgICAgICAgICBhbGxQcm9qZWN0c1tpZHhdLnRpdGxlID0gcHJvamVjdERhdGEudGl0bGU7XG4gICAgICAgICAgYWxsUHJvamVjdHNbaWR4XS50aW1lc3RhbXAgPSAoK25ldyBEYXRlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIC8vIHNhdmUgYXMgYW4gaW5kaXZpZHVhbCBmaWxlXG4gICAgICBmcy53cml0ZUZpbGUocHJvamVjdEZpbGVzUGF0aCArIHByb2plY3REYXRhLmlkICsgJy5qc29uJywgSlNPTi5zdHJpbmdpZnkocHJvamVjdERhdGEpLCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgIGRmZC5yZWplY3QoZXJyKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyB1cGRhdGUgdGhlIGxpc3RpbmcgZGF0YVxuICAgICAgICBmcy53cml0ZUZpbGUocHJvamVjdHNQYXRoLCBKU09OLnN0cmluZ2lmeShhbGxQcm9qZWN0cyksIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgIGRmZC5yZWplY3QoZXJyKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyByZXR1cm4gdGhlIGxpc3RpbmcgZGF0YSwgc28gd2UgY2FuIHVwZGF0ZSB0aGUgc2lkZXBhbmVsXG4gICAgICAgICAgZGZkLnJlc29sdmUocHJvamVjdERhdGEpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gZGZkLnByb21pc2U7XG4gICAgfSxcblxuICAgIC8vIFJlbW92ZXMgYSBzaW5nbGUgcHJvamVjdCBieSBJRFxuICAgIHJlbW92ZTogZnVuY3Rpb24oaWQpIHtcbiAgICAgIHZhciBkZmQgPSAkcS5kZWZlcigpO1xuICAgICAgdmFyIGFsbFByb2plY3RzID0gSlNPTi5wYXJzZShmcy5yZWFkRmlsZVN5bmMocHJvamVjdHNQYXRoLCAndXRmOCcpKTtcblxuICAgICAgLy8gVXBkYXRlIHRoZSBsaXN0aW5nIGRhdGFcbiAgICAgIGFsbFByb2plY3RzLm1hcChmdW5jdGlvbihvYmosIGlkeCkge1xuICAgICAgICBpZiAob2JqLmlkID09PSBpZCkge1xuICAgICAgICAgIGFsbFByb2plY3RzLnNwbGljZShpZHgsIDEpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgLy8gUmVtb3ZlIHRoZSBwcm9qZWN0IGZpbGVcbiAgICAgIGZzLnVubGluayhwcm9qZWN0RmlsZXNQYXRoICsgaWQgKyAnLmpzb24nLCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgIGRmZC5yZWplY3QoZXJyKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyB1cGRhdGUgdGhlIGxpc3RpbmcgZGF0YVxuICAgICAgICBmcy53cml0ZUZpbGUocHJvamVjdHNQYXRoLCBKU09OLnN0cmluZ2lmeShhbGxQcm9qZWN0cyksIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgIGRmZC5yZWplY3QoZXJyKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyByZXR1cm5cbiAgICAgICAgICBkZmQucmVzb2x2ZSgpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gZGZkLnByb21pc2U7XG4gICAgfVxuICB9O1xufV0pO1xuIiwiTVVHLmZpbHRlcigndGltZUFnbycsXG5bJ25vd1RpbWUnLCAndGltZUFnbycsXG5mdW5jdGlvbiAobm93VGltZSwgdGltZUFnbykge1xuICByZXR1cm4gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgdmFyIGZyb21UaW1lID0gdGltZUFnby5wYXJzZSh2YWx1ZSk7XG4gICAgdmFyIGRpZmYgPSBub3dUaW1lLmdldFRpbWUoKSAtIGZyb21UaW1lO1xuICAgIHJldHVybiB0aW1lQWdvLmluV29yZHMoZGlmZik7XG4gIH07XG59XSk7XG4iLCJNVUcuY29udHJvbGxlcignTWFpbkN0cmwnLFxuWyckcm9vdFNjb3BlJywgJyRzY29wZScsICckc3RhdGUnLCAnQ29uZmlnJywgJ1Byb2plY3RzJyxcbmZ1bmN0aW9uKCRyb290U2NvcGUsICRzY29wZSwgJHN0YXRlLCBDb25maWcsIFByb2plY3RzKSB7XG4gICRyb290U2NvcGUuY3VycmVudFByb2plY3RJZCA9ICcnO1xuXG4gICRzY29wZS5jcmVhdGVOZXdQcm9qZWN0ID0gZnVuY3Rpb24oKSB7XG4gICAgUHJvamVjdHMuY3JlYXRlTmV3KCkudGhlbihmdW5jdGlvbihyZXMpIHtcbiAgICAgICRyb290U2NvcGUuJGJyb2FkY2FzdCgnU0lERVBBTkVMOk5FV1BST0pFQ1QnLCByZXMpO1xuICAgICAgJHN0YXRlLmdvKCdwcm9qZWN0cy5zZXR0aW5ncycsIHsgaWQ6IHJlcy5pZCB9KTtcbiAgICB9LFxuXG4gICAgZnVuY3Rpb24oZXJyKSB7XG4gICAgICBjb25zb2xlLmxvZygnZXJyJywgZXJyKTtcbiAgICB9KTtcbiAgfTtcblxuICAvLyAkcm9vdFNjb3BlLiRlbWl0KCdBTEVSVDpGSVJFJywgeyAgdGl0bGU6ICdIZXkgdGhlcmUsIEltIGFuIGFsZXJ0ISEnLCBkdXI6IDUsIHR5cGU6ICdzdWNjZXNzJyB9KTtcbiAgLy9cbiAgLy8gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgLy8gICAkcm9vdFNjb3BlLiRlbWl0KCdBTEVSVDpGSVJFJywgeyAgdGl0bGU6ICdIZXkgdGhlcmUsIEltIGFuIGVycm9yISEnLCBkdXI6IDUsIHR5cGU6ICdlcnJvcicsIGljb246ICdzdG9wJyB9KTtcbiAgLy8gfSwgMzAwMCk7XG5cbn1dKTtcbiIsIk1VRy5jb250cm9sbGVyKCdQcm9qZWN0Q3RybCcsXG5bJyRyb290U2NvcGUnLCAnJHNjb3BlJywgJyRzdGF0ZVBhcmFtcycsICdQcm9qZWN0cycsXG5mdW5jdGlvbigkcm9vdFNjb3BlLCAkc2NvcGUsICRzdGF0ZVBhcmFtcywgUHJvamVjdHMpIHtcblxuICAvLyBBbGxvdyB0aGUgY2hpbGQgdmlld3MgdG8gYmluZCB0byBzYW1lIHNjb3BlXG4gICRyb290U2NvcGUucHJvamVjdCA9IFByb2plY3RzLmdldEJ5SWQoJHN0YXRlUGFyYW1zLmlkKTtcblxufV0pO1xuIiwiTVVHLmNvbnRyb2xsZXIoJ1Byb2plY3RIaXN0b3J5Q3RybCcsXG5bJyRyb290U2NvcGUnLCAnJHNjb3BlJywgJyRzdGF0ZVBhcmFtcycsICdQcm9qZWN0cycsXG5mdW5jdGlvbigkcm9vdFNjb3BlLCAkc2NvcGUsICRzdGF0ZVBhcmFtcywgUHJvamVjdHMpIHtcbiAgJHNjb3BlLmFjdGl2ZUZpbHRlciA9ICdBbGwnO1xuICAkc2NvcGUuYWN0aXZlRmlsdGVyUXVlcnkgPSAnJztcblxuICAvLyBncmFiIGFsbCB0aGUgaGlzdG9yeSBkYXRhXG4gICRzY29wZS5oaXN0b3J5SXRlbXMgPSBQcm9qZWN0cy5nZXRUeXBlQnlJZCgkc3RhdGVQYXJhbXMuaWQsICdoaXN0b3J5Jyk7XG5cbiAgJHNjb3BlLmNoYW5nZUZpbHRlciA9IGZ1bmN0aW9uKHR5cGUpIHtcbiAgICAkc2NvcGUuYWN0aXZlRmlsdGVyID0gdHlwZTtcbiAgICAkc2NvcGUuYWN0aXZlRmlsdGVyUXVlcnkgPSAodHlwZSA9PSAnQWxsJykgPyAnJyA6IHR5cGU7XG4gIH07XG5cbiAgJHNjb3BlLnByZXZpZXdJdGVtID0gZnVuY3Rpb24oaXRlbSkge1xuICAgICRyb290U2NvcGUuJGVtaXQoJ01PREFMOk9QRU4nLCB7IHR5cGU6ICdwcmV2aWV3JywgaXRlbTogaXRlbSwgcHJvamVjdDogJHJvb3RTY29wZS5wcm9qZWN0IH0pO1xuICB9O1xuXG59XSk7XG4iLCJ2YXIgaXBjID0gcmVxdWlyZSgnaXBjJyk7XG5cbk1VRy5jb250cm9sbGVyKCdQcm9qZWN0UnVubmVyQ3RybCcsXG5bJyRyb290U2NvcGUnLCAnJHNjb3BlJywgJyR0aW1lb3V0JywgJyRzdGF0ZVBhcmFtcycsICdQcm9qZWN0cycsXG5mdW5jdGlvbigkcm9vdFNjb3BlLCAkc2NvcGUsICR0aW1lb3V0LCAkc3RhdGVQYXJhbXMsIFByb2plY3RzKSB7XG4gICRzY29wZS5wcm9jZXNzaW5nID0gZmFsc2U7XG4gICRzY29wZS5oYXNTZXR0aW5ncyA9IHRydWU7IC8vIFRPRE86IG1ha2UgdGhpcyByZWFsXG4gICRzY29wZS5oYXNSZWZlcmVuY2UgPSB0cnVlOyAvLyBUT0RPOiBtYWtlIHRoaXMgcmVhbFxuICAkc2NvcGUuYWN0aXZlRmlsdGVyID0gJ0FsbCc7XG4gICRzY29wZS5iYXRjaEl0ZW1zID0gW107XG4gICRzY29wZS5hY3RpdmVEYXRhID0ge307XG4gICRzY29wZS5jdXJyZW50QmF0Y2ggPSAkcm9vdFNjb3BlLnByb2plY3QuY3VycmVudEJhdGNoIHx8IDA7XG4gICRzY29wZS5wcm9ncmVzcyA9IHtcbiAgICBwZXJjZW50OiAwXG4gIH07XG5cbiAgLy8gU2V0IHRoZSBhY3RpdmUgZGF0YSBiYXNlZCBvbiBjdXJyZW50QmF0Y2hcbiAgJHNjb3BlLmFjdGl2ZURhdGEgPSAoJHJvb3RTY29wZS5wcm9qZWN0ICYmICRyb290U2NvcGUucHJvamVjdC5iYXRjaEhpc3RvcnkpID8gJHJvb3RTY29wZS5wcm9qZWN0LmJhdGNoSGlzdG9yeVskc2NvcGUuY3VycmVudEJhdGNoXSA6IG51bGw7XG5cbiAgLy8gUHV0cyBkYXRhIGludG8gc29ydGVkIHNlY3Rpb25zXG4gIGZ1bmN0aW9uIHByb2Nlc3NCYXRjaChhbGxEYXRhKSB7XG4gICAgaWYgKCFhbGxEYXRhIHx8IGFsbERhdGEubGVuZ3RoIDwgMSkge1xuICAgICAgJHNjb3BlLmhhc1JlZmVyZW5jZSA9IGZhbHNlO1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cblxuICAgIC8vIHJlc2V0IGp1c3QgdGhlIHN0YXRzXG4gICAgJHNjb3BlLmFjdGl2ZURhdGEgPSB7fTtcbiAgICAkc2NvcGUuYWN0aXZlRGF0YS5zdWNjZXNzID0gMDtcbiAgICAkc2NvcGUuYWN0aXZlRGF0YS53YXJuaW5nID0gMDtcbiAgICAkc2NvcGUuYWN0aXZlRGF0YS5lcnJvciA9IDA7XG4gICAgdmFyIGZvcm1hdHRlZCA9IFt7IHR5cGU6ICdzdWNjZXNzJywgaXRlbXM6IFtdfSwgeyB0eXBlOiAnd2FybmluZycsIGl0ZW1zOiBbXX0sIHsgdHlwZTogJ2Vycm9yJywgaXRlbXM6IFtdfV07XG5cbiAgICBmdW5jdGlvbiBwbGFjZUl0ZW0oaXRlbSkge1xuXG4gICAgICAvLyBLZWVwIHRoaW5ncyBvcmdhbml6ZXMgd2l0aCBwcmVzZXQgcHJpb3JpdHlcbiAgICAgIGlmIChpdGVtLnN0YXR1cykge1xuICAgICAgICB2YXIgdGFyZ2V0ID0gMDtcblxuICAgICAgICBzd2l0Y2ggKGl0ZW0uc3RhdHVzKSB7XG4gICAgICAgICAgY2FzZSAnd2FybmluZyc6XG4gICAgICAgICAgICB0YXJnZXQgPSAxO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnZmFpbGVkJzpcbiAgICAgICAgICAgIHRhcmdldCA9IDI7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIGZvcm1hdHRlZFt0YXJnZXRdLml0ZW1zLnVuc2hpZnQoaXRlbSk7XG4gICAgICAgICRzY29wZS5hY3RpdmVEYXRhW2Zvcm1hdHRlZFt0YXJnZXRdLnR5cGVdID0gJHNjb3BlLmFjdGl2ZURhdGFbZm9ybWF0dGVkW3RhcmdldF0udHlwZV0gKyAxO1xuICAgICAgfVxuICAgIH1cblxuICAgIGFsbERhdGEubWFwKGZ1bmN0aW9uKG9iaiwgaWR4KSB7XG4gICAgICBpZiAob2JqLmJhdGNoID09PSAkc2NvcGUuY3VycmVudEJhdGNoKSB7XG4gICAgICAgIHBsYWNlSXRlbShvYmopO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIGZvcm1hdHRlZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNldHVwQ3VycmVudEJhdGNoKCkge1xuICAgIC8vIGdyYWIgYWxsIHRoZSBydW5uZXIgdGVzdCBkYXRhXG4gICAgdmFyIGhpc3RvcnlEYXRhID0gUHJvamVjdHMuZ2V0VHlwZUJ5SWQoJHN0YXRlUGFyYW1zLmlkLCAnaGlzdG9yeScpO1xuXG4gICAgLy8gU3RvcmUgdGhlIHByb2Nlc3NlZCBkYXRhIGludG8gdGhlIGJhdGNoIGRhdGFcbiAgICAkc2NvcGUuYmF0Y2hJdGVtcyA9IHByb2Nlc3NCYXRjaChoaXN0b3J5RGF0YSk7XG4gIH1cblxuICBzZXR1cEN1cnJlbnRCYXRjaCgpO1xuXG4gIC8vIFRPRE86XG4gIC8vICogSW50cm9cbiAgLy8gICAqIHNlZSBsYXN0IHJ1biAoaWYgYW55KVxuICAvLyAgICogc3RhcnQgbmV3IHJ1blxuICAvLyAgICogc3RhcnQgcmVmZXJlbmNlXG5cbiAgLy8gRmlyZSBvZmYgdGhlIHZpZXdlclxuICAkc2NvcGUucHJldmlld0JhdGNoID0gZnVuY3Rpb24oaXRlbXMpIHtcbiAgICAkcm9vdFNjb3BlLiRlbWl0KCdNT0RBTDpPUEVOJywgeyB0eXBlOiAnYmF0Y2gnLCBpdGVtczogaXRlbXMsIHByb2plY3Q6ICRyb290U2NvcGUucHJvamVjdCB9KTtcbiAgfTtcblxuICAvLyBGaXJlIG9mZiBhIG5ldyB0ZXN0ISFcbiAgJHNjb3BlLm5ld0NvbXBhcmUgPSBmdW5jdGlvbigpIHtcbiAgICAkc2NvcGUucHJvY2Vzc2luZyA9IHRydWU7XG4gICAgaXBjLnNlbmQoJ1JVTk5FUjpGSVJFJywgeyB0eXBlOiAnY29tcGFyZScsIHByb2plY3RJZDogJHJvb3RTY29wZS5wcm9qZWN0LmlkIH0pO1xuICB9O1xuXG4gIC8vIHNldHVwIG5ldyByZWZlcmVuY2VcbiAgJHNjb3BlLm5ld1JlZmVyZW5jZSA9IGZ1bmN0aW9uKCkge1xuICAgICRzY29wZS5wcm9jZXNzaW5nID0gdHJ1ZTtcbiAgICBpcGMuc2VuZCgnUlVOTkVSOkZJUkUnLCB7IHR5cGU6ICdyZWZlcmVuY2UnLCBwcm9qZWN0SWQ6ICRyb290U2NvcGUucHJvamVjdC5pZCB9KTtcbiAgfTtcblxuICBmdW5jdGlvbiBydW5uZXJFdmVudHMoYXJncykge1xuICAgIGlmICghYXJncyB8fCAhYXJncy5tc2cgfHwgIWFyZ3MucGVyY2VudCkge3JldHVybjt9XG5cbiAgICAvLyBXcml0ZSB0aGUgcHJvZ3Jlc3MgdG8gVUlcbiAgICAkc2NvcGUucHJvZ3Jlc3MucGVyY2VudCA9IHBhcnNlSW50KGFyZ3MucGVyY2VudCwgMTApO1xuICAgICRzY29wZS5wcm9ncmVzcy50aXRsZSA9IChhcmdzLm1zZykgPyBhcmdzLm1zZyA6ICRzY29wZS5wcm9ncmVzcy50aXRsZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJ1bm5lckNvbXBsZXRlKCkge1xuICAgIHNldHVwQ3VycmVudEJhdGNoKCk7XG4gICAgJHNjb3BlLnByb2Nlc3NpbmcgPSBmYWxzZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJ1bm5lckZhaWxlZChyZWFzb24pIHtcbiAgICBjb25zb2xlLmxvZygnUlVOTkVSOkZBSUxFRCByZWFzb24nLCByZWFzb24pO1xuICAgICRzY29wZS5wcm9jZXNzaW5nID0gZmFsc2U7XG4gIH1cblxuICBpcGMub24oJ1JVTk5FUjpQUk9HUkVTUycsIHJ1bm5lckV2ZW50cyk7XG4gIGlwYy5vbignUlVOTkVSOkNPTVBMRVRFJywgcnVubmVyQ29tcGxldGUpO1xuICBpcGMub24oJ1JVTk5FUjpGQUlMRUQnLCBydW5uZXJGYWlsZWQpO1xuXG59XSk7XG4iLCJNVUcuY29udHJvbGxlcignUHJvamVjdFNldHRpbmdzQ3RybCcsXG5bJyRyb290U2NvcGUnLCAnJHNjb3BlJywgJyRzdGF0ZScsICdQcm9qZWN0cycsXG5mdW5jdGlvbigkcm9vdFNjb3BlLCAkc2NvcGUsICRzdGF0ZSwgUHJvamVjdHMpIHtcbiAgdmFyIHNhdmVUaW1lcjtcblxuICAkc2NvcGUuc2VsZWN0b3JUeXBlcyA9IFsnY29udGFpbmVyJywgJ2hpZGUnLCAncmVtb3ZlJ107XG4gICRzY29wZS5oYXNDaGFuZ2VzID0gZmFsc2U7XG4gICRzY29wZS5tYXN0ZXIgPSB7fTtcbiAgYW5ndWxhci5jb3B5KCRyb290U2NvcGUucHJvamVjdCwgJHNjb3BlLm1hc3Rlcik7XG5cbiAgZnVuY3Rpb24gYWRkTmV3VHlwZSh0eXBlLCBkYXRhKSB7XG4gICAgJHJvb3RTY29wZS5wcm9qZWN0W3R5cGVdLnB1c2goZGF0YSk7XG4gIH1cblxuICAvLyBXYXRjaCBmb3IgY2hhbmdlcywgc28gd2UgY2FuIHNhdmVcbiAgJHNjb3BlLiR3YXRjaCgncHJvamVjdCcsIGZ1bmN0aW9uKG5WLCBvVikge1xuICAgIGlmIChuViAhPSBvVikge1xuICAgICAgJHNjb3BlLmhhc0NoYW5nZXMgPSB0cnVlO1xuXG4gICAgICAvLyBzYXZlIHRoZSBmaWxlIGZvciBjb252ZW5pZW5jZVxuICAgICAgJHNjb3BlLnNhdmUoKTtcbiAgICB9XG4gIH0sIHRydWUpO1xuXG4gIC8vIFRPRE86IHNldHVwIHZhbGlkYXRpb25zXG4gIC8vIHNhdmUgdGhlIGN1cnJlbnQgcHJvamVjdFxuICAkc2NvcGUuc2F2ZSA9IGZ1bmN0aW9uKCkge1xuICAgIGlmIChzYXZlVGltZXIpIHtcbiAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQoc2F2ZVRpbWVyKTtcbiAgICB9XG5cbiAgICAvLyB0aHJvdHRsZSB0aGUgc2F2ZXMsIHNpbmNlIHdlIHNhdmUgb24gYW55IGNoYW5nZXNcbiAgICBzYXZlVGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXG4gICAgICAvLyBTYXZlIHRlaCBwcm9qZWN0b2lkXG4gICAgICBQcm9qZWN0cy5zYXZlKCRyb290U2NvcGUucHJvamVjdClcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzKSB7XG4gICAgICAgICAgLy8gVXBkYXRlIHRoZSBzaWRlYmFyIHdpdGggY2hhbmdlc1xuICAgICAgICAgICRyb290U2NvcGUuJGVtaXQoJ1NJREVQQU5FTDpVUERBVEUnLCByZXMpO1xuXG4gICAgICAgICAgLy8gVXBkYXRlIHRoZSByZXZlcnQgbW9kZWxcbiAgICAgICAgICBhbmd1bGFyLmNvcHkoJHJvb3RTY29wZS5wcm9qZWN0LCAkc2NvcGUubWFzdGVyKTtcbiAgICAgICAgICAkc2NvcGUuaGFzQ2hhbmdlcyA9IGZhbHNlO1xuICAgICAgICB9LFxuXG4gICAgICAgIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdlcnInLCBlcnIpO1xuICAgICAgICB9KTtcbiAgICB9LCAyMDApO1xuICB9O1xuXG4gIC8vIHJldmVydCB0aGUgY3VycmVudCBwcm9qZWN0XG4gICRzY29wZS5jYW5jZWxTYXZlID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHN1cmUgPSBjb25maXJtKCdBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gY2xlYXIgYWxsIHlvdXIgY2hhbmdlcz8nKTtcbiAgICBpZiAoc3VyZSkge1xuICAgICAgLy8gcHV0IHJldmVydCBtb2RlbCBpbnRvIHRoZSBwcm9qZWN0IG1vZGVsXG4gICAgICBhbmd1bGFyLmNvcHkoJHNjb3BlLm1hc3RlciwgJHJvb3RTY29wZS5wcm9qZWN0KTtcbiAgICAgICRzY29wZS5oYXNDaGFuZ2VzID0gZmFsc2U7XG4gICAgfVxuICB9O1xuXG4gIC8vIGRlbGV0ZSB0aGUgcHJvamVjdCwgYW5kIHJlbW92ZSBmcm9tIHByb2plY3QgbGlzdHMsIHRoZW4gcmVkaXJlY3QgdG8gbWFpblxuICAkc2NvcGUuZGVsZXRlUHJvamVjdCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBzdXJlID0gY29uZmlybSgnQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSB0aGlzIHByb2plY3Q/Jyk7XG4gICAgaWYgKHN1cmUpIHtcbiAgICAgIHZhciBwcm9qZWN0SUQgPSAkcm9vdFNjb3BlLnByb2plY3QuaWQ7XG5cbiAgICAgIFByb2plY3RzLnJlbW92ZShwcm9qZWN0SUQpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uKHJlcykge1xuICAgICAgICAgICRyb290U2NvcGUuJGVtaXQoJ1NJREVQQU5FTDpSRU1PVkUnLCB7IGlkOiBwcm9qZWN0SUQgfSk7XG4gICAgICAgICAgJHN0YXRlLmdvKCdtYWluJyk7XG4gICAgICAgICAgJHJvb3RTY29wZS5wcm9qZWN0ID0ge307XG4gICAgICAgICAgJHNjb3BlLmhhc0NoYW5nZXMgPSBmYWxzZTtcbiAgICAgICAgfSxcblxuICAgICAgICBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnZXJyJywgZXJyKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgLy8gQWRkcyBhIG5ldyB2aWV3cG9ydCBpdGVtXG4gICRzY29wZS5hZGRWaWV3cG9ydCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBuZXdWaWV3cG9ydCA9IHtcbiAgICAgIGFjdGl2ZTogdHJ1ZSxcbiAgICAgIG5hbWU6IG51bGwsXG4gICAgICB3aWR0aDogbnVsbCxcbiAgICAgIGhlaWdodDogbnVsbFxuICAgIH07XG5cbiAgICBhZGROZXdUeXBlKCd2aWV3cG9ydHMnLCBuZXdWaWV3cG9ydCk7XG4gIH07XG5cbiAgLy8gQWRkcyBhIG5ldyBzZWxlY3RvciBpdGVtXG4gICRzY29wZS5hZGRTZWxlY3RvciA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBuZXdTZWxlY3RvciA9IHtcbiAgICAgIGFjdGl2ZTogdHJ1ZSxcbiAgICAgIHR5cGU6ICdjb250YWluZXInLFxuICAgICAgcXVlcnk6IG51bGxcbiAgICB9O1xuXG4gICAgYWRkTmV3VHlwZSgnc2VsZWN0b3JzJywgbmV3U2VsZWN0b3IpO1xuICB9O1xuXG4gIC8vIEFkZHMgYSBuZXcgY29va2llIGl0ZW1cbiAgJHNjb3BlLmFkZENvb2tpZSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBuZXdDb29raWUgPSB7XG4gICAgICBhY3RpdmU6IHRydWUsXG4gICAgICBuYW1lOiBudWxsLFxuICAgICAgdmFsdWU6IG51bGwsXG4gICAgICBwYXRoOiBudWxsXG4gICAgfTtcblxuICAgIGFkZE5ld1R5cGUoJ2Nvb2tpZXMnLCBuZXdDb29raWUpO1xuICB9O1xuXG4gIC8vIGFjdGl2YXRlIGEgY29va2llL3ZpZXcvc2VsZWN0XG4gICRzY29wZS5hY3RpdmF0ZVR5cGUgPSBmdW5jdGlvbih0eXBlLCBpZCkge1xuICAgICRyb290U2NvcGUucHJvamVjdFt0eXBlXVtpZF0uYWN0aXZlID0gKCRyb290U2NvcGUucHJvamVjdFt0eXBlXVtpZF0uYWN0aXZlID09PSB0cnVlIHx8ICRyb290U2NvcGUucHJvamVjdFt0eXBlXVtpZF0uYWN0aXZlID09PSAndHJ1ZScpID8gZmFsc2UgOiB0cnVlO1xuXG4gICAgLy8gc2F2ZSB0aGUgZmlsZSBmb3IgY29udmVuaWVuY2VcbiAgICAkc2NvcGUuc2F2ZSgpO1xuICB9O1xuXG4gIC8vIFJlbW92ZSBhIGNvb2tpZS92aWV3L3NlbGVjdFxuICAkc2NvcGUuZGVsZXRlVHlwZUl0ZW0gPSBmdW5jdGlvbih0eXBlLCBpZCkge1xuICAgICRyb290U2NvcGUucHJvamVjdFt0eXBlXS5zcGxpY2UoaWQsIDEpO1xuXG4gICAgLy8gc2F2ZSB0aGUgZmlsZSBmb3IgY29udmVuaWVuY2VcbiAgICAkc2NvcGUuc2F2ZSgpO1xuICB9O1xuXG59XSk7XG4iLCJ2YXIgZnMgPSByZXF1aXJlKCdmcycpO1xuXG5NVUcuY29udHJvbGxlcignU2lkZVBhbmVsQ3RybCcsXG5bJyRyb290U2NvcGUnLCAnJHNjb3BlJywgJyRzdGF0ZScsICdQcm9qZWN0cycsXG5mdW5jdGlvbigkcm9vdFNjb3BlLCAkc2NvcGUsICRzdGF0ZSwgUHJvamVjdHMpIHtcbiAgJHNjb3BlLnByb2plY3RzID0gW107XG5cbiAgLy8gZ3JhYiBhbGwgcHJvamVjdHMgbGlzdFxuICAkc2NvcGUucHJvamVjdHMgPSBQcm9qZWN0cy5nZXRBbGwoKTtcblxuICAvLyBhZGQgbmV3IHByb2plY3QgdG8gdGhlIHByb2plY3RzIGxpc3RcbiAgJHJvb3RTY29wZS4kb24oJ1NJREVQQU5FTDpORVdQUk9KRUNUJywgZnVuY3Rpb24oZSwgYXJncykge1xuICAgIGlmICghYXJncyB8fCAhYXJncy5pZCkgeyByZXR1cm47IH1cblxuICAgICRzY29wZS5wcm9qZWN0cy51bnNoaWZ0KGFyZ3MpO1xuICB9KTtcblxuICAvLyB1cGRhdGUgdGhlIHByb2plY3RzIGxpc3RcbiAgJHJvb3RTY29wZS4kb24oJ1NJREVQQU5FTDpVUERBVEUnLCBmdW5jdGlvbihlLCBhcmdzKSB7XG4gICAgaWYgKCFhcmdzIHx8ICFhcmdzLmlkKSB7IHJldHVybjsgfVxuXG4gICAgJHNjb3BlLnByb2plY3RzLm1hcChmdW5jdGlvbihvYmosIGlkeCkge1xuICAgICAgaWYgKG9iai5pZCA9PT0gYXJncy5pZCkge1xuICAgICAgICAkc2NvcGUucHJvamVjdHNbaWR4XSA9IGFyZ3M7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuXG4gIC8vIHVwZGF0ZSB0aGUgcHJvamVjdHMgbGlzdFxuICAkcm9vdFNjb3BlLiRvbignU0lERVBBTkVMOlJFTU9WRScsIGZ1bmN0aW9uKGUsIGFyZ3MpIHtcbiAgICBpZiAoIWFyZ3MgfHwgIWFyZ3MuaWQpIHsgcmV0dXJuOyB9XG5cbiAgICAkc2NvcGUucHJvamVjdHMubWFwKGZ1bmN0aW9uKG9iaiwgaWR4KSB7XG4gICAgICBpZiAob2JqLmlkID09PSBhcmdzLmlkKSB7XG4gICAgICAgICRzY29wZS5wcm9qZWN0cy5zcGxpY2UoaWR4LCAxKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG5cbiAgJHNjb3BlLmdvVG9Qcm9qZWN0ID0gZnVuY3Rpb24oaWQpIHtcbiAgICAvLyBUT0RPOiBmaXggdGhpc1xuICAgIC8vIHZhciB0eXBlID0gJ3NldHRpbmdzJztcbiAgICB2YXIgdHlwZSA9ICdydW5uZXInO1xuXG4gICAgLy8gVE9ETzogc2V0dXAgdG8gZmlndXJlIG91dCBpZiB3ZSBuZWVkIHRvIGdvIHRvIHNldHRpbmdzLCBvdGhlcndpc2UgZ28gdG8gcnVubmVyXG4gICAgJHN0YXRlLmdvKCdwcm9qZWN0cy4nICsgdHlwZSwgeyBpZDogaWQgfSk7XG4gICAgJHJvb3RTY29wZS5jdXJyZW50UHJvamVjdElkID0gaWQ7XG4gIH1cblxufV0pO1xuIiwiLyoqXG4gKiBDb25maWdcbiAqL1xuTVVHLmNvbnN0YW50KCdDb25maWcnLCB7XG4gIEVOVjogJ1NUQUdFJyxcbiAgU1RBR0U6IHtcbiAgfSxcbiAgUFJPRDoge1xuICB9LFxuICBDb21wYXJlOiB7XG4gICAgZXJyb3JDb2xvcjoge1xuICAgICAgcmVkOiAyNTUsXG4gICAgICBncmVlbjogMCxcbiAgICAgIGJsdWU6IDI1NVxuICAgIH0sXG4gICAgZXJyb3JUeXBlOiAnZmxhdCcsXG4gICAgdHJhbnNwYXJlbmN5OiAxLFxuICAgIGxhcmdlSW1hZ2VUaHJlc2hvbGQ6IDBcbiAgfVxufSk7XG4iLCJNVUcuY29uZmlnKFxuWyckc3RhdGVQcm92aWRlcicsICckdXJsUm91dGVyUHJvdmlkZXInLFxuZnVuY3Rpb24oJHN0YXRlUHJvdmlkZXIsICR1cmxSb3V0ZXJQcm92aWRlcikge1xuXG4gIC8vIFJvdXRlc1xuICAvLyAvXG4gIC8vIC9wcm9qZWN0c1xuICAvLyAvcHJvamVjdHMvOmlkL3J1bm5lclxuICAvLyAvcHJvamVjdHMvOmlkL2hpc3RvcnlcbiAgLy8gL3Byb2plY3RzLzppZC9zZXR0aW5nc1xuXG4gICRzdGF0ZVByb3ZpZGVyXG5cbiAgLyoqXG4gICAqIEJhc2UgUm91dGVcbiAgICovXG4gIC5zdGF0ZSgnbWFpbicsIHtcbiAgICB1cmw6ICcvJyxcbiAgICB0ZW1wbGF0ZVVybDogJ21haW4uaHRtbCdcbiAgfSlcblxuICAvKipcbiAgICogUHJvamVjdCBSb3V0ZXNcbiAgICovXG4gIC5zdGF0ZSgncHJvamVjdHMnLCB7XG4gICAgdXJsOiAnL3Byb2plY3RzLzppZCcsXG4gICAgdGVtcGxhdGVVcmw6ICdwcm9qZWN0cy5odG1sJyxcbiAgICBjb250cm9sbGVyOiAnUHJvamVjdEN0cmwnXG4gIH0pXG4gIC5zdGF0ZSgncHJvamVjdHMuc2V0dGluZ3MnLCB7XG4gICAgdXJsOiAnL3NldHRpbmdzJyxcbiAgICB0ZW1wbGF0ZVVybDogJ3Byb2plY3RzLnNldHRpbmdzLmh0bWwnLFxuICAgIGNvbnRyb2xsZXI6ICdQcm9qZWN0U2V0dGluZ3NDdHJsJ1xuICB9KVxuICAuc3RhdGUoJ3Byb2plY3RzLnJ1bm5lcicsIHtcbiAgICB1cmw6ICcvcnVubmVyJyxcbiAgICB0ZW1wbGF0ZVVybDogJ3Byb2plY3RzLnJ1bm5lci5odG1sJyxcbiAgICBjb250cm9sbGVyOiAnUHJvamVjdFJ1bm5lckN0cmwnXG4gIH0pXG4gIC5zdGF0ZSgncHJvamVjdHMuaGlzdG9yeScsIHtcbiAgICB1cmw6ICcvaGlzdG9yeScsXG4gICAgdGVtcGxhdGVVcmw6ICdwcm9qZWN0cy5oaXN0b3J5Lmh0bWwnLFxuICAgIGNvbnRyb2xsZXI6ICdQcm9qZWN0SGlzdG9yeUN0cmwnXG4gIH0pXG5cbiAgLyoqXG4gICAqIFN0YXRpYyBSb3V0ZXNcbiAgICovXG5cbiAgLy8gLnN0YXRlKCdtYWluLjQwNCcsIHtcbiAgLy8gICAgIHVybDogXCIvNDA0XCIsXG4gIC8vICAgICB0ZW1wbGF0ZVVybDogXCJ0ZW1wbGF0ZXMvNDA0Lmh0bWxcIixcbiAgLy8gICAgIGlzRXh0ZXJuYWw6IHRydWVcbiAgLy8gfSlcblxuICAvLyBFbmQgb2YgdGhlIHdvcmxkXG4gIDtcblxuICAvLyB1cmwgcmUtcm91dGluZ1xuICAvLyAkdXJsUm91dGVyUHJvdmlkZXJcbiAgLy8gICAud2hlbignL3Byb2plY3RzJywgJy8nKVxuICAvLyAgIC53aGVuKCcvcHJvamVjdHMvJywgJy8nKTtcblxuICAvLyBpZiBub25lIG9mIHRoZSBhYm92ZSBzdGF0ZXMgYXJlIG1hdGNoZWQsIHVzZSB0aGlzIGFzIHRoZSBmYWxsYmFja1xuICAkdXJsUm91dGVyUHJvdmlkZXIub3RoZXJ3aXNlKCcvJyk7XG59XSk7XG4iLCJNVUcucnVuKFsnJHJvb3RTY29wZScsICckaHR0cCcsXG5mdW5jdGlvbigkcm9vdFNjb3BlLCAkaHR0cCkge1xuXG4gIC8vIGhlYWRlcnNcbiAgdmFyICRjb21tb24gPSAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbjtcbiAgJGNvbW1vblsnQ29udGVudC1UeXBlJ10gPSAnYXBwbGljYXRpb24vanNvbic7XG5cbiAgJHJvb3RTY29wZS4kb24oJyRzdGF0ZUNoYW5nZUVycm9yJywgZnVuY3Rpb24oZXZlbnQsIHRvU3RhdGUsIHRvUGFyYW1zLCBmcm9tU3RhdGUsIGZyb21QYXJhbXMsIGVycm9yKSB7XG4gICAgY29uc29sZS5sb2coJyRzdGF0ZUNoYW5nZUVycm9yJywgZXJyb3IpO1xuICB9KTtcblxufV0pO1xuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9