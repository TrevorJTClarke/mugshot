var MUG=angular.module("mugshot",["ui.router","mugtemplates"]);MUG.directive("alert",["$rootScope","$timeout","$compile","$templateCache",function(e,t,r,n){return{restrict:"E",replace:!0,template:'<div class="alert-parent"></div>',scope:{},link:function(o,i,c,a){function s(n){var o=+new Date,i=(n.title,n.icon?n.icon:null,e.$new(!0));i.alert={},i.alert.id=o,i.alert.icon=n.icon?n.icon:null,i.alert.type=n.type?n.type:"info",i.alert.title=n.title,i.alert.action=n.callback?function(){this.id;n.callback(),u(this)}:null;var c=r(p)(i);c[0].id=o,m=o,f.append(c),c.addClass(v),t(function(){c.addClass(h)},20),l=t(function(){u(c)},d)}function u(e){if(!e&&m)e=angular.element(document.getElementById(m));else{if(!e)return;e&&(e=angular.element(e))}e.removeClass(h),t(function(){e.remove()},300)}var l,p=n.get("alert.html"),f=angular.element(i),d=5e3,m="",v="alert-active",h="alert-visible";e.$on("ALERT:FIRE",function(e,t){t.title&&(window.clearTimeout(l),u(),t.dur&&(d=1e3*t.dur),s(t))})}}}]),MUG.directive("fadeIn",[function(){return{restrict:"A",link:function(e,t,r){var n=parseInt(r.fadeIn)||10;t.addClass("fade-in"),setTimeout(function(){t.css("opacity","1")},n)}}}]),MUG.directive("modal",["$timeout","$compile","$rootScope",function(e,t,r){return{restrict:"E",replace:!0,templateUrl:"modal.html",scope:{},link:function(e,t,n){function o(t){var n=t.remoteSource?t.remoteSource:t.source;e.compareItem.a=t.remoteSource?n:"screens/reference/"+r.project.id+"/"+n.replace(r.project.currentBatch+".png",r.project.currentReference+".png"),e.compareItem.b=t.remoteSource?n:"screens/compare/"+r.project.id+"/"+n,e.compareItem.c=t.remoteSource?n:"screens/compare/"+r.project.id+"/"+n.replace(".png","_diff.png")}var i="modal-open",c="modal-visible";e.project=angular.copy(r.project),e.activeOption="sides",e.opacityRange={},e.currentIndex=0,e.activeItem={},e.compareItem={a:"",b:"",c:""},e.viewer={items:[]},e.opacityRange={amount:.8,inverse:.2,percent:"80%"},e.$watch("opacityRange.amount",function(t,r){t!==r&&(e.opacityRange.inverse=(1-t).toFixed(2),e.opacityRange.percent=Math.round(100*t)+"%")}),e.optionMode=function(t){e.activeOption=t},r.$on("MODAL:CLOSE",function(t,r){e.close()}),r.$on("MODAL:OPEN",function(n,a){a&&a.type&&(e.currentIndex=0,e.project=angular.copy(r.project),"preview"===a.type&&(e.activeItem=a.item,e.viewer=a.project||{},e.viewer.items=null,e.compareItem.a="screens/"+e.activeItem.type+"/"+r.project.id+"/"+e.activeItem.source),"batch"===a.type&&a.items.length>0&&(e.activeItem=a.items[e.currentIndex],e.viewer=a.project||{},e.viewer.items=a.items,o(e.activeItem)),t.addClass(i),setTimeout(function(){t.addClass(c)},30))}),e.close=function(){t.removeClass(c),setTimeout(function(){t.removeClass(i)},230)},e.modalActionNav=function(t){if(!(e.viewer.items.length<1)){var r,n=e.viewer.items.length-1;r="right"===t?e.currentIndex===n?0:e.currentIndex+1:0===e.currentIndex?n:e.currentIndex-1,e.activeItem=e.viewer.items[r],e.currentIndex=r,o(e.activeItem)}},e.goToIndex=function(t){e.currentIndex!==t&&(e.activeItem=e.viewer.items[t],e.currentIndex=t,o(e.activeItem))}}}}]),MUG.directive("msgCenter",["$rootScope","$timeout","$compile",function(e,t,r){return{scope:{},link:function(n,o,i,c){function a(e){var o=+new Date,i=e.msg,c=e.icon?e.icon:v,a=p.replace("BODY",i).replace("ICON",c),h=r(a)(n);h[0].id=o,m=o,f.append(h);var g=f.find("#"+o);u(g,e.type),e.callback&&g.find(".msg-action").addClass("show"),t(function(){g.addClass("add")},20),l=t(function(){s(g)},d)}function s(e){if(!e&&m)e=f.find("#"+m);else if(!e)return;e.removeClass("add"),e.addClass("remove"),t(function(){angular.element(e).remove()},300)}function u(e,t){e.removeClass("msg-info"),e.removeClass("msg-warn"),t&&e.addClass("msg-"+t)}var l,p='<div class="msg" ng-click="action()"><div class="msg-icn"><i class="iw i-ICON"></i></div><div class="msg-cont">BODY</div><div class="msg-action"><i class="ib i-r-arrow"></i></div></div>',f=angular.element(o),d=5e3,m="",v="info";n.body="",n.callback=null,n.icon=v,n.action=function(){var e=f.find("#"+this.id);n.callback(),s(e)},e.$on("MSGCENTER:FIRE",function(e,t){t.msg&&(window.clearTimeout(l),s(),t.dur&&(d=1e3*t.dur),t.callback&&(n.callback=t.callback),a(t))})}}}]);var P=require("./vendor/core/preloader");MUG.directive("preloader",["$rootScope","$timeout",function(e,t){return{replace:!0,restrict:"E",scope:{},template:'<div class="preloader"></div>',link:function(r,n,o,i){function c(e,t){if(t&&t.msg){l=t.msg;var r;switch(l){case"Opening Browser Session":r=0;break;case"Capturing Screens":r=1}l!==p&&s&&s.animate&&s.animate(r,30,function(){p=l})}}function a(){u.addClass(f)}var s,u,l,p,f="loading";t(function(){s=new P.Browser,s.init(),u=document.querySelector(".preloader"),u.appendChild(s.instance),s.drawBrowser()},30),e.$on("PRELOADER:UPDATE",c),e.$on("PRELOADER:OFF",a)}}}]),MUG.directive("timeAgo",["timeAgoService","nowTimeService",function(e,t){return{restrict:"EA",link:function(r,n,o){var i;o.$observe("fromTime",function(t){i=e.parse(t)}),r.$watch(function(){return t.getTime()-i},function(t){angular.element(n).text(e.inWords(t))})}}}]);var fs=require("fs"),async=require("async");MUG.factory("Compare",["$q","Config",function(e,t){function r(e,t){fs.readFile(o+e,"base64",t)}function n(n,o){var c=e.defer(),a={};return resemble.outputSettings(t.Compare),async.map([n,o],r,function(e,t){var r=i+t[0],n=i+t[1];e&&c.reject(e),resemble(r).compareTo(n).ignoreColors().onComplete(function(e){a.report=e,a.src=e.getImageDataUrl(),c.resolve(a)})}),c.promise}var o=__dirname+"/",i="data:image/png;base64,",c=["passed","warning","failed"];return{runSingle:n,getStatus:function(e){var t=parseFloat(e.misMatchPercentage);return.1>t?e.isSameDimensions===!1?c[1]:c[0]:t>.1&&2>t?c[1]:c[2]}}}]),MUG.factory("nowTime",["$timeout",function(e){var t=Date.now(),r=function(){e(function(){t=Date.now(),r()},1e3)};return r(),{getTime:function(){return t}}}]);var fs=require("fs"),AWS=require("./vendor/core/aws");MUG.factory("Projects",["$q",function(e){function t(e){return"number"==typeof e&&e===parseInt(e,10)&&(e=Array(e+1).join("x")),e.replace(/x/g,function(){var e=Math.round(61*Math.random())+48;return e=e>57?e+7>90?e+13:e+7:e,String.fromCharCode(e)})}function r(e){e=e||0;var r=t(12);return{id:r,title:"Project "+(parseInt(e,10)+1),timestamp:+new Date,totals:{success:null,warning:null,error:null,views:0}}}function n(e){t(12);return{batchHistory:{},currentBatch:null,currentReference:null,id:e.id,title:e.title,timestamp:e.timestamp,viewports:[],selectors:[],cookies:[],meta:{url:null,readyEvent:null,delay:null,misMatchThreshold:null}}}function o(e,t){var r;try{r=fs.readFileSync(e,"utf8")}catch(n){if("ENOENT"===n.code)return t||{};throw n}return JSON.parse(r)}function i(t,r){var n=e.defer();return fs.writeFile(t,JSON.stringify(r),function(e){return e?void n.reject(e):void n.resolve()}),n.promise}function c(t){var r=e.defer();return fs.unlink(t,function(e){return e?void r.reject(e):void r.resolve()}),r.promise}var a=__dirname+"/projects.json",s=__dirname+"/projects/";return{getAll:function(){return o(a,[])},getById:function(e){return o(s+e+".json")},getTypeById:function(e,t){return o(s+e+"_"+t+".json",[])},validate:function(e){var t=e.cookies,r=e.viewports,n=e.selectors,o=e.title,i=e.meta.url,c=!0;return!r||!n||!o||!i||r.length<1||n.length<1?!1:(r&&r.map(function(e,t){e.width&&e.height&&e.name||(c=!1)}),n&&n.map(function(e,t){e.query&&e.type||(c=!1)}),t&&t.map(function(e,t){e.name&&e.path&&e.value||(c=!1)}),c)},createNew:function(){var t=e.defer(),o=JSON.parse(fs.readFileSync(a,"utf8")),i=r(o.length),c=n(i);return o.unshift(i),fs.writeFile(a,JSON.stringify(o),function(e){return e?void t.reject(e):void fs.writeFile(s+i.id+".json",JSON.stringify(c),function(e){return e?void t.reject(e):void fs.writeFile(s+i.id+"_history.json",JSON.stringify([]),function(e){return e?void t.reject(e):void t.resolve(i)})})}),t.promise},save:function(t){var r=e.defer(),n=JSON.parse(fs.readFileSync(a,"utf8"));return n.map(function(e,r){e.id===t.id&&(n[r].title=t.title,n[r].timestamp=+new Date)}),fs.writeFile(s+t.id+".json",JSON.stringify(t),function(e){return e?void r.reject(e):void fs.writeFile(a,JSON.stringify(n),function(e){return e?void r.reject(e):void r.resolve(t)})}),r.promise},remove:function(t){var r=e.defer(),n=JSON.parse(fs.readFileSync(a,"utf8"));return n.map(function(e,r){e.id===t&&n.splice(r,1)}),fs.unlink(s+t+".json",function(e){return e?void r.reject(e):void fs.unlink(s+t+"_history.json",function(e){return e?void r.reject(e):void fs.writeFile(a,JSON.stringify(n),function(e){return e?void r.reject(e):void r.resolve()})})}),r.promise},clearHistory:function(t){var r=e.defer(),n=o(a,[]);return t.currentBatch=null,t.currentReference=null,t.batchHistory={},n.map(function(e,r){e.id===t.id&&(n[r].totals.success=0,n[r].totals.warning=0,n[r].totals.error=0,n[r].totals.views=0)}),fs.writeFile(s+t.id+"_history.json",JSON.stringify([]),function(e){return e?void r.reject(e):void fs.writeFile(s+t.id+".json",JSON.stringify(t),function(e){return e?void r.reject(e):void fs.writeFile(a,JSON.stringify(n),function(e){return e?void r.reject(e):void r.resolve()})})}),r.promise},sync:function(t){if(t){for(var r=this,n=e.defer(),o=this.getById(t),i=this.getTypeById(t,"history"),c=[],a=0;a<i.length;a++){var s=i[a];if(-1===s.source.search("amazon")){var u=s.source,l=s.type,p=__dirname+"/screens/"+l+"/"+o.id+"/"+u;c.push({key:l+"/"+u,path:p})}}return AWS.init().upload(c,o.id).then(function(e){r.cleanAfterSync(o,e).then(n.resolve,n.reject)},function(e){n.reject(e)}),n.promise}},cleanAfterSync:function(t,r){var n=e.defer(),a=o(s+t.id+"_history.json",[]),u=[],l=[];t.updatedAt=+new Date;for(var p=0;p<r.length;p++){var f=r[p],d=f.split("/"),m=d[d.length-2],v=d[d.length-1];a.map(function(e,n){if(e.source===v){delete a[n].source,a[n].remoteSource=r[p];var o=__dirname+"/screens/"+m+"/"+t.id+"/"+v,i=c(o);if(l.push(i),"compare"===m){var s=c(o.replace(".","_diff."));l.push(s)}}})}var h=__dirname+"/projects/"+t.id+".json",g=h.replace(".json","_history.json"),y=i(h,t),j=i(g,a);l.unshift(y),l.unshift(j),u.push({key:t.id,path:h}),u.push({key:t.id+"_history",path:g});var w=AWS.init().upload(u,t.id);return l.unshift(w),e.all(l).then(n.resolve,n.reject),n.promise}}}]),MUG.factory("timeAgo",function(){function e(e){var t=e.toString().slice(0,13);return 13==t.length?parseInt(t):e}var t={};return t.settings={refreshMillis:6e4,allowFuture:!1,strings:{prefixAgo:null,prefixFromNow:null,suffixAgo:"ago",suffixFromNow:"from now",seconds:"less than a minute",minute:"about a minute",minutes:"%d minutes",hour:"about an hour",hours:"%d hours",day:"a day",days:"%d days",month:"about a month",months:"%d months",year:"about a year",years:"%d years",numbers:[]}},t.inWords=function(e){function r(t,r){var o=angular.isFunction(t)?t(r,e):t,i=n.numbers&&n.numbers[r]||r;return o.replace(/%d/i,i)}var n=t.settings.strings,o=n.prefixAgo,i=n.suffixAgo;t.settings.allowFuture&&0>e&&(o=n.prefixFromNow,i=n.suffixFromNow);var c=Math.abs(e)/1e3,a=c/60,s=a/60,u=s/24,l=u/365,p=45>c&&r(n.seconds,Math.round(c))||90>c&&r(n.minute,1)||45>a&&r(n.minutes,Math.round(a))||90>a&&r(n.hour,1)||24>s&&r(n.hours,Math.round(s))||42>s&&r(n.day,1)||30>u&&r(n.days,Math.round(u))||45>u&&r(n.month,1)||365>u&&r(n.months,Math.round(u/30))||1.5>l&&r(n.year,1)||r(n.years,Math.round(l)),f=void 0===n.wordSeparator?" ":n.wordSeparator;return[o,p,i].join(f).trim()},t.parse=function(t){if(angular.isNumber(t)){t+="";var r=e(t);return parseInt(r,10)}var n=(t||"").trim();return n=n.replace(/\.\d+/,""),n=n.replace(/-/,"/").replace(/-/,"/"),n=n.replace(/T/," ").replace(/Z/," UTC"),n=n.replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2"),new Date(n)},t}),MUG.filter("timeAgo",["nowTime","timeAgo",function(e,t){return function(r){var n=t.parse(r),o=e.getTime()-n;return t.inWords(o)}}]);var ipc=require("ipc");MUG.controller("MainCtrl",["$rootScope","$scope","$state","Config","Projects",function(e,t,r,n,o){e.currentProjectId="",t.createNewProject=function(){o.createNew().then(function(t){e.$broadcast("SIDEPANEL:NEWPROJECT",t),r.go("projects.settings",{id:t.id})},function(e){console.log("err",e)})},ipc.on("NAVIGATE:TO",function(e){e&&e.location&&(console.log("NAVIGATE:TO",e),r.go(e.location))})}]);var fs=require("fs"),AWS=require("./vendor/core/aws");MUG.controller("PreferencesCtrl",["$rootScope","$scope","$state",function(e,t,r){t.awsConfig={autosync:!0,bucket:"",accessKeyId:"",secretAccessKey:""},t.awsConfig=AWS.getConfig(),t.save=function(){AWS.setConfig(t.awsConfig)}}]),MUG.controller("ProjectCtrl",["$rootScope","$scope","$stateParams","Projects",function(e,t,r,n){e.project=n.getById(r.id)}]),MUG.controller("ProjectHistoryCtrl",["$rootScope","$scope","$stateParams","Projects",function(e,t,r,n){t.activeFilter="All",t.activeFilterQuery="",t.historyItems=n.getTypeById(r.id,"history"),t.changeFilter=function(e){t.activeFilter=e,t.activeFilterQuery="All"==e?"":e},t.previewItem=function(t){e.$emit("MODAL:OPEN",{type:"preview",item:t,project:e.project})}}]);var ipc=require("ipc");MUG.controller("ProjectRunnerCtrl",["$rootScope","$scope","$timeout","$stateParams","Projects",function(e,t,r,n,o){function i(e){function r(e){if(e.status){var r=0;switch(e.status){case"warning":r=1;break;case"failed":r=2}n[r].items.unshift(e),t.activeData[n[r].type]=t.activeData[n[r].type]+1}}if(!e||e.length<1)return t.hasReference=!1,[];t.activeData={},t.activeData.success=0,t.activeData.warning=0,t.activeData.error=0;var n=[{type:"success",items:[]},{type:"warning",items:[]},{type:"error",items:[]}];return e.map(function(e,n){e.batch===t.currentBatch&&r(e)}),t.hasReference=!0,n}function c(){if(null!==e.project.currentBatch){var r=(void 0!==typeof e.project.currentBatch?e.project.currentBatch:0,o.getTypeById(n.id,"history"));t.batchItems=i(r),t.runningType=e.project.currentReference>=e.project.currentBatch?"reference":"compare"}}function a(){var t=o.validate(e.project);return t||e.$broadcast("ALERT:FIRE",{title:"Please finish configuring settings!",dur:5,type:"error",icon:"stop"}),t}function s(){t.hasSettings=a(),t.hasReference=null!==e.project.currentReference,t.currentBatch=e.project.currentBatch,"reference"===t.runningType?t.hasCompare=!1:(t.hasCompare=null!==e.project.currentBatch&&0!==e.project.currentBatch,t.hasCompare=e.project.currentReference<=e.project.currentBatch)}function u(){e.project=o.getById(e.project.id,"history"),t.activeData=e.project&&e.project.batchHistory?e.project.batchHistory[t.currentBatch]:null,e.$emit("SIDEPANEL:UPDATE",e.project)}function l(r){r&&r.msg&&r.percent&&(t.progress.percent=parseInt(r.percent,10),t.progress.title=r.msg?r.msg:t.progress.title,e.$emit("PRELOADER:UPDATE",r))}function p(){u(),c(),s(),t.processing=!1}function f(e){console.log("RUNNER:FAILED reason",e),t.processing=!1}t.processing=!1,t.hasSettings=!1,t.hasReference=!1,t.hasCompare=!1,t.runningType="reference",t.batchItems=[],t.activeData={},t.currentBatch=e.project.currentBatch||0,t.progress={percent:0,title:"Starting"},u(),c(),s(),t.previewBatch=function(t){e.$emit("MODAL:OPEN",{type:"batch",items:t,project:e.project})},t.newCompare=function(){var r=a();r&&(t.runningType="compare",t.processing=!0,setTimeout(function(){e.$emit("PRELOADER:ON")},10),ipc.send("RUNNER:FIRE",{type:"compare",projectId:e.project.id}))},t.newReference=function(){var r=a();r&&(t.processing=!0,t.runningType="reference",t.hasCompare=!1,setTimeout(function(){e.$emit("PRELOADER:ON")},10),ipc.send("RUNNER:FIRE",{type:"reference",projectId:e.project.id}))},ipc.on("RUNNER:PROGRESS",l),ipc.on("RUNNER:COMPLETE",p),ipc.on("RUNNER:FAILED",f)}]),MUG.controller("ProjectSettingsCtrl",["$rootScope","$scope","$state","Projects",function(e,t,r,n){function o(t,r){e.project[t].push(r)}var i;t.selectorTypes=["container","hide","remove"],t.hasChanges=!1,t.master={},angular.copy(e.project,t.master),t.$watch("project",function(e,r){e!=r&&(t.hasChanges=!0,t.save())},!0),t.save=function(){i&&window.clearTimeout(i),i=setTimeout(function(){n.save(e.project).then(function(r){e.$emit("SIDEPANEL:UPDATE",r),angular.copy(e.project,t.master),t.hasChanges=!1},function(e){console.log("err",e)})},200)},t.syncNow=function(){e.$broadcast("ALERT:FIRE",{title:"Sync Starting",dur:5,type:"info"}),n.sync(e.project.id).then(function(t){e.$broadcast("ALERT:FIRE",{title:"Sync Complete",dur:5,type:"success",icon:"check"})},function(t){console.log("syncNow err",t),e.$broadcast("ALERT:FIRE",{title:"Sync Failed",dur:5,type:"error",icon:"stope"})})},t.cancelSave=function(){var r=confirm("Are you sure you want to clear all your changes?");r&&(angular.copy(t.master,e.project),t.hasChanges=!1)},t.deleteProject=function(){var o=confirm("Are you sure you want to delete this project?");if(o){var i=e.project.id;n.remove(i).then(function(n){e.$emit("SIDEPANEL:REMOVE",{id:i}),r.go("main"),e.project={},t.hasChanges=!1,e.$broadcast("ALERT:FIRE",{title:"Project Removed Successfully",dur:5,type:"success"})},function(n){console.log("err",n),e.$emit("SIDEPANEL:REMOVE",{id:i}),r.go("main"),e.project={},t.hasChanges=!1})}},t.addViewport=function(){var e={active:!0,name:null,width:null,height:null};o("viewports",e)},t.addSelector=function(){var e={active:!0,type:"container",query:null};o("selectors",e)},t.addCookie=function(){var e={active:!0,name:null,value:null,path:null};o("cookies",e)},t.activateType=function(r,n){e.project[r][n].active=e.project[r][n].active===!0||"true"===e.project[r][n].active?!1:!0,t.save()},t.deleteTypeItem=function(r,n){e.project[r].splice(n,1),t.save()},t.clearHistory=function(){n.clearHistory(e.project).then(function(t){e.$broadcast("ALERT:FIRE",{title:"Cleared All History!",dur:5,type:"success",icon:"history"})},function(t){e.$broadcast("ALERT:FIRE",{title:"Error Occurred! Please try again.",dur:5,type:"error",icon:"stop"})})}}]);var fs=require("fs");MUG.controller("SidePanelCtrl",["$rootScope","$scope","$state","Projects",function(e,t,r,n){t.projects=[],t.projects=n.getAll(),e.$on("SIDEPANEL:NEWPROJECT",function(e,r){r&&r.id&&t.projects.unshift(r)}),e.$on("SIDEPANEL:UPDATE",function(e,r){r&&r.id&&t.projects.map(function(e,n){e.id===r.id&&(t.projects[n].title=r.title,t.projects[n].timestamp=r.timestamp,r.batchHistory[r.currentBatch]&&(r.batchHistory[r.currentBatch].success&&(t.projects[n].totals.success=r.batchHistory[r.currentBatch].success),r.batchHistory[r.currentBatch].warning&&(t.projects[n].totals.warning=r.batchHistory[r.currentBatch].warning),r.batchHistory[r.currentBatch].error&&(t.projects[n].totals.error=r.batchHistory[r.currentBatch].error),r.batchHistory[r.currentBatch].views&&(t.projects[n].totals.views=r.batchHistory[r.currentBatch].views)))})}),e.$on("SIDEPANEL:REMOVE",function(e,r){r&&r.id&&t.projects.map(function(e,n){e.id===r.id&&t.projects.splice(n,1)})}),t.goToProject=function(t){var n="runner";r.go("projects."+n,{id:t}),e.currentProjectId=t}}]),MUG.constant("Config",{ENV:"STAGE",STAGE:{},PROD:{},Compare:{errorColor:{red:255,green:0,blue:255},errorType:"flat",transparency:1,largeImageThreshold:0}}),MUG.config(["$stateProvider","$urlRouterProvider",function(e,t){e.state("main",{url:"/",templateUrl:"main.html"}).state("preferences",{url:"/preferences",templateUrl:"preferences.html",controller:"PreferencesCtrl"}).state("projects",{url:"/projects/:id",templateUrl:"projects.html",controller:"ProjectCtrl"}).state("projects.settings",{url:"/settings",templateUrl:"projects.settings.html",controller:"ProjectSettingsCtrl"}).state("projects.runner",{url:"/runner",templateUrl:"projects.runner.html",controller:"ProjectRunnerCtrl"}).state("projects.history",{url:"/history",templateUrl:"projects.history.html",controller:"ProjectHistoryCtrl"}),t.otherwise("/")}]),MUG.run(["$rootScope","$http",function(e,t){var r=t.defaults.headers.common;r["Content-Type"]="application/json",e.$on("$stateChangeError",function(e,t,r,n,o,i){console.log("$stateChangeError",i)})}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsImFsZXJ0LmpzIiwiZmFkZWluLmpzIiwibW9kYWwuanMiLCJtc2djZW50ZXIuanMiLCJwcmVsb2FkZXIuanMiLCJ0aW1lYWdvLmpzIiwiY29tcGFyZS5qcyIsIm5vd3RpbWUuanMiLCJwcm9qZWN0cy5qcyIsInRpbWUtYWdvLmpzIiwibWFpbmN0cmwuanMiLCJwcmVmZXJlbmNlc2N0cmwuanMiLCJwcm9qZWN0Y3RybC5qcyIsInByb2plY3RoaXN0b3J5Y3RybC5qcyIsInByb2plY3RydW5uZXJjdHJsLmpzIiwicHJvamVjdHNldHRpbmdzY3RybC5qcyIsInNpZGVwYW5lbGN0cmwuanMiLCJjb25maWcuanMiLCJyb3V0ZXMuanMiLCJpbml0LmpzIl0sIm5hbWVzIjpbIk1VRyIsImFuZ3VsYXIiLCJtb2R1bGUiLCJkaXJlY3RpdmUiLCIkcm9vdFNjb3BlIiwiJHRpbWVvdXQiLCIkY29tcGlsZSIsIiR0ZW1wbGF0ZUNhY2hlIiwicmVzdHJpY3QiLCJyZXBsYWNlIiwidGVtcGxhdGUiLCJzY29wZSIsImxpbmsiLCJlbCIsImF0dHJzIiwiY3RybCIsInNob3dNZXNzYWdlIiwiZGF0YSIsIl9pZCIsIkRhdGUiLCIkdG1wU2NvcGUiLCJ0aXRsZSIsImljb24iLCIkbmV3IiwiYWxlcnQiLCJpZCIsInR5cGUiLCJhY3Rpb24iLCJjYWxsYmFjayIsInRoaXMiLCJjbGVhckVsIiwiYWxlcnRFbCIsImFsZXJ0VGVtcGxhdGUiLCJwcmV2aW91c0lkIiwiX2VsIiwiYXBwZW5kIiwiYWRkQ2xhc3MiLCJhbGVydEFjdGl2ZSIsImFsZXJ0VmlzaWJsZSIsInRpbWVyIiwiZHVyYXRpb24iLCJlbGVtIiwiZWxlbWVudCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJyZW1vdmVDbGFzcyIsInJlbW92ZSIsImdldCIsIiRvbiIsImUiLCJ3aW5kb3ciLCJjbGVhclRpbWVvdXQiLCJkdXIiLCJvZmZzZXQiLCJwYXJzZUludCIsImZhZGVJbiIsInNldFRpbWVvdXQiLCJjc3MiLCJ0ZW1wbGF0ZVVybCIsIiRzY29wZSIsIiRlbGVtZW50IiwiJGF0dHIiLCJzZXRBY3RpdmVJdGVtIiwiaW1hZ2VTcmMiLCJyZW1vdGVTb3VyY2UiLCJzb3VyY2UiLCJjb21wYXJlSXRlbSIsImEiLCJwcm9qZWN0IiwiY3VycmVudEJhdGNoIiwiY3VycmVudFJlZmVyZW5jZSIsImIiLCJjIiwibW9kYWxBY3RpdmUiLCJtb2RhbFZpc2libGUiLCJjb3B5IiwiYWN0aXZlT3B0aW9uIiwib3BhY2l0eVJhbmdlIiwiY3VycmVudEluZGV4IiwiYWN0aXZlSXRlbSIsInZpZXdlciIsIml0ZW1zIiwiYW1vdW50IiwiaW52ZXJzZSIsInBlcmNlbnQiLCIkd2F0Y2giLCJudiIsIm92IiwidG9GaXhlZCIsIk1hdGgiLCJyb3VuZCIsIm9wdGlvbk1vZGUiLCJhcmdzIiwiY2xvc2UiLCJpdGVtIiwibGVuZ3RoIiwibW9kYWxBY3Rpb25OYXYiLCJuZXh0SWR4IiwidG90YWwiLCJnb1RvSW5kZXgiLCJpZHgiLCJuZXdCb2R5IiwibXNnIiwibmV3SWNuIiwiZGVmYXVsdEljb24iLCJtc2dUZW1wbGF0ZSIsIm5ld01lc3NhZ2UiLCJtc2dFbCIsImZpbmQiLCJjaGFuZ2VUeXBlIiwiYm9keSIsImFjdGlvbkVsIiwiUCIsInJlcXVpcmUiLCJ1cGRhdGVQcmVsb2FkZXIiLCJwcmV2aW91c1RpdGxlIiwiQiIsImFuaW1hdGUiLCJyZXNldFByZWxvYWRlciIsImxvYWRpbmciLCJCcm93c2VyIiwiaW5pdCIsInF1ZXJ5U2VsZWN0b3IiLCJhcHBlbmRDaGlsZCIsImluc3RhbmNlIiwiZHJhd0Jyb3dzZXIiLCJ0aW1lQWdvIiwibm93VGltZSIsImZyb21UaW1lIiwiJG9ic2VydmUiLCJ2YWx1ZSIsInBhcnNlIiwiZ2V0VGltZSIsInRleHQiLCJpbldvcmRzIiwiZnMiLCJhc3luYyIsImZhY3RvcnkiLCIkcSIsIkNvbmZpZyIsInJlYWRBc3luYyIsImZpbGUiLCJyZWFkRmlsZSIsImZpbGVEaXJQcmVmaXgiLCJjb21wYXJlU2luZ2xlIiwiZGZkIiwiZGVmZXIiLCJvdXRwdXQiLCJyZXNlbWJsZSIsIm91dHB1dFNldHRpbmdzIiwiQ29tcGFyZSIsIm1hcCIsImVyciIsInJlc3VsdHMiLCJhRGF0YSIsImltYWdlUHJlZml4IiwiYkRhdGEiLCJyZWplY3QiLCJjb21wYXJlVG8iLCJpZ25vcmVDb2xvcnMiLCJvbkNvbXBsZXRlIiwiZGlmZkRhdGEiLCJyZXBvcnQiLCJzcmMiLCJnZXRJbWFnZURhdGFVcmwiLCJyZXNvbHZlIiwicHJvbWlzZSIsIl9fZGlybmFtZSIsInN0YXR1c1R5cGVzIiwicnVuU2luZ2xlIiwiZ2V0U3RhdHVzIiwibWlzTWF0Y2hWYWx1ZSIsInBhcnNlRmxvYXQiLCJtaXNNYXRjaFBlcmNlbnRhZ2UiLCJpc1NhbWVEaW1lbnNpb25zIiwibm93IiwidXBkYXRlVGltZSIsIkFXUyIsImNyZWF0ZVVVSUQiLCJzIiwiQXJyYXkiLCJqb2luIiwibiIsInJhbmRvbSIsIlN0cmluZyIsImZyb21DaGFyQ29kZSIsImNyZWF0ZUR1bW15UHJvamVjdCIsInByb2plY3RJZCIsInRpbWVzdGFtcCIsInRvdGFscyIsInN1Y2Nlc3MiLCJ3YXJuaW5nIiwiZXJyb3IiLCJ2aWV3cyIsImNyZWF0ZUR1bW15UHJvamVjdEZpbGUiLCJvcHRpb25zIiwiYmF0Y2hIaXN0b3J5Iiwidmlld3BvcnRzIiwic2VsZWN0b3JzIiwiY29va2llcyIsIm1ldGEiLCJ1cmwiLCJyZWFkeUV2ZW50IiwiZGVsYXkiLCJtaXNNYXRjaFRocmVzaG9sZCIsImdldEpzb25GaWxlIiwicGF0aCIsInJlYWRGaWxlU3luYyIsImNvZGUiLCJKU09OIiwicHJvbWlzZVdyaXRlIiwiZmlsZVBhdGgiLCJfcSIsIndyaXRlRmlsZSIsInN0cmluZ2lmeSIsInByb21pc2VSZW1vdmUiLCJfeiIsInVubGluayIsInByb2plY3RzUGF0aCIsInByb2plY3RGaWxlc1BhdGgiLCJnZXRBbGwiLCJnZXRCeUlkIiwiZ2V0VHlwZUJ5SWQiLCJ2YWxpZGF0ZSIsImJvb2wiLCJvYmoiLCJ3aWR0aCIsImhlaWdodCIsIm5hbWUiLCJxdWVyeSIsImNyZWF0ZU5ldyIsImFsbFByb2plY3RzIiwibmV3UHJvamVjdERhdGEiLCJuZXdQcm9qZWN0RmlsZSIsInVuc2hpZnQiLCJzYXZlIiwicHJvamVjdERhdGEiLCJzcGxpY2UiLCJjbGVhckhpc3RvcnkiLCJtYWluUHJvamVjdHMiLCJzeW5jIiwiX3RoaXMiLCJkIiwicHJvamVjdEZpbGVzIiwicmVhZHlGaWxlcyIsImkiLCJ0bXBGaWxlIiwic2VhcmNoIiwicHVzaCIsImtleSIsInVwbG9hZCIsInRoZW4iLCJyZXMiLCJjbGVhbkFmdGVyU3luYyIsIm5ld1JlZnMiLCJkZmRkIiwiaGlzdG9yeURhdGEiLCJ1cGRhdGVkUmVtb3RlRmlsZXMiLCJxdWV1ZVByb21pc2VzIiwidXBkYXRlZEF0IiwidG1wU3JjIiwidG1wUmVmIiwic3BsaXQiLCJ0bXBUeXBlIiwidG1wQWxpYXMiLCJyZW1SZWZQYXRoIiwicmVtUmVmIiwicmVtUmVmRGlmZiIsInByb2plY3RGaWxlIiwicHJvamVjdEhpc3RvcnlGaWxlIiwicHJvamVjdFdyaXRlIiwicHJvamVjdEhpc3RvcnlXcml0ZSIsImF3c1VwbG9hZCIsImFsbCIsInRyaW1EaWdpdHMiLCJudW0iLCJtIiwidG9TdHJpbmciLCJzbGljZSIsInNlcnZpY2UiLCJzZXR0aW5ncyIsInJlZnJlc2hNaWxsaXMiLCJhbGxvd0Z1dHVyZSIsInN0cmluZ3MiLCJwcmVmaXhBZ28iLCJwcmVmaXhGcm9tTm93Iiwic3VmZml4QWdvIiwic3VmZml4RnJvbU5vdyIsInNlY29uZHMiLCJtaW51dGUiLCJtaW51dGVzIiwiaG91ciIsImhvdXJzIiwiZGF5IiwiZGF5cyIsIm1vbnRoIiwibW9udGhzIiwieWVhciIsInllYXJzIiwibnVtYmVycyIsImRpc3RhbmNlTWlsbGlzIiwic3Vic3RpdHV0ZSIsInN0cmluZ09yRnVuY3Rpb24iLCJudW1iZXIiLCJzdHJpbmciLCJpc0Z1bmN0aW9uIiwiJGwiLCJwcmVmaXgiLCJzdWZmaXgiLCJhYnMiLCJ3b3JkcyIsInNlcGFyYXRvciIsInVuZGVmaW5lZCIsIndvcmRTZXBhcmF0b3IiLCJ0cmltIiwiaXNvODYwMSIsImlzTnVtYmVyIiwib3JpZ2luYWxUaW1lc3RhbXAiLCJmaWx0ZXIiLCJkaWZmIiwiaXBjIiwiY29udHJvbGxlciIsIiRzdGF0ZSIsIlByb2plY3RzIiwiY3VycmVudFByb2plY3RJZCIsImNyZWF0ZU5ld1Byb2plY3QiLCIkYnJvYWRjYXN0IiwiZ28iLCJjb25zb2xlIiwibG9nIiwib24iLCJsb2NhdGlvbiIsImF3c0NvbmZpZyIsImF1dG9zeW5jIiwiYnVja2V0IiwiYWNjZXNzS2V5SWQiLCJzZWNyZXRBY2Nlc3NLZXkiLCJnZXRDb25maWciLCJzZXRDb25maWciLCIkc3RhdGVQYXJhbXMiLCJhY3RpdmVGaWx0ZXIiLCJhY3RpdmVGaWx0ZXJRdWVyeSIsImhpc3RvcnlJdGVtcyIsImNoYW5nZUZpbHRlciIsInByZXZpZXdJdGVtIiwiJGVtaXQiLCJwcm9jZXNzQmF0Y2giLCJhbGxEYXRhIiwicGxhY2VJdGVtIiwic3RhdHVzIiwidGFyZ2V0IiwiZm9ybWF0dGVkIiwiYWN0aXZlRGF0YSIsImhhc1JlZmVyZW5jZSIsImJhdGNoIiwic2V0dXBDdXJyZW50QmF0Y2giLCJiYXRjaEl0ZW1zIiwicnVubmluZ1R5cGUiLCJ2YWxpZGF0ZVByb2plY3QiLCJpc1ZhbGlkIiwiY2hlY2tTdGF0ZSIsImhhc1NldHRpbmdzIiwiaGFzQ29tcGFyZSIsImdyYWJMYXRlc3REYXRhIiwicnVubmVyRXZlbnRzIiwicHJvZ3Jlc3MiLCJydW5uZXJDb21wbGV0ZSIsInByb2Nlc3NpbmciLCJydW5uZXJGYWlsZWQiLCJyZWFzb24iLCJwcmV2aWV3QmF0Y2giLCJuZXdDb21wYXJlIiwidmFsaWQiLCJzZW5kIiwibmV3UmVmZXJlbmNlIiwiYWRkTmV3VHlwZSIsInNhdmVUaW1lciIsInNlbGVjdG9yVHlwZXMiLCJoYXNDaGFuZ2VzIiwibWFzdGVyIiwiblYiLCJvViIsInN5bmNOb3ciLCJjYW5jZWxTYXZlIiwic3VyZSIsImNvbmZpcm0iLCJkZWxldGVQcm9qZWN0IiwicHJvamVjdElEIiwiYWRkVmlld3BvcnQiLCJuZXdWaWV3cG9ydCIsImFjdGl2ZSIsImFkZFNlbGVjdG9yIiwibmV3U2VsZWN0b3IiLCJhZGRDb29raWUiLCJuZXdDb29raWUiLCJhY3RpdmF0ZVR5cGUiLCJkZWxldGVUeXBlSXRlbSIsInByb2plY3RzIiwiZ29Ub1Byb2plY3QiLCJjb25zdGFudCIsIkVOViIsIlNUQUdFIiwiUFJPRCIsImVycm9yQ29sb3IiLCJyZWQiLCJncmVlbiIsImJsdWUiLCJlcnJvclR5cGUiLCJ0cmFuc3BhcmVuY3kiLCJsYXJnZUltYWdlVGhyZXNob2xkIiwiY29uZmlnIiwiJHN0YXRlUHJvdmlkZXIiLCIkdXJsUm91dGVyUHJvdmlkZXIiLCJzdGF0ZSIsIm90aGVyd2lzZSIsInJ1biIsIiRodHRwIiwiJGNvbW1vbiIsImRlZmF1bHRzIiwiaGVhZGVycyIsImNvbW1vbiIsImV2ZW50IiwidG9TdGF0ZSIsInRvUGFyYW1zIiwiZnJvbVN0YXRlIiwiZnJvbVBhcmFtcyJdLCJtYXBwaW5ncyI6IkFBQUEsR0FBQUEsS0FBQUMsUUFBQUMsT0FBQSxXQUFBLFlBQUEsZ0JDbUJBRixLQUFBRyxVQUFBLFNBQ0EsYUFBQSxXQUFBLFdBQUEsaUJBQ0EsU0FBQUMsRUFBQUMsRUFBQUMsRUFBQUMsR0FDQSxPQUNBQyxTQUFBLElBQ0FDLFNBQUEsRUFDQUMsU0FBQSxtQ0FDQUMsU0FDQUMsS0FBQSxTQUFBRCxFQUFBRSxFQUFBQyxFQUFBQyxHQVNBLFFBQUFDLEdBQUFDLEdBQ0EsR0FBQUMsSUFBQSxHQUFBQyxNQUdBQyxHQUZBSCxFQUFBSSxNQUNBSixFQUFBLEtBQUFBLEVBQUFLLEtBQUEsS0FDQWxCLEVBQUFtQixNQUFBLEdBR0FILEdBQUFJLFNBQ0FKLEVBQUFJLE1BQUFDLEdBQUFQLEVBQ0FFLEVBQUFJLE1BQUFGLEtBQUFMLEVBQUEsS0FBQUEsRUFBQUssS0FBQSxLQUNBRixFQUFBSSxNQUFBRSxLQUFBVCxFQUFBLEtB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RCxHQUFBQSxJQUNBckIsRUFBQWdVLGlCQUFBM1MsTUMvREF6QixJQUFBK1ksU0FBQSxVQUNBQyxJQUFBLFFBQ0FDLFNBRUFDLFFBRUE1UCxTQUNBNlAsWUFDQUMsSUFBQSxJQUNBQyxNQUFBLEVBQ0FDLEtBQUEsS0FFQUMsVUFBQSxPQUNBQyxhQUFBLEVBQ0FDLG9CQUFBLEtDakJBelosSUFBQTBaLFFBQ0EsaUJBQUEscUJBQ0EsU0FBQUMsRUFBQUMsR0FTQUQsRUFLQUUsTUFBQSxRQUNBcE4sSUFBQSxJQUNBL0ksWUFBQSxjQUVBbVcsTUFBQSxlQUNBcE4sSUFBQSxlQUNBL0ksWUFBQSxtQkFDQXVRLFdBQUEsb0JBTUE0RixNQUFBLFlBQ0FwTixJQUFBLGdCQUNBL0ksWUFBQSxnQkFDQXVRLFdBQUEsZ0JBRUE0RixNQUFBLHFCQUNBcE4sSUFBQSxZQUNBL0ksWUFBQSx5QkFDQXVRLFdBQUEsd0JBRUE0RixNQUFBLG1CQUNBcE4sSUFBQSxVQUNBL0ksWUFBQSx1QkFDQXVRLFdBQUEsc0JBRUE0RixNQUFBLG9CQUNBcE4sSUFBQSxXQUNBL0ksWUFBQSx3QkFDQXVRLFdBQUEsdUJBc0JBMkYsRUFBQUUsVUFBQSxRQ3JFQTlaLElBQUErWixLQUFBLGFBQUEsUUFDQSxTQUFBM1osRUFBQTRaLEdBR0EsR0FBQUMsR0FBQUQsRUFBQUUsU0FBQUMsUUFBQUMsTUFDQUgsR0FBQSxnQkFBQSxtQkFFQTdaLEVBQUE0QyxJQUFBLG9CQUFBLFNBQUFxWCxFQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxFQUFBek8sR0FDQXdJLFFBQUFDLElBQUEsb0JBQUF6SSIsImZpbGUiOiJtdWcuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgTVVHID0gYW5ndWxhci5tb2R1bGUoJ211Z3Nob3QnLCBbJ3VpLnJvdXRlcicsICdtdWd0ZW1wbGF0ZXMnXSk7XG4iLCIvKipcbiAqIGFsZXJ0XG4gKiBhIGRpcmVjdGl2ZSBmb3IgaGFuZGxpbmcgYWxsIGFsZXJ0cyBhbmQgbm90aWNlcyBmb3IgYSB1c2VyXG4gKlxuICogVVNFOlxuICogPGFsZXJ0PjwvYWxlcnQ+XG4gKlxuICogJHJvb3RTY29wZS4kYnJvYWRjYXN0KCdBTEVSVDpGSVJFJywgeyB0aXRsZTogXCJIZXkgdGhlcmUsIEltIGEgbWVzc2FnZSEhXCIsIGR1cjogNSwgdHlwZTogXCJpbmZvXCIsIGljb246IFwiaW5mb1wiLCBjYWxsYmFjazogZnVuY3Rpb24oKXt9IH0pO1xuICpcbiAqIFRZUEVTOlxuICogLSBpbmZvLCBzdWNjZXNzLCB3YXJuaW5nLCBlcnJvclxuICpcbiAqIE9QVElPTlM6XG4gKiAtIHRpdGxlOiB0aGUgY29udGVudHMgb2YgdGhlIG1lc3NhZ2UsIChUT0RPOiBjYW4gYmUgaHRtbCBvciBzaW1wbGUgdGV4dClcbiAqIC0gY2FsbGJhY2s6IGEgZnVuY3Rpb24gdG8gZmlyZSBvbiBhY3Rpb24gdGFrZW4gb24gbWVzc2FnZVxuICogLSBkdXI6IHRoZSB0aW1lb3V0IG9mIHRoZSBtZXNzYWdlLCBpbiBzZWNvbmRzXG4gKiAtIHR5cGU6IHNlZSBhYm92ZSB0eXBlc1xuICogLSBpY29uOiBubyBkZWZhdWx0LCBzZWUgaHR0cHM6Ly9vY3RpY29ucy5naXRodWIuY29tLyBmb3Igb3B0aW9uc1xuICovXG5NVUcuZGlyZWN0aXZlKCdhbGVydCcsXG5bJyRyb290U2NvcGUnLCAnJHRpbWVvdXQnLCAnJGNvbXBpbGUnLCAnJHRlbXBsYXRlQ2FjaGUnLFxuZnVuY3Rpb24oJHJvb3RTY29wZSwgJHRpbWVvdXQsICRjb21waWxlLCAkdGVtcGxhdGVDYWNoZSkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRScsXG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJhbGVydC1wYXJlbnRcIj48L2Rpdj4nLFxuICAgIHNjb3BlOiB7fSxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWwsIGF0dHJzLCBjdHJsKSB7XG4gICAgICB2YXIgYWxlcnRUZW1wbGF0ZSA9ICR0ZW1wbGF0ZUNhY2hlLmdldCgnYWxlcnQuaHRtbCcpO1xuICAgICAgdmFyIF9lbCA9IGFuZ3VsYXIuZWxlbWVudChlbCk7XG4gICAgICB2YXIgdGltZXI7XG4gICAgICB2YXIgZHVyYXRpb24gPSA1MDAwO1xuICAgICAgdmFyIHByZXZpb3VzSWQgPSAnJztcbiAgICAgIHZhciBhbGVydEFjdGl2ZSA9ICdhbGVydC1hY3RpdmUnO1xuICAgICAgdmFyIGFsZXJ0VmlzaWJsZSA9ICdhbGVydC12aXNpYmxlJztcblxuICAgICAgZnVuY3Rpb24gc2hvd01lc3NhZ2UoZGF0YSkge1xuICAgICAgICB2YXIgX2lkID0gKCtuZXcgRGF0ZSgpKTtcbiAgICAgICAgdmFyIG5ld0JvZHkgPSBkYXRhLnRpdGxlO1xuICAgICAgICB2YXIgbmV3SWNuID0gKGRhdGEuaWNvbikgPyBkYXRhLmljb24gOiBudWxsO1xuICAgICAgICB2YXIgJHRtcFNjb3BlID0gJHJvb3RTY29wZS4kbmV3KHRydWUpO1xuXG4gICAgICAgIC8vIHNldHVwIHNpbXBsZSBzY29wZSBmb3Igb25seSB0aGlzIGFsZXJ0IGl0ZW1cbiAgICAgICAgJHRtcFNjb3BlLmFsZXJ0ID0ge307XG4gICAgICAgICR0bXBTY29wZS5hbGVydC5pZCA9IF9pZDtcbiAgICAgICAgJHRtcFNjb3BlLmFsZXJ0Lmljb24gPSAoZGF0YS5pY29uKSA/IGRhdGEuaWNvbiA6IG51bGw7XG4gICAgICAgICR0bXBTY29wZS5hbGVydC50eXBlID0gKGRhdGEudHlwZSkgPyBkYXRhLnR5cGUgOiAnaW5mbyc7XG4gICAgICAgICR0bXBTY29wZS5hbGVydC50aXRsZSA9IGRhdGEudGl0bGU7XG4gICAgICAgICR0bXBTY29wZS5hbGVydC5hY3Rpb24gPSAoIWRhdGEuY2FsbGJhY2spID8gbnVsbCA6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHZhciBhY3Rpb25FbCA9IHRoaXMuaWQ7XG4gICAgICAgICAgZGF0YS5jYWxsYmFjaygpO1xuICAgICAgICAgIGNsZWFyRWwodGhpcyk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIGFsZXJ0RWwgPSAkY29tcGlsZShhbGVydFRlbXBsYXRlKSgkdG1wU2NvcGUpO1xuXG4gICAgICAgIC8vIHNldCBhIHVuaXF1ZSBpZFxuICAgICAgICBhbGVydEVsWzBdLmlkID0gX2lkO1xuICAgICAgICBwcmV2aW91c0lkID0gX2lkO1xuXG4gICAgICAgIC8vIHRocm93IGludG8gZG9tLCB0aGVuIHNob3cgaW4gdmlldywgc3RhcnQgdGltZXJcbiAgICAgICAgX2VsLmFwcGVuZChhbGVydEVsKTtcbiAgICAgICAgYWxlcnRFbC5hZGRDbGFzcyhhbGVydEFjdGl2ZSk7XG5cbiAgICAgICAgLy8gc2hvd1xuICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICBhbGVydEVsLmFkZENsYXNzKGFsZXJ0VmlzaWJsZSk7XG4gICAgICAgIH0sIDIwKTtcblxuICAgICAgICB0aW1lciA9ICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGNsZWFyRWwoYWxlcnRFbCk7XG4gICAgICAgIH0sIGR1cmF0aW9uKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gY2xlYXJFbChlbGVtKSB7XG4gICAgICAgIGlmICghZWxlbSAmJiBwcmV2aW91c0lkKSB7XG4gICAgICAgICAgZWxlbSA9IGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChwcmV2aW91c0lkKSk7XG4gICAgICAgIH0gZWxzZSBpZiAoIWVsZW0pIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gZWxzZSBpZiAoZWxlbSkge1xuICAgICAgICAgIGVsZW0gPSBhbmd1bGFyLmVsZW1lbnQoZWxlbSk7XG4gICAgICAgIH1cblxuICAgICAgICBlbGVtLnJlbW92ZUNsYXNzKGFsZXJ0VmlzaWJsZSk7XG4gICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGVsZW0ucmVtb3ZlKCk7XG4gICAgICAgIH0sIDMwMCk7XG4gICAgICB9XG5cbiAgICAgICRyb290U2NvcGUuJG9uKCdBTEVSVDpGSVJFJywgZnVuY3Rpb24oZSwgZGF0YSkge1xuICAgICAgICBpZiAoIWRhdGEudGl0bGUpIHsgcmV0dXJuOyB9XG5cbiAgICAgICAgd2luZG93LmNsZWFyVGltZW91dCh0aW1lcik7XG4gICAgICAgIGNsZWFyRWwoKTtcblxuICAgICAgICBpZiAoZGF0YS5kdXIpIHtcbiAgICAgICAgICBkdXJhdGlvbiA9IGRhdGEuZHVyICogMTAwMDtcbiAgICAgICAgfVxuXG4gICAgICAgIHNob3dNZXNzYWdlKGRhdGEpO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xufV0pO1xuIiwiLyoqXG4gKiBmYWRlSW5cbiAqIEEgZGlyZWN0aXZlIGZvciBhbmltYXRpbmcgaW4gZWxlbWVudHNcbiAqL1xuTVVHLmRpcmVjdGl2ZSgnZmFkZUluJywgW2Z1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQScsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW0sIGF0dHJzKSB7XG4gICAgICB2YXIgb2Zmc2V0ID0gcGFyc2VJbnQoYXR0cnMuZmFkZUluKSB8fCAxMDtcbiAgICAgIGVsZW0uYWRkQ2xhc3MoJ2ZhZGUtaW4nKTtcblxuICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgZWxlbS5jc3MoJ29wYWNpdHknLCAnMScpO1xuICAgICAgfSwgb2Zmc2V0KTtcbiAgICB9XG4gIH07XG5cbn1dKTtcbiIsIi8qKlxuICogTW9kYWxcbiAqIEJ1aWxkcyBhIG1vZGFsIGZvciBpbWFnZSB2aWV3aW5nIGFuZCBjb21wYXJpbmdcbiAqXG4gKiBAdXNhZ2VcbiAqIDxtb2RhbD48L21vZGFsPlxuICovXG5NVUcuZGlyZWN0aXZlKCdtb2RhbCcsXG5bJyR0aW1lb3V0JywgJyRjb21waWxlJywgJyRyb290U2NvcGUnLFxuZnVuY3Rpb24oJHRpbWVvdXQsICRjb21waWxlLCAkcm9vdFNjb3BlKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFJyxcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIHRlbXBsYXRlVXJsOiAnbW9kYWwuaHRtbCcsXG4gICAgc2NvcGU6IHt9LFxuICAgIGxpbms6IGZ1bmN0aW9uKCRzY29wZSwgJGVsZW1lbnQsICRhdHRyKSB7XG4gICAgICB2YXIgbW9kYWxBY3RpdmUgPSAnbW9kYWwtb3Blbic7XG4gICAgICB2YXIgbW9kYWxWaXNpYmxlID0gJ21vZGFsLXZpc2libGUnO1xuXG4gICAgICAkc2NvcGUucHJvamVjdCA9IGFuZ3VsYXIuY29weSgkcm9vdFNjb3BlLnByb2plY3QpO1xuICAgICAgJHNjb3BlLmFjdGl2ZU9wdGlvbiA9ICdzaWRlcyc7XG4gICAgICAkc2NvcGUub3BhY2l0eVJhbmdlID0ge307XG4gICAgICAkc2NvcGUuY3VycmVudEluZGV4ID0gMDtcbiAgICAgICRzY29wZS5hY3RpdmVJdGVtID0ge307XG4gICAgICAkc2NvcGUuY29tcGFyZUl0ZW0gPSB7XG4gICAgICAgIGE6ICcnLFxuICAgICAgICBiOiAnJyxcbiAgICAgICAgYzogJydcbiAgICAgIH07XG4gICAgICAkc2NvcGUudmlld2VyID0ge1xuICAgICAgICBpdGVtczogW11cbiAgICAgIH07XG4gICAgICAkc2NvcGUub3BhY2l0eVJhbmdlID0ge1xuICAgICAgICBhbW91bnQ6IDAuOCxcbiAgICAgICAgaW52ZXJzZTogMC4yLFxuICAgICAgICBwZXJjZW50OiAnODAlJ1xuICAgICAgfTtcblxuICAgICAgJHNjb3BlLiR3YXRjaCgnb3BhY2l0eVJhbmdlLmFtb3VudCcsIGZ1bmN0aW9uKG52LCBvdikge1xuICAgICAgICBpZiAobnYgPT09IG92KSB7cmV0dXJuO31cblxuICAgICAgICAvLyB1cGRhdGUgdGhlIG90aGVyIHZhbHVlc1xuICAgICAgICAkc2NvcGUub3BhY2l0eVJhbmdlLmludmVyc2UgPSAoMSAtIG52KS50b0ZpeGVkKDIpO1xuICAgICAgICAkc2NvcGUub3BhY2l0eVJhbmdlLnBlcmNlbnQgPSBNYXRoLnJvdW5kKG52ICogMTAwKSArICclJztcbiAgICAgIH0pO1xuXG4gICAgICAvLyBzZXQgdGhlIGFjdGl2ZSBpdGVtIHdpdGggY29ycmVjdCBwYXRoc1xuICAgICAgZnVuY3Rpb24gc2V0QWN0aXZlSXRlbShkYXRhKSB7XG4gICAgICAgIHZhciBpbWFnZVNyYyA9ICghZGF0YS5yZW1vdGVTb3VyY2UpID8gZGF0YS5zb3VyY2UgOiBkYXRhLnJlbW90ZVNvdXJjZTtcbiAgICAgICAgJHNjb3BlLmNvbXBhcmVJdGVtLmEgPSAoIWRhdGEucmVtb3RlU291cmNlKSA/ICdzY3JlZW5zL3JlZmVyZW5jZS8nICsgJHJvb3RTY29wZS5wcm9qZWN0LmlkICsgJy8nICsgaW1hZ2VTcmMucmVwbGFjZSgkcm9vdFNjb3BlLnByb2plY3QuY3VycmVudEJhdGNoICsgJy5wbmcnLCAkcm9vdFNjb3BlLnByb2plY3QuY3VycmVudFJlZmVyZW5jZSArICcucG5nJykgOiBpbWFnZVNyYztcbiAgICAgICAgJHNjb3BlLmNvbXBhcmVJdGVtLmIgPSAoIWRhdGEucmVtb3RlU291cmNlKSA/ICdzY3JlZW5zL2NvbXBhcmUvJyArICRyb290U2NvcGUucHJvamVjdC5pZCArICcvJyArIGltYWdlU3JjIDogaW1hZ2VTcmM7XG4gICAgICAgICRzY29wZS5jb21wYXJlSXRlbS5jID0gKCFkYXRhLnJlbW90ZVNvdXJjZSkgPyAnc2NyZWVucy9jb21wYXJlLycgKyAkcm9vdFNjb3BlLnByb2plY3QuaWQgKyAnLycgKyBpbWFnZVNyYy5yZXBsYWNlKCcucG5nJywgJ19kaWZmLnBuZycpIDogaW1hZ2VTcmM7XG4gICAgICB9XG5cbiAgICAgIC8vIENob29zZSB0aGUgdmlld2VyIGxheW91dFxuICAgICAgJHNjb3BlLm9wdGlvbk1vZGUgPSBmdW5jdGlvbih0eXBlKSB7XG4gICAgICAgICRzY29wZS5hY3RpdmVPcHRpb24gPSB0eXBlO1xuICAgICAgfTtcblxuICAgICAgJHJvb3RTY29wZS4kb24oJ01PREFMOkNMT1NFJywgZnVuY3Rpb24oZSwgYXJncykge1xuICAgICAgICAkc2NvcGUuY2xvc2UoKTtcbiAgICAgIH0pO1xuXG4gICAgICAkcm9vdFNjb3BlLiRvbignTU9EQUw6T1BFTicsIGZ1bmN0aW9uKGUsIGFyZ3MpIHtcbiAgICAgICAgaWYgKCFhcmdzIHx8ICFhcmdzLnR5cGUpIHsgcmV0dXJuOyB9XG5cbiAgICAgICAgLy8gTWFrZSBzdXJlIHRvIHJlc2V0IGN1cnJlbnQgSW5kZXhcbiAgICAgICAgJHNjb3BlLmN1cnJlbnRJbmRleCA9IDA7XG4gICAgICAgICRzY29wZS5wcm9qZWN0ID0gYW5ndWxhci5jb3B5KCRyb290U2NvcGUucHJvamVjdCk7XG5cbiAgICAgICAgLy8gU2hvdyBhIHNpbmdsZSBpdGVtXG4gICAgICAgIGlmIChhcmdzLnR5cGUgPT09ICdwcmV2aWV3Jykge1xuICAgICAgICAgICRzY29wZS5hY3RpdmVJdGVtID0gYXJncy5pdGVtO1xuICAgICAgICAgICRzY29wZS52aWV3ZXIgPSBhcmdzLnByb2plY3QgfHwge307XG4gICAgICAgICAgJHNjb3BlLnZpZXdlci5pdGVtcyA9IG51bGw7XG4gICAgICAgICAgJHNjb3BlLmNvbXBhcmVJdGVtLmEgPSAnc2NyZWVucy8nICsgJHNjb3BlLmFjdGl2ZUl0ZW0udHlwZSArICcvJyArICRyb290U2NvcGUucHJvamVjdC5pZCArICcvJyArICRzY29wZS5hY3RpdmVJdGVtLnNvdXJjZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNob3cgbXVsdGlwbGUgaXRlbXNcbiAgICAgICAgaWYgKGFyZ3MudHlwZSA9PT0gJ2JhdGNoJyAmJiBhcmdzLml0ZW1zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAkc2NvcGUuYWN0aXZlSXRlbSA9IGFyZ3MuaXRlbXNbJHNjb3BlLmN1cnJlbnRJbmRleF07XG4gICAgICAgICAgJHNjb3BlLnZpZXdlciA9IGFyZ3MucHJvamVjdCB8fCB7fTtcbiAgICAgICAgICAkc2NvcGUudmlld2VyLml0ZW1zID0gYXJncy5pdGVtcztcbiAgICAgICAgICBzZXRBY3RpdmVJdGVtKCRzY29wZS5hY3RpdmVJdGVtKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG1ha2UgdGhlIG1vZGFsIGFjdGl2ZSB3aXRoIGRhdGFcbiAgICAgICAgJGVsZW1lbnQuYWRkQ2xhc3MobW9kYWxBY3RpdmUpO1xuXG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgJGVsZW1lbnQuYWRkQ2xhc3MobW9kYWxWaXNpYmxlKTtcbiAgICAgICAgfSwgMzApO1xuICAgICAgfSk7XG5cbiAgICAgICRzY29wZS5jbG9zZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAkZWxlbWVudC5yZW1vdmVDbGFzcyhtb2RhbFZpc2libGUpO1xuXG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgJGVsZW1lbnQucmVtb3ZlQ2xhc3MobW9kYWxBY3RpdmUpO1xuICAgICAgICB9LCAyMzApO1xuICAgICAgfTtcblxuICAgICAgLy8gU2V0dXAgb2YgbGVmdC9yaWdodCBuYXZpZ2F0aW9uXG4gICAgICAkc2NvcGUubW9kYWxBY3Rpb25OYXYgPSBmdW5jdGlvbih0eXBlKSB7XG4gICAgICAgIGlmICgkc2NvcGUudmlld2VyLml0ZW1zLmxlbmd0aCA8IDEpIHsgcmV0dXJuOyB9XG5cbiAgICAgICAgdmFyIHRvdGFsID0gJHNjb3BlLnZpZXdlci5pdGVtcy5sZW5ndGggLSAxO1xuICAgICAgICB2YXIgbmV4dElkeDtcblxuICAgICAgICBpZiAodHlwZSA9PT0gJ3JpZ2h0Jykge1xuICAgICAgICAgIG5leHRJZHggPSAoJHNjb3BlLmN1cnJlbnRJbmRleCA9PT0gdG90YWwpID8gMCA6ICRzY29wZS5jdXJyZW50SW5kZXggKyAxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG5leHRJZHggPSAoJHNjb3BlLmN1cnJlbnRJbmRleCA9PT0gMCkgPyB0b3RhbCA6ICRzY29wZS5jdXJyZW50SW5kZXggLSAxO1xuICAgICAgICB9XG5cbiAgICAgICAgJHNjb3BlLmFjdGl2ZUl0ZW0gPSAkc2NvcGUudmlld2VyLml0ZW1zW25leHRJZHhdO1xuICAgICAgICAkc2NvcGUuY3VycmVudEluZGV4ID0gbmV4dElkeDtcbiAgICAgICAgc2V0QWN0aXZlSXRlbSgkc2NvcGUuYWN0aXZlSXRlbSk7XG4gICAgICB9O1xuXG4gICAgICAvLyBHbyBkaXJlY3RseSB0byBhbiBpdGVtXG4gICAgICAkc2NvcGUuZ29Ub0luZGV4ID0gZnVuY3Rpb24oaWR4KSB7XG4gICAgICAgIGlmICgkc2NvcGUuY3VycmVudEluZGV4ID09PSBpZHgpIHtyZXR1cm47fVxuXG4gICAgICAgICRzY29wZS5hY3RpdmVJdGVtID0gJHNjb3BlLnZpZXdlci5pdGVtc1tpZHhdO1xuICAgICAgICAkc2NvcGUuY3VycmVudEluZGV4ID0gaWR4O1xuICAgICAgICBzZXRBY3RpdmVJdGVtKCRzY29wZS5hY3RpdmVJdGVtKTtcbiAgICAgIH07XG5cbiAgICB9XG4gIH07XG59XSk7XG4iLCIvKipcbiAqIG1zZ0NlbnRlclxuICogYSBkaXJlY3RpdmUgZm9yIGhhbmRsaW5nIGFsbCBtZXNzYWdlIHJlbGF5IGZvciBhIHVzZXJcbiAqXG4gKiBVU0U6XG4gKiAkcm9vdFNjb3BlLiRicm9hZGNhc3QoJ01TR0NFTlRFUjpGSVJFJywgeyBtc2c6IFwiSGV5IHRoZXJlLCBJbSBhIG1lc3NhZ2UhIVwiLCBkdXI6IDUsIHR5cGU6IFwiaW5mb1wiLCBpY29uOiBcImluZm9cIiwgY2FsbGJhY2s6IGZ1bmN0aW9uKCl7fSB9KTtcbiAqXG4gKiBUWVBFUzpcbiAqIC0gREVGQVVMVCwgc2hvd3MgZ3JlZW4gbWVzc2FnZSwgdXNlZCBmb3Igc3VjY2Vzc1xuICogLSBXYXJuaW5nOiBcIndhcm5cIiAtIHNob3dzIG9yYW5nZSBtZXNzYWdlLCB1c2VkIGZvciBlcnJvcnMgb3Igd2FybmluZ3NcbiAqIC0gSW5mbzogXCJpbmZvXCIgLSBzaG93cyBkYXJrIGJsdWUgbWVzc2FnZSwgdXNlZCBmb3IgZ2VuZXJhbCB0aGluZ3NcbiAqXG4gKiBPUFRJT05TOlxuICogLSBtc2c6IHRoZSBjb250ZW50cyBvZiB0aGUgbWVzc2FnZSwgKFRPRE86IGNhbiBiZSBodG1sIG9yIHNpbXBsZSB0ZXh0KVxuICogLSBjYWxsYmFjazogYSBmdW5jdGlvbiB0byBmaXJlIG9uIGFjdGlvbiB0YWtlbiBvbiBtZXNzYWdlXG4gKiAtIGR1cjogdGhlIHRpbWVvdXQgb2YgdGhlIG1lc3NhZ2VcbiAqIC0gdHlwZTogc2VlIGFib3ZlIHR5cGVzXG4gKiAtIGljb246IGRlZmF1bHQgaXMgZ2xvYmUsIGNhbiBiZSBzZXQgdG8gQU5ZIGktc3ByaXRlcyAoc3ByaXRlcy5sZXNzKVxuICovXG5NVUcuZGlyZWN0aXZlKCdtc2dDZW50ZXInLFxuWyBcIiRyb290U2NvcGVcIiwgXCIkdGltZW91dFwiLCBcIiRjb21waWxlXCIsXG5mdW5jdGlvbiAoJHJvb3RTY29wZSwgJHRpbWVvdXQsICRjb21waWxlKSB7XG4gIHJldHVybiB7XG4gICAgc2NvcGU6IHt9LFxuICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWwsIGF0dHJzLCBjdHJsKSB7XG4gICAgICB2YXIgbXNnVGVtcGxhdGUgPSAnPGRpdiBjbGFzcz1cIm1zZ1wiIG5nLWNsaWNrPVwiYWN0aW9uKClcIj4nK1xuICAgICAgICAgICc8ZGl2IGNsYXNzPVwibXNnLWljblwiPjxpIGNsYXNzPVwiaXcgaS1JQ09OXCI+PC9pPjwvZGl2PicrXG4gICAgICAgICAgJzxkaXYgY2xhc3M9XCJtc2ctY29udFwiPkJPRFk8L2Rpdj4nK1xuICAgICAgICAgICc8ZGl2IGNsYXNzPVwibXNnLWFjdGlvblwiPjxpIGNsYXNzPVwiaWIgaS1yLWFycm93XCI+PC9pPjwvZGl2PicrXG4gICAgICAgICc8L2Rpdj4nO1xuXG4gICAgICB2YXIgX2VsID0gYW5ndWxhci5lbGVtZW50KGVsKTtcbiAgICAgIHZhciB0aW1lcjtcbiAgICAgIHZhciBkdXJhdGlvbiA9IDUwMDA7XG4gICAgICB2YXIgcHJldmlvdXNJZCA9IFwiXCI7XG4gICAgICB2YXIgZGVmYXVsdEljb24gPSBcImluZm9cIjtcblxuICAgICAgc2NvcGUuYm9keSA9IFwiXCI7XG4gICAgICBzY29wZS5jYWxsYmFjayA9IG51bGw7XG4gICAgICBzY29wZS5pY29uID0gZGVmYXVsdEljb247XG4gICAgICBzY29wZS5hY3Rpb24gPSBmdW5jdGlvbigpe1xuICAgICAgICB2YXIgYWN0aW9uRWwgPSBfZWwuZmluZChcIiNcIiArIHRoaXMuaWQpO1xuICAgICAgICBzY29wZS5jYWxsYmFjaygpO1xuICAgICAgICBjbGVhckVsKCBhY3Rpb25FbCApO1xuICAgICAgfTtcblxuICAgICAgZnVuY3Rpb24gc2hvd01lc3NhZ2UgKCBkYXRhICl7XG4gICAgICAgIHZhciBfaWQgPSAoK25ldyBEYXRlKCkpO1xuICAgICAgICB2YXIgbmV3Qm9keSA9IGRhdGEubXNnO1xuICAgICAgICB2YXIgbmV3SWNuID0gKGRhdGEuaWNvbik/IGRhdGEuaWNvbiA6IGRlZmF1bHRJY29uO1xuXG4gICAgICAgIHZhciB0ZW1wbGF0ZSA9IG1zZ1RlbXBsYXRlLnJlcGxhY2UoXCJCT0RZXCIsIG5ld0JvZHkpLnJlcGxhY2UoXCJJQ09OXCIsIG5ld0ljbik7XG4gICAgICAgIHZhciBuZXdNZXNzYWdlID0gJGNvbXBpbGUodGVtcGxhdGUpKHNjb3BlKTtcblxuICAgICAgICAvLyBzZXQgYSB1bmlxdWUgaWRcbiAgICAgICAgbmV3TWVzc2FnZVswXS5pZCA9IF9pZDtcbiAgICAgICAgcHJldmlvdXNJZCA9IF9pZDtcblxuICAgICAgICAvLyB0aHJvdyBpbnRvIGRvbSwgdGhlbiBzaG93IGluIHZpZXcsIHN0YXJ0IHRpbWVyXG4gICAgICAgIF9lbC5hcHBlbmQoIG5ld01lc3NhZ2UgKTtcblxuICAgICAgICAvLyByZW1lbWJlciB0aGUgbmV3IGVsIGZvciBsYXRlclxuICAgICAgICB2YXIgbXNnRWwgPSBfZWwuZmluZChcIiNcIiArIF9pZCk7XG4gICAgICAgIGNoYW5nZVR5cGUoIG1zZ0VsLCBkYXRhLnR5cGUgKTtcblxuICAgICAgICBpZihkYXRhLmNhbGxiYWNrKXtcbiAgICAgICAgICBtc2dFbC5maW5kKFwiLm1zZy1hY3Rpb25cIikuYWRkQ2xhc3MoXCJzaG93XCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc2hvd1xuICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICBtc2dFbC5hZGRDbGFzcygnYWRkJyk7XG4gICAgICAgIH0sIDIwKTtcblxuICAgICAgICB0aW1lciA9ICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgY2xlYXJFbCggbXNnRWwgKTtcbiAgICAgICAgfSwgZHVyYXRpb24pO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBjbGVhckVsICggZWxlbSApIHtcbiAgICAgICAgaWYoIWVsZW0gJiYgcHJldmlvdXNJZCl7XG4gICAgICAgICAgZWxlbSA9IF9lbC5maW5kKFwiI1wiICsgcHJldmlvdXNJZCk7XG4gICAgICAgIH0gZWxzZSBpZighZWxlbSkgeyByZXR1cm47IH1cblxuICAgICAgICBlbGVtLnJlbW92ZUNsYXNzKCdhZGQnKTtcbiAgICAgICAgZWxlbS5hZGRDbGFzcygncmVtb3ZlJyk7XG4gICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgICAgYW5ndWxhci5lbGVtZW50KGVsZW0pLnJlbW92ZSgpO1xuICAgICAgICB9LCAzMDApO1xuICAgICAgfVxuXG4gICAgICAvLyBzZXQgdGhlIHR5cGUgYnkgYSBjbGFzc1xuICAgICAgZnVuY3Rpb24gY2hhbmdlVHlwZSAoIGVsZW0sIHR5cGUgKSB7XG4gICAgICAgIGVsZW0ucmVtb3ZlQ2xhc3MoJ21zZy1pbmZvJyk7XG4gICAgICAgIGVsZW0ucmVtb3ZlQ2xhc3MoJ21zZy13YXJuJyk7XG5cbiAgICAgICAgaWYodHlwZSl7XG4gICAgICAgICAgZWxlbS5hZGRDbGFzcygnbXNnLScgKyB0eXBlKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAkcm9vdFNjb3BlLiRvbignTVNHQ0VOVEVSOkZJUkUnLCBmdW5jdGlvbihlLCBkYXRhKXtcbiAgICAgICAgaWYoIWRhdGEubXNnKXsgcmV0dXJuOyB9XG4gICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodGltZXIpO1xuICAgICAgICBjbGVhckVsKCk7XG5cbiAgICAgICAgaWYoZGF0YS5kdXIpe1xuICAgICAgICAgIGR1cmF0aW9uID0gZGF0YS5kdXIgKiAxMDAwO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYoZGF0YS5jYWxsYmFjayl7XG4gICAgICAgICAgc2NvcGUuY2FsbGJhY2sgPSBkYXRhLmNhbGxiYWNrO1xuICAgICAgICB9XG5cbiAgICAgICAgc2hvd01lc3NhZ2UoIGRhdGEgKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn1dKTtcbiIsIi8qKlxuICogcHJlbG9hZGVyXG4gKiBhIGRpcmVjdGl2ZSBmb3Igc2hvd2luZyBhIHByZWxvYWRlciBhbmltYXRpb24gZHVyaW5nIGEgcHJvY2Vzc2luZyBwZXJpb2RcbiAqXG4gKiBVU0U6XG4gKiA8cHJlbG9hZGVyPjwvcHJlbG9hZGVyPlxuICpcbiAqICRyb290U2NvcGUuJGJyb2FkY2FzdCgnUFJFTE9BREVSOk9OJyk7XG4gKiAkcm9vdFNjb3BlLiRicm9hZGNhc3QoJ1BSRUxPQURFUjpPRkYnKTtcbiAqXG4gKi9cbnZhciBQID0gcmVxdWlyZSgnLi92ZW5kb3IvY29yZS9wcmVsb2FkZXInKTtcblxuTVVHLmRpcmVjdGl2ZSgncHJlbG9hZGVyJyxcblsnJHJvb3RTY29wZScsICckdGltZW91dCcsXG5mdW5jdGlvbigkcm9vdFNjb3BlLCAkdGltZW91dCkge1xuICByZXR1cm4ge1xuICAgIHJlcGxhY2U6IHRydWUsXG4gICAgcmVzdHJpY3Q6ICdFJyxcbiAgICBzY29wZToge30sXG4gICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwicHJlbG9hZGVyXCI+PC9kaXY+JyxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbSwgYXR0cnMsIGN0cmwpIHtcbiAgICAgIHZhciBCO1xuICAgICAgdmFyIGVsO1xuICAgICAgdmFyIHRpbWVyO1xuICAgICAgdmFyIHRpdGxlO1xuICAgICAgdmFyIHByZXZpb3VzVGl0bGU7XG4gICAgICB2YXIgZHVyYXRpb24gPSA1MDAwO1xuICAgICAgdmFyIGxvYWRpbmcgPSAnbG9hZGluZyc7XG5cbiAgICAgIC8vIElOSVQhXG4gICAgICAvLyBhdm9pZCB0aGUgaGlkZS9zaG93IHRpbWVsaW5lXG4gICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgQiA9IG5ldyBQLkJyb3dzZXIoKTtcbiAgICAgICAgQi5pbml0KCk7XG5cbiAgICAgICAgLy8gc2V0dXAgb25lIGluc3RhbmNlIG9mIHRoZSBjYW52YXNcbiAgICAgICAgZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJlbG9hZGVyJyk7XG4gICAgICAgIGVsLmFwcGVuZENoaWxkKEIuaW5zdGFuY2UpO1xuXG4gICAgICAgIC8vIGRyYXcgYnJvd3NlclxuICAgICAgICBCLmRyYXdCcm93c2VyKCk7XG4gICAgICB9LCAzMCk7XG5cbiAgICAgIC8vIGZ1bmN0aW9uIHNob3dQcmVsb2FkZXIoKSB7XG4gICAgICAvL1xuICAgICAgLy8gICAvLyBhdm9pZCB0aGUgaGlkZS9zaG93IHRpbWVsaW5lXG4gICAgICAvLyAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgLy9cbiAgICAgIC8vICAgICAvLyBTdGFydCBhbmltYXRpb25cbiAgICAgIC8vICAgICBCLmFuaW1hdGUoMCwgMzApO1xuICAgICAgLy8gICB9LCAzMCk7XG4gICAgICAvL1xuICAgICAgLy8gICAkdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgIC8vXG4gICAgICAvLyAgICAgLy8gLy8gZHJhdyBicm93c2VyXG4gICAgICAvLyAgICAgLy8gQi5kcmF3QnJvd3NlcigpO1xuICAgICAgLy9cbiAgICAgIC8vICAgICAvLyBTdGFydCBhbmltYXRpb25cbiAgICAgIC8vICAgICBCLmFuaW1hdGUoMSwgMTUwKTtcbiAgICAgIC8vXG4gICAgICAvLyAgICAgLy8gZWwuYWRkQ2xhc3MobG9hZGluZyk7XG4gICAgICAvLyAgIH0sIDMwMDApO1xuICAgICAgLy8gfVxuXG4gICAgICBmdW5jdGlvbiB1cGRhdGVQcmVsb2FkZXIoZSwgYXJncykge1xuICAgICAgICBpZiAoIWFyZ3MgfHwgIWFyZ3MubXNnKSB7IHJldHVybjsgfVxuXG4gICAgICAgIHRpdGxlID0gYXJncy5tc2c7XG5cbiAgICAgICAgdmFyIHR5cGU7XG5cbiAgICAgICAgc3dpdGNoICh0aXRsZSkge1xuICAgICAgICAgIC8vIGNhc2UgJ1N0YXJ0aW5nIGNvbXBhcmUgY2FwdHVyZSc6XG4gICAgICAgICAgLy8gICB0eXBlID0gMDtcbiAgICAgICAgICAvLyAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ09wZW5pbmcgQnJvd3NlciBTZXNzaW9uJzpcbiAgICAgICAgICAgIHR5cGUgPSAwO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnQ2FwdHVyaW5nIFNjcmVlbnMnOlxuICAgICAgICAgICAgdHlwZSA9IDE7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAvLyBjYXNlICdVcGRhdGVkIFByb2plY3QgSGlzdG9yeSc6XG4gICAgICAgICAgLy8gICB0eXBlID0gMjtcbiAgICAgICAgICAvLyAgIGJyZWFrO1xuICAgICAgICAgIC8vIGNhc2UgJ0NvbXBhcmluZyBDYXB0dXJlIERhdGEnOlxuICAgICAgICAgIC8vICAgdHlwZSA9IDI7XG4gICAgICAgICAgLy8gICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNoZWNrIHRoYXQgdGhlIHRpdGxlIGhhcyBjaGFuZ2VkXG4gICAgICAgIGlmICh0aXRsZSAhPT0gcHJldmlvdXNUaXRsZSAmJiBCICYmIEIuYW5pbWF0ZSkge1xuXG4gICAgICAgICAgLy8gU3RhcnQgYW5pbWF0aW9uXG4gICAgICAgICAgQi5hbmltYXRlKHR5cGUsIDMwLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHByZXZpb3VzVGl0bGUgPSB0aXRsZTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiByZXNldFByZWxvYWRlcigpIHtcbiAgICAgICAgZWwuYWRkQ2xhc3MobG9hZGluZyk7XG4gICAgICB9XG5cbiAgICAgIC8vICRyb290U2NvcGUuJG9uKCdQUkVMT0FERVI6T04nLCBzaG93UHJlbG9hZGVyKTtcbiAgICAgICRyb290U2NvcGUuJG9uKCdQUkVMT0FERVI6VVBEQVRFJywgdXBkYXRlUHJlbG9hZGVyKTtcbiAgICAgICRyb290U2NvcGUuJG9uKCdQUkVMT0FERVI6T0ZGJywgcmVzZXRQcmVsb2FkZXIpO1xuICAgIH1cbiAgfTtcbn1dKTtcbiIsIk1VRy5mYWN0b3J5KCd0aW1lQWdvJywgZnVuY3Rpb24gKCkge1xuICB2YXIgc2VydmljZSA9IHt9O1xuXG4gIHNlcnZpY2Uuc2V0dGluZ3MgPSB7XG4gICAgcmVmcmVzaE1pbGxpczogNjAwMDAsXG4gICAgYWxsb3dGdXR1cmU6IGZhbHNlLFxuICAgIHN0cmluZ3M6IHtcbiAgICAgIHByZWZpeEFnbzogbnVsbCxcbiAgICAgIHByZWZpeEZyb21Ob3c6IG51bGwsXG4gICAgICBzdWZmaXhBZ286ICdhZ28nLFxuICAgICAgc3VmZml4RnJvbU5vdzogJ2Zyb20gbm93JyxcbiAgICAgIHNlY29uZHM6ICdsZXNzIHRoYW4gYSBtaW51dGUnLFxuICAgICAgbWludXRlOiAnYWJvdXQgYSBtaW51dGUnLFxuICAgICAgbWludXRlczogJyVkIG1pbnV0ZXMnLFxuICAgICAgaG91cjogJ2Fib3V0IGFuIGhvdXInLFxuICAgICAgaG91cnM6ICclZCBob3VycycsXG4gICAgICBkYXk6ICdhIGRheScsXG4gICAgICBkYXlzOiAnJWQgZGF5cycsXG4gICAgICBtb250aDogJ2Fib3V0IGEgbW9udGgnLFxuICAgICAgbW9udGhzOiAnJWQgbW9udGhzJyxcbiAgICAgIHllYXI6ICdhYm91dCBhIHllYXInLFxuICAgICAgeWVhcnM6ICclZCB5ZWFycycsXG4gICAgICBudW1iZXJzOiBbXVxuICAgIH1cbiAgfTtcblxuICBmdW5jdGlvbiB0cmltRGlnaXRzICggbnVtICkge1xuICAgICAgdmFyIG0gPSBudW0udG9TdHJpbmcoKS5zbGljZSgwLDEzKTtcbiAgICAgIHJldHVybiAobS5sZW5ndGggPT0gMTMpPyBwYXJzZUludChtKSA6IG51bTtcbiAgfVxuXG4gIHNlcnZpY2UuaW5Xb3JkcyA9IGZ1bmN0aW9uIChkaXN0YW5jZU1pbGxpcykge1xuICAgIHZhciAkbCA9IHNlcnZpY2Uuc2V0dGluZ3Muc3RyaW5ncztcbiAgICB2YXIgcHJlZml4ID0gJGwucHJlZml4QWdvO1xuICAgIHZhciBzdWZmaXggPSAkbC5zdWZmaXhBZ287XG4gICAgaWYgKHNlcnZpY2Uuc2V0dGluZ3MuYWxsb3dGdXR1cmUpIHtcbiAgICAgIGlmIChkaXN0YW5jZU1pbGxpcyA8IDApIHtcbiAgICAgICAgcHJlZml4ID0gJGwucHJlZml4RnJvbU5vdztcbiAgICAgICAgc3VmZml4ID0gJGwuc3VmZml4RnJvbU5vdztcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgc2Vjb25kcyA9IE1hdGguYWJzKGRpc3RhbmNlTWlsbGlzKSAvIDEwMDA7XG4gICAgdmFyIG1pbnV0ZXMgPSBzZWNvbmRzIC8gNjA7XG4gICAgdmFyIGhvdXJzID0gbWludXRlcyAvIDYwO1xuICAgIHZhciBkYXlzID0gaG91cnMgLyAyNDtcbiAgICB2YXIgeWVhcnMgPSBkYXlzIC8gMzY1O1xuXG4gICAgZnVuY3Rpb24gc3Vic3RpdHV0ZShzdHJpbmdPckZ1bmN0aW9uLCBudW1iZXIpIHtcbiAgICAgIHZhciBzdHJpbmcgPSBhbmd1bGFyLmlzRnVuY3Rpb24oc3RyaW5nT3JGdW5jdGlvbikgP1xuICAgICAgc3RyaW5nT3JGdW5jdGlvbihudW1iZXIsIGRpc3RhbmNlTWlsbGlzKSA6IHN0cmluZ09yRnVuY3Rpb247XG4gICAgICB2YXIgdmFsdWUgPSAoJGwubnVtYmVycyAmJiAkbC5udW1iZXJzW251bWJlcl0pIHx8IG51bWJlcjtcbiAgICAgIHJldHVybiBzdHJpbmcucmVwbGFjZSgvJWQvaSwgdmFsdWUpO1xuICAgIH1cblxuICAgIHZhciB3b3JkcyA9IHNlY29uZHMgPCA0NSAmJiBzdWJzdGl0dXRlKCRsLnNlY29uZHMsIE1hdGgucm91bmQoc2Vjb25kcykpIHx8XG4gICAgICAgIHNlY29uZHMgPCA5MCAmJiBzdWJzdGl0dXRlKCRsLm1pbnV0ZSwgMSkgfHxcbiAgICAgICAgbWludXRlcyA8IDQ1ICYmIHN1YnN0aXR1dGUoJGwubWludXRlcywgTWF0aC5yb3VuZChtaW51dGVzKSkgfHxcbiAgICAgICAgbWludXRlcyA8IDkwICYmIHN1YnN0aXR1dGUoJGwuaG91ciwgMSkgfHxcbiAgICAgICAgaG91cnMgPCAyNCAmJiBzdWJzdGl0dXRlKCRsLmhvdXJzLCBNYXRoLnJvdW5kKGhvdXJzKSkgfHxcbiAgICAgICAgaG91cnMgPCA0MiAmJiBzdWJzdGl0dXRlKCRsLmRheSwgMSkgfHxcbiAgICAgICAgZGF5cyA8IDMwICYmIHN1YnN0aXR1dGUoJGwuZGF5cywgTWF0aC5yb3VuZChkYXlzKSkgfHxcbiAgICAgICAgZGF5cyA8IDQ1ICYmIHN1YnN0aXR1dGUoJGwubW9udGgsIDEpIHx8XG4gICAgICAgIGRheXMgPCAzNjUgJiYgc3Vic3RpdHV0ZSgkbC5tb250aHMsIE1hdGgucm91bmQoZGF5cyAvIDMwKSkgfHxcbiAgICAgICAgeWVhcnMgPCAxLjUgJiYgc3Vic3RpdHV0ZSgkbC55ZWFyLCAxKSB8fFxuICAgICAgICBzdWJzdGl0dXRlKCRsLnllYXJzLCBNYXRoLnJvdW5kKHllYXJzKSk7XG5cbiAgICB2YXIgc2VwYXJhdG9yID0gJGwud29yZFNlcGFyYXRvciA9PT0gdW5kZWZpbmVkID8gJyAnIDogJGwud29yZFNlcGFyYXRvcjtcbiAgICByZXR1cm4gW3ByZWZpeCwgd29yZHMsIHN1ZmZpeF0uam9pbihzZXBhcmF0b3IpLnRyaW0oKTtcbiAgfTtcblxuICBzZXJ2aWNlLnBhcnNlID0gZnVuY3Rpb24gKGlzbzg2MDEpIHtcbiAgICBpZiAoYW5ndWxhci5pc051bWJlcihpc284NjAxKSkge1xuICAgICAgaXNvODYwMSA9IGlzbzg2MDEgKyBcIlwiO1xuICAgICAgLy8gZm9ybWF0IGZvciBjb3JyZWN0IGxlbmd0aFxuICAgICAgdmFyIG9yaWdpbmFsVGltZXN0YW1wID0gdHJpbURpZ2l0cyggaXNvODYwMSApO1xuICAgICAgcmV0dXJuIHBhcnNlSW50KG9yaWdpbmFsVGltZXN0YW1wLCAxMCk7XG4gICAgfVxuICAgIHZhciBzID0gKGlzbzg2MDEgfHwgJycpLnRyaW0oKTtcbiAgICBzID0gcy5yZXBsYWNlKC9cXC5cXGQrLywgJycpOyAvLyByZW1vdmUgbWlsbGlzZWNvbmRzXG4gICAgcyA9IHMucmVwbGFjZSgvLS8sICcvJykucmVwbGFjZSgvLS8sICcvJyk7XG4gICAgcyA9IHMucmVwbGFjZSgvVC8sICcgJykucmVwbGFjZSgvWi8sICcgVVRDJyk7XG4gICAgcyA9IHMucmVwbGFjZSgvKFtcXCtcXC1dXFxkXFxkKVxcOj8oXFxkXFxkKS8sICcgJDEkMicpOyAvLyAtMDQ6MDAgLT4gLTA0MDBcbiAgICByZXR1cm4gbmV3IERhdGUocyk7XG4gIH07XG5cbiAgcmV0dXJuIHNlcnZpY2U7XG59KTtcbiIsInZhciBmcyA9IHJlcXVpcmUoJ2ZzJyk7XG52YXIgYXN5bmMgPSByZXF1aXJlKCdhc3luYycpO1xuXG5NVUcuZmFjdG9yeSgnQ29tcGFyZScsXG5bJyRxJywgJ0NvbmZpZycsXG5mdW5jdGlvbigkcSwgQ29uZmlnKSB7XG4gIC8vIENvbmZpZyB2YXJzXG4gIHZhciBmaWxlRGlyUHJlZml4ID0gX19kaXJuYW1lICsgJy8nO1xuICB2YXIgaW1hZ2VQcmVmaXggPSAnZGF0YTppbWFnZS9wbmc7YmFzZTY0LCc7XG4gIHZhciBzdGF0dXNUeXBlcyA9IFsncGFzc2VkJywgJ3dhcm5pbmcnLCAnZmFpbGVkJ107XG5cbiAgLy8gYXN5bmMgaGVscGVyXG4gIGZ1bmN0aW9uIHJlYWRBc3luYyhmaWxlLCBjYWxsYmFjaykge1xuICAgIGZzLnJlYWRGaWxlKGZpbGVEaXJQcmVmaXggKyBmaWxlLCAnYmFzZTY0JywgY2FsbGJhY2spO1xuICB9XG5cbiAgLy8gVE9ETzogbGV0IHRoZSBiYWNrZW5kIHByb2Nlc3MgaGFuZGxlIHRoaXMhXG4gIGZ1bmN0aW9uIGNvbXBhcmVTaW5nbGUoYSwgYikge1xuICAgIHZhciBkZmQgPSAkcS5kZWZlcigpO1xuICAgIHZhciBvdXRwdXQgPSB7fTtcblxuICAgIC8vIEFwcGx5IE1haW4gQ29tcGFyZSBDb25maWdcbiAgICByZXNlbWJsZS5vdXRwdXRTZXR0aW5ncyhDb25maWcuQ29tcGFyZSk7XG5cbiAgICAvLyBPcGVuIGJvdGggZmlsZXMsIGJlZm9yZSB3ZSBhcmUgcmVhZHkgdG8gcHJvY2Vzc1xuICAgIGFzeW5jLm1hcChbYSwgYl0sIHJlYWRBc3luYywgZnVuY3Rpb24oZXJyLCByZXN1bHRzKSB7XG4gICAgICB2YXIgYURhdGEgPSBpbWFnZVByZWZpeCArIHJlc3VsdHNbMF07XG4gICAgICB2YXIgYkRhdGEgPSBpbWFnZVByZWZpeCArIHJlc3VsdHNbMV07XG5cbiAgICAgIC8vIEhhbmRsZXMgZXJyb3JzXG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIGRmZC5yZWplY3QoZXJyKTtcbiAgICAgIH1cblxuICAgICAgLy8gUnVuIHRoZSBjb21wYXJlIGZ1bmN0aW9uLCByZXR1cm4gdGhlIGRpZmYgZGF0YVxuICAgICAgcmVzZW1ibGUoYURhdGEpXG4gICAgICAgIC5jb21wYXJlVG8oYkRhdGEpXG4gICAgICAgIC5pZ25vcmVDb2xvcnMoKVxuICAgICAgICAub25Db21wbGV0ZShmdW5jdGlvbihkaWZmRGF0YSkge1xuICAgICAgICAgIG91dHB1dC5yZXBvcnQgPSBkaWZmRGF0YTtcbiAgICAgICAgICBvdXRwdXQuc3JjID0gZGlmZkRhdGEuZ2V0SW1hZ2VEYXRhVXJsKCk7XG5cbiAgICAgICAgICBkZmQucmVzb2x2ZShvdXRwdXQpO1xuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgIHJldHVybiBkZmQucHJvbWlzZTtcbiAgfTtcblxuICByZXR1cm4ge1xuXG4gICAgLyoqXG4gICAgICogQ29tcGFyZXMgdHdvIGltYWdlcyBhbmQgcmV0dXJucyBhbGwgZGF0YSB3aXRoIGFuIGltYWdlIG9mIGNoYW5nZXNcbiAgICAgKi9cbiAgICBydW5TaW5nbGU6IGNvbXBhcmVTaW5nbGUsXG5cbiAgICAvKipcbiAgICAgKiByZXR1cm5zIHRoZSB0eXBlIG9mIHBhc3Mvd2Fybi9mYWlsIHN0YXR1c1xuICAgICAqL1xuICAgIGdldFN0YXR1czogZnVuY3Rpb24oZGF0YSkge1xuICAgICAgdmFyIG1pc01hdGNoVmFsdWUgPSBwYXJzZUZsb2F0KGRhdGEubWlzTWF0Y2hQZXJjZW50YWdlKTtcblxuICAgICAgLy8gbG93ZXN0IHRvbGVyYW5jZVxuICAgICAgaWYgKG1pc01hdGNoVmFsdWUgPCAwLjEpIHtcblxuICAgICAgICAvLyBXYXJuIHRoYXQgZGltZW5zaW9ucyBhcmUgZGlmZmVyZW5jZVxuICAgICAgICBpZiAoZGF0YS5pc1NhbWVEaW1lbnNpb25zID09PSBmYWxzZSkge1xuICAgICAgICAgIHJldHVybiBzdGF0dXNUeXBlc1sxXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gc3RhdHVzVHlwZXNbMF07XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gd2FybmluZyB0b2xlcmFuY2VcbiAgICAgIGlmIChtaXNNYXRjaFZhbHVlID4gMC4xICYmIG1pc01hdGNoVmFsdWUgPCAyKSB7XG4gICAgICAgIHJldHVybiBzdGF0dXNUeXBlc1sxXTtcbiAgICAgIH1cblxuICAgICAgLy8gZXJyb3IgdG9sZXJhbmNlIHJlYWNoZWRcbiAgICAgIHJldHVybiBzdGF0dXNUeXBlc1syXTtcbiAgICB9XG5cbiAgfTtcbn1dKTtcbiIsIk1VRy5mYWN0b3J5KCdub3dUaW1lJyxcblsnJHRpbWVvdXQnLFxuZnVuY3Rpb24oJHRpbWVvdXQpIHtcbiAgdmFyIG5vd1RpbWUgPSBEYXRlLm5vdygpO1xuICB2YXIgdXBkYXRlVGltZSA9IGZ1bmN0aW9uKCkge1xuICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgbm93VGltZSA9IERhdGUubm93KCk7XG4gICAgICB1cGRhdGVUaW1lKCk7XG4gICAgfSwgMTAwMCk7XG4gIH07XG5cbiAgdXBkYXRlVGltZSgpO1xuICByZXR1cm4ge1xuICAgIGdldFRpbWU6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIG5vd1RpbWU7XG4gICAgfVxuICB9O1xufV0pO1xuIiwidmFyIGZzID0gcmVxdWlyZSgnZnMnKTtcbnZhciBBV1MgPSByZXF1aXJlKCcuL3ZlbmRvci9jb3JlL2F3cycpO1xuXG5NVUcuZmFjdG9yeSgnUHJvamVjdHMnLFxuWyckcScsXG5mdW5jdGlvbigkcSkge1xuICAvLyBDb25maWcgdGhlIG1haW4gcGF0aHNcbiAgdmFyIHByb2plY3RzUGF0aCA9IF9fZGlybmFtZSArICcvcHJvamVjdHMuanNvbic7XG4gIHZhciBwcm9qZWN0RmlsZXNQYXRoID0gX19kaXJuYW1lICsgJy9wcm9qZWN0cy8nO1xuXG4gIC8vIENyZWF0ZXMgYSBVVUlEIG9mIHRoZSBzcGVjaWZpZWQgbGVuZ3RoXG4gIGZ1bmN0aW9uIGNyZWF0ZVVVSUQocykge1xuICAgIHZhciBuO1xuICAgIGlmICh0eXBlb2YgcyA9PSAnbnVtYmVyJyAmJiBzID09PSBwYXJzZUludChzLCAxMCkpIHtcbiAgICAgIHMgPSBBcnJheShzICsgMSkuam9pbigneCcpO1xuICAgIH1cblxuICAgIHJldHVybiBzLnJlcGxhY2UoL3gvZywgZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgbiA9IE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIDYxKSArIDQ4O1xuICAgICAgbiA9IG4gPiA1NyA/IChuICsgNyA+IDkwID8gbiArIDEzIDogbiArIDcpIDogbjtcbiAgICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKG4pO1xuICAgIH0pO1xuICB9XG5cbiAgLy8gQ3JlYXRlcyBhIEpTT04gb2JqZWN0IGZvciBhIGJhc2VsaW5lIG5ldyBwcm9qZWN0XG4gIGZ1bmN0aW9uIGNyZWF0ZUR1bW15UHJvamVjdCh0b3RhbCkge1xuICAgIHRvdGFsID0gdG90YWwgfHwgMDtcbiAgICB2YXIgcHJvamVjdElkID0gY3JlYXRlVVVJRCgxMik7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlkOiBwcm9qZWN0SWQsXG4gICAgICB0aXRsZTogJ1Byb2plY3QgJyArIChwYXJzZUludCh0b3RhbCwgMTApICsgMSksXG4gICAgICB0aW1lc3RhbXA6ICgrbmV3IERhdGUpLFxuICAgICAgdG90YWxzOiB7XG4gICAgICAgIHN1Y2Nlc3M6IG51bGwsXG4gICAgICAgIHdhcm5pbmc6IG51bGwsXG4gICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgICB2aWV3czogMFxuICAgICAgfVxuICAgIH07XG4gIH1cblxuICAvLyBTZXRzIHVwIHRoZSBuZWVkZWQgYmFzZSBkYXRhIGZvciBzdG9yaW5nIGFuIGluZGl2aWR1YWwgcHJvamVjdFxuICBmdW5jdGlvbiBjcmVhdGVEdW1teVByb2plY3RGaWxlKG9wdGlvbnMpIHtcbiAgICB2YXIgcHJvamVjdElkID0gY3JlYXRlVVVJRCgxMik7XG4gICAgcmV0dXJuIHtcbiAgICAgIGJhdGNoSGlzdG9yeToge30sXG4gICAgICBjdXJyZW50QmF0Y2g6IG51bGwsXG4gICAgICBjdXJyZW50UmVmZXJlbmNlOiBudWxsLFxuICAgICAgaWQ6IG9wdGlvbnMuaWQsXG4gICAgICB0aXRsZTogb3B0aW9ucy50aXRsZSxcbiAgICAgIHRpbWVzdGFtcDogb3B0aW9ucy50aW1lc3RhbXAsXG4gICAgICB2aWV3cG9ydHM6IFtdLFxuICAgICAgc2VsZWN0b3JzOiBbXSxcbiAgICAgIGNvb2tpZXM6IFtdLFxuICAgICAgbWV0YToge1xuICAgICAgICB1cmw6IG51bGwsXG4gICAgICAgIHJlYWR5RXZlbnQ6IG51bGwsXG4gICAgICAgIGRlbGF5OiBudWxsLFxuICAgICAgICBtaXNNYXRjaFRocmVzaG9sZDogbnVsbFxuICAgICAgfVxuICAgIH07XG4gIH1cblxuICAvLyBHcmFicyBKU09OIGZpbGUgYW5kIGFwcHJvcHJpYXRlbHkgaGFuZGxlcyBlcnJvcnNcbiAgZnVuY3Rpb24gZ2V0SnNvbkZpbGUocGF0aCwgdHlwZSkge1xuICAgIHZhciBmaWxlO1xuXG4gICAgdHJ5IHtcbiAgICAgIGZpbGUgPSBmcy5yZWFkRmlsZVN5bmMocGF0aCwgJ3V0ZjgnKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAvLyBjb3VsZG4ndCBmaW5kIGZpbGVcbiAgICAgIGlmIChlLmNvZGUgPT09ICdFTk9FTlQnKSB7XG4gICAgICAgIHJldHVybiB0eXBlIHx8IHt9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gSlNPTi5wYXJzZShmaWxlKTtcbiAgfVxuXG4gIC8vIHNldHMgdXAgYSBwcm9taXNlIGRyaXZlbiBmaWxlIHdyaXRlXG4gIGZ1bmN0aW9uIHByb21pc2VXcml0ZShmaWxlUGF0aCwgZGF0YSkge1xuICAgIHZhciBfcSA9ICRxLmRlZmVyKCk7XG5cbiAgICBmcy53cml0ZUZpbGUoZmlsZVBhdGgsIEpTT04uc3RyaW5naWZ5KGRhdGEpLCBmdW5jdGlvbihlcnIpIHtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgX3EucmVqZWN0KGVycik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIF9xLnJlc29sdmUoKTtcbiAgICB9KTtcblxuICAgIHJldHVybiBfcS5wcm9taXNlO1xuICB9XG5cbiAgLy8gc2V0cyB1cCBhIHByb21pc2UgZHJpdmVuIGZpbGUgZGVsZXRlXG4gIGZ1bmN0aW9uIHByb21pc2VSZW1vdmUocGF0aCkge1xuICAgIHZhciBfeiA9ICRxLmRlZmVyKCk7XG5cbiAgICAvLyBmcy51bmxpbmtcbiAgICBmcy51bmxpbmsocGF0aCwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIF96LnJlamVjdChlcnIpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBfei5yZXNvbHZlKCk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gX3oucHJvbWlzZTtcbiAgfVxuXG4gIHJldHVybiB7XG5cbiAgICBnZXRBbGw6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGdldEpzb25GaWxlKHByb2plY3RzUGF0aCwgW10pO1xuICAgIH0sXG5cbiAgICBnZXRCeUlkOiBmdW5jdGlvbihpZCkge1xuICAgICAgcmV0dXJuIGdldEpzb25GaWxlKHByb2plY3RGaWxlc1BhdGggKyBpZCArICcuanNvbicpO1xuICAgIH0sXG5cbiAgICBnZXRUeXBlQnlJZDogZnVuY3Rpb24oaWQsIHR5cGUpIHtcbiAgICAgIHJldHVybiBnZXRKc29uRmlsZShwcm9qZWN0RmlsZXNQYXRoICsgaWQgKyAnXycgKyB0eXBlICsgJy5qc29uJywgW10pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiB2YWxpZGF0ZXMgdGhlIHByb2plY3QsIG1ha2VzIHN1cmUgYWxsIHNldHRpbmdzIGFyZSBzZXR1cCBhbmQgdmFsaWRcbiAgICAgKi9cbiAgICB2YWxpZGF0ZTogZnVuY3Rpb24ocHJvamVjdCkge1xuICAgICAgdmFyIGNvb2tpZXMgPSBwcm9qZWN0LmNvb2tpZXM7XG4gICAgICB2YXIgdmlld3BvcnRzID0gcHJvamVjdC52aWV3cG9ydHM7XG4gICAgICB2YXIgc2VsZWN0b3JzID0gcHJvamVjdC5zZWxlY3RvcnM7XG4gICAgICB2YXIgdGl0bGUgPSBwcm9qZWN0LnRpdGxlO1xuICAgICAgdmFyIHVybCA9IHByb2plY3QubWV0YS51cmw7XG4gICAgICB2YXIgYm9vbCA9IHRydWU7XG5cbiAgICAgIC8vIHZlcmlmeSBhbGwgZGVmYXVsdHMgYXJlIHNldHVwXG4gICAgICBpZiAoIXZpZXdwb3J0cyB8fCAhc2VsZWN0b3JzIHx8ICF0aXRsZSB8fCAhdXJsIHx8IHZpZXdwb3J0cy5sZW5ndGggPCAxIHx8IHNlbGVjdG9ycy5sZW5ndGggPCAxKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgLy8gSWYgd2UgaGF2ZSB2aWV3cG9ydHMsIHZlcmlmeSB0aGV5J3JlIHNldHVwIHJpZ2h0XG4gICAgICBpZiAodmlld3BvcnRzKSB7XG4gICAgICAgIHZpZXdwb3J0cy5tYXAoZnVuY3Rpb24ob2JqLCBpZHgpIHtcbiAgICAgICAgICBpZiAoIW9iai53aWR0aCB8fCAhb2JqLmhlaWdodCB8fCAhb2JqLm5hbWUpIHtcbiAgICAgICAgICAgIGJvb2wgPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICAvLyBJZiB3ZSBoYXZlIHNlbGVjdG9ycywgdmVyaWZ5IHRoZXkncmUgc2V0dXAgcmlnaHRcbiAgICAgIGlmIChzZWxlY3RvcnMpIHtcbiAgICAgICAgc2VsZWN0b3JzLm1hcChmdW5jdGlvbihvYmosIGlkeCkge1xuICAgICAgICAgIGlmICghb2JqLnF1ZXJ5IHx8ICFvYmoudHlwZSkge1xuICAgICAgICAgICAgYm9vbCA9IGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIC8vIElmIHdlIGhhdmUgY29va2llcywgdmVyaWZ5IHRoZXkncmUgc2V0dXAgcmlnaHRcbiAgICAgIGlmIChjb29raWVzKSB7XG4gICAgICAgIGNvb2tpZXMubWFwKGZ1bmN0aW9uKG9iaiwgaWR4KSB7XG4gICAgICAgICAgaWYgKCFvYmoubmFtZSB8fCAhb2JqLnBhdGggfHwgIW9iai52YWx1ZSkge1xuICAgICAgICAgICAgYm9vbCA9IGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIC8vIGRlZmF1bHQgdG8gdHJ1ZVxuICAgICAgcmV0dXJuIGJvb2w7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGNyZWF0ZXMgYSBuZXcgcHJvamVjdCwgYW5kIHJldHVybnMgdGhlIGRhdGEgaW4gYSBwcm9taXNlXG4gICAgICovXG4gICAgY3JlYXRlTmV3OiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBkZmQgPSAkcS5kZWZlcigpO1xuICAgICAgdmFyIGFsbFByb2plY3RzID0gSlNPTi5wYXJzZShmcy5yZWFkRmlsZVN5bmMocHJvamVjdHNQYXRoLCAndXRmOCcpKTtcbiAgICAgIHZhciBuZXdQcm9qZWN0RGF0YSA9IGNyZWF0ZUR1bW15UHJvamVjdChhbGxQcm9qZWN0cy5sZW5ndGgpO1xuICAgICAgdmFyIG5ld1Byb2plY3RGaWxlID0gY3JlYXRlRHVtbXlQcm9qZWN0RmlsZShuZXdQcm9qZWN0RGF0YSk7XG5cbiAgICAgIGFsbFByb2plY3RzLnVuc2hpZnQobmV3UHJvamVjdERhdGEpO1xuXG4gICAgICAvLyBzYXZlIHRoZSBkYXRhIHRvIHRoZSBwcm9qZWN0cyBsaXN0XG4gICAgICBmcy53cml0ZUZpbGUocHJvamVjdHNQYXRoLCBKU09OLnN0cmluZ2lmeShhbGxQcm9qZWN0cyksIGZ1bmN0aW9uKGVycikge1xuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgZGZkLnJlamVjdChlcnIpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHNhdmUgYXMgYW4gaW5kaXZpZHVhbCBmaWxlXG4gICAgICAgIGZzLndyaXRlRmlsZShwcm9qZWN0RmlsZXNQYXRoICsgbmV3UHJvamVjdERhdGEuaWQgKyAnLmpzb24nLCBKU09OLnN0cmluZ2lmeShuZXdQcm9qZWN0RmlsZSksIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgIGRmZC5yZWplY3QoZXJyKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBzYXZlIGFzIGFuIGluZGl2aWR1YWwgZmlsZVxuICAgICAgICAgIGZzLndyaXRlRmlsZShwcm9qZWN0RmlsZXNQYXRoICsgbmV3UHJvamVjdERhdGEuaWQgKyAnX2hpc3RvcnkuanNvbicsIEpTT04uc3RyaW5naWZ5KFtdKSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgIGRmZC5yZWplY3QoZXJyKTtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyByZWRpcmVjdCB1c2VyIHRvIHRoZSBzZXR0aW5ncyBwYWdlXG4gICAgICAgICAgICBkZmQucmVzb2x2ZShuZXdQcm9qZWN0RGF0YSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBkZmQucHJvbWlzZTtcbiAgICB9LFxuXG4gICAgLy8gc2F2ZSB0byBmaWxlIGFuZCBsaXN0cywgcmV0dXJuIGxpc3QgZGF0YVxuICAgIHNhdmU6IGZ1bmN0aW9uKHByb2plY3REYXRhKSB7XG4gICAgICB2YXIgZGZkID0gJHEuZGVmZXIoKTtcbiAgICAgIHZhciBhbGxQcm9qZWN0cyA9IEpTT04ucGFyc2UoZnMucmVhZEZpbGVTeW5jKHByb2plY3RzUGF0aCwgJ3V0ZjgnKSk7XG5cbiAgICAgIC8vIFVwZGF0ZSB0aGUgbGlzdGluZyBkYXRhXG4gICAgICBhbGxQcm9qZWN0cy5tYXAoZnVuY3Rpb24ob2JqLCBpZHgpIHtcbiAgICAgICAgaWYgKG9iai5pZCA9PT0gcHJvamVjdERhdGEuaWQpIHtcbiAgICAgICAgICBhbGxQcm9qZWN0c1tpZHhdLnRpdGxlID0gcHJvamVjdERhdGEudGl0bGU7XG4gICAgICAgICAgYWxsUHJvamVjdHNbaWR4XS50aW1lc3RhbXAgPSAoK25ldyBEYXRlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIC8vIHNhdmUgYXMgYW4gaW5kaXZpZHVhbCBmaWxlXG4gICAgICBmcy53cml0ZUZpbGUocHJvamVjdEZpbGVzUGF0aCArIHByb2plY3REYXRhLmlkICsgJy5qc29uJywgSlNPTi5zdHJpbmdpZnkocHJvamVjdERhdGEpLCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgIGRmZC5yZWplY3QoZXJyKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyB1cGRhdGUgdGhlIGxpc3RpbmcgZGF0YVxuICAgICAgICBmcy53cml0ZUZpbGUocHJvamVjdHNQYXRoLCBKU09OLnN0cmluZ2lmeShhbGxQcm9qZWN0cyksIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgIGRmZC5yZWplY3QoZXJyKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyByZXR1cm4gdGhlIGxpc3RpbmcgZGF0YSwgc28gd2UgY2FuIHVwZGF0ZSB0aGUgc2lkZXBhbmVsXG4gICAgICAgICAgZGZkLnJlc29sdmUocHJvamVjdERhdGEpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gZGZkLnByb21pc2U7XG4gICAgfSxcblxuICAgIC8vIFRPRE86IHNob3VsZCByZW1vdmUgaW1hZ2VzIHVwb24gZGVsZXRlP1xuICAgIC8vIFJlbW92ZXMgYSBzaW5nbGUgcHJvamVjdCBieSBJRFxuICAgIHJlbW92ZTogZnVuY3Rpb24oaWQpIHtcbiAgICAgIHZhciBkZmQgPSAkcS5kZWZlcigpO1xuICAgICAgdmFyIGFsbFByb2plY3RzID0gSlNPTi5wYXJzZShmcy5yZWFkRmlsZVN5bmMocHJvamVjdHNQYXRoLCAndXRmOCcpKTtcblxuICAgICAgLy8gVXBkYXRlIHRoZSBsaXN0aW5nIGRhdGFcbiAgICAgIGFsbFByb2plY3RzLm1hcChmdW5jdGlvbihvYmosIGlkeCkge1xuICAgICAgICBpZiAob2JqLmlkID09PSBpZCkge1xuICAgICAgICAgIGFsbFByb2plY3RzLnNwbGljZShpZHgsIDEpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgLy8gUmVtb3ZlIHRoZSBwcm9qZWN0IGZpbGVcbiAgICAgIGZzLnVubGluayhwcm9qZWN0RmlsZXNQYXRoICsgaWQgKyAnLmpzb24nLCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgIGRmZC5yZWplY3QoZXJyKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBSZW1vdmUgdGhlIHByb2plY3QgaGlzdG9yeSBmaWxlXG4gICAgICAgIGZzLnVubGluayhwcm9qZWN0RmlsZXNQYXRoICsgaWQgKyAnX2hpc3RvcnkuanNvbicsIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgIGRmZC5yZWplY3QoZXJyKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyB1cGRhdGUgdGhlIGxpc3RpbmcgZGF0YVxuICAgICAgICAgIGZzLndyaXRlRmlsZShwcm9qZWN0c1BhdGgsIEpTT04uc3RyaW5naWZ5KGFsbFByb2plY3RzKSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgIGRmZC5yZWplY3QoZXJyKTtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyByZXR1cm5cbiAgICAgICAgICAgIGRmZC5yZXNvbHZlKCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBkZmQucHJvbWlzZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogcmVtb3ZlcyBhbGwgc3RvcmVkIGhpc3RvcnkgZm9yIGEgcHJvamVjdFxuICAgICAqL1xuICAgIGNsZWFySGlzdG9yeTogZnVuY3Rpb24ocHJvamVjdCkge1xuICAgICAgdmFyIGRmZCA9ICRxLmRlZmVyKCk7XG4gICAgICB2YXIgbWFpblByb2plY3RzID0gZ2V0SnNvbkZpbGUocHJvamVjdHNQYXRoLCBbXSk7XG5cbiAgICAgIC8vIFVwZGF0ZSB0aGUgcHJvamVjdCBkYXRhIHRvIHJlZmxlY3Qgbm8gaGlzdG9yeVxuICAgICAgcHJvamVjdC5jdXJyZW50QmF0Y2ggPSBudWxsO1xuICAgICAgcHJvamVjdC5jdXJyZW50UmVmZXJlbmNlID0gbnVsbDtcbiAgICAgIHByb2plY3QuYmF0Y2hIaXN0b3J5ID0ge307XG5cbiAgICAgIC8vIHVwZGF0ZSB0aGUgY3VycmVudCBwcm9qZWN0IHRvIGhhdmUgbm8gYmF0Y2hIaXN0b3J5XG4gICAgICBtYWluUHJvamVjdHMubWFwKGZ1bmN0aW9uKG9iaiwgaWR4KSB7XG4gICAgICAgIGlmIChvYmouaWQgPT09IHByb2plY3QuaWQpIHtcbiAgICAgICAgICBtYWluUHJvamVjdHNbaWR4XS50b3RhbHMuc3VjY2VzcyA9IDA7XG4gICAgICAgICAgbWFpblByb2plY3RzW2lkeF0udG90YWxzLndhcm5pbmcgPSAwO1xuICAgICAgICAgIG1haW5Qcm9qZWN0c1tpZHhdLnRvdGFscy5lcnJvciA9IDA7XG4gICAgICAgICAgbWFpblByb2plY3RzW2lkeF0udG90YWxzLnZpZXdzID0gMDtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIC8vIHNhdmUgdGhlIGRhdGEgdG8gdGhlIHByb2plY3RzIGxpc3RcbiAgICAgIGZzLndyaXRlRmlsZShwcm9qZWN0RmlsZXNQYXRoICsgcHJvamVjdC5pZCArICdfaGlzdG9yeS5qc29uJywgSlNPTi5zdHJpbmdpZnkoW10pLCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgIGRmZC5yZWplY3QoZXJyKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzYXZlIHRoZSBkYXRhIHRvIHRoZSBpZCBwcm9qZWN0XG4gICAgICAgIGZzLndyaXRlRmlsZShwcm9qZWN0RmlsZXNQYXRoICsgcHJvamVjdC5pZCArICcuanNvbicsIEpTT04uc3RyaW5naWZ5KHByb2plY3QpLCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICBkZmQucmVqZWN0KGVycik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gdXBkYXRlIHRoZSBkYXRhIG9uIHRoZSBwcm9qZWN0cyBsaXN0XG4gICAgICAgICAgZnMud3JpdGVGaWxlKHByb2plY3RzUGF0aCwgSlNPTi5zdHJpbmdpZnkobWFpblByb2plY3RzKSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgIGRmZC5yZWplY3QoZXJyKTtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyByZWRpcmVjdCB1c2VyIHRvIHRoZSBzZXR0aW5ncyBwYWdlXG4gICAgICAgICAgICBkZmQucmVzb2x2ZSgpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gZGZkLnByb21pc2U7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHBhc3MgaW4gYSBwcm9qZWN0SWQsIHRoZW4gaXQgd2lsbCByZWFkIHRoZSBwcm9qZWN0IGFuZCBpdHMgY3VycmVudCBiYXRjaCBvZiBmaWxlcyB0byB1cGxvYWRcbiAgICAgKiBvbmNlIGNvbXBsZXRlLCBpdCB3aWxsIGNsZWFuIG91dCBhbnkgbG9jYWwgc2NyZWVucyBhbmQgcmVwbGFjZSB3aXRoIGF3cyByZXNvdXJjZXNcbiAgICAgKi9cbiAgICBzeW5jOiBmdW5jdGlvbihpZCkge1xuICAgICAgaWYgKCFpZCkge3JldHVybjt9XG5cbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICB2YXIgZCA9ICRxLmRlZmVyKCk7XG4gICAgICB2YXIgcHJvamVjdCA9IHRoaXMuZ2V0QnlJZChpZCk7XG4gICAgICB2YXIgcHJvamVjdEZpbGVzID0gdGhpcy5nZXRUeXBlQnlJZChpZCwgJ2hpc3RvcnknKTtcbiAgICAgIHZhciByZWFkeUZpbGVzID0gW107XG5cbiAgICAgIC8vIHB1bGwgb3V0IGZpbGVzIHRoYXQgYXJlIGFscmVhZHkgaW5zaWRlIGF3cywgcHJlcCBmb3IgdXBsb2FkXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb2plY3RGaWxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgdG1wRmlsZSA9IHByb2plY3RGaWxlc1tpXTtcbiAgICAgICAgaWYgKHRtcEZpbGUuc291cmNlLnNlYXJjaCgnYW1hem9uJykgPT09IC0xKSB7XG4gICAgICAgICAgdmFyIHNyYyA9IHRtcEZpbGUuc291cmNlO1xuICAgICAgICAgIHZhciB0eXBlID0gdG1wRmlsZS50eXBlO1xuICAgICAgICAgIHZhciBwYXRoID0gX19kaXJuYW1lICsgJy9zY3JlZW5zLycgKyB0eXBlICsgJy8nICsgcHJvamVjdC5pZCArICcvJyArIHNyYztcbiAgICAgICAgICByZWFkeUZpbGVzLnB1c2goeyBrZXk6IHR5cGUgKyAnLycgKyBzcmMsIHBhdGg6IHBhdGggfSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gdXBsb2FkIGZpbGVzXG4gICAgICBBV1MuaW5pdCgpXG4gICAgICAgIC51cGxvYWQocmVhZHlGaWxlcywgcHJvamVjdC5pZClcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzKSB7XG5cbiAgICAgICAgICAvLyBkbyBwb3N0LXByb2Nlc3MgYWN0aW9uXG4gICAgICAgICAgX3RoaXMuY2xlYW5BZnRlclN5bmMocHJvamVjdCwgcmVzKS50aGVuKGQucmVzb2x2ZSwgZC5yZWplY3QpO1xuICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICBkLnJlamVjdChlcnIpO1xuICAgICAgICB9KTtcblxuICAgICAgcmV0dXJuIGQucHJvbWlzZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogY2xlYW4gbG9jYWwgaW1hZ2VzLCB1cGRhdGUgaGlzdG9yeSB3aXRoIGF3cyByZXNvdXJjZXMsIHJldHVybnMgdGhlIHVwZGF0ZXNcbiAgICAgKi9cbiAgICBjbGVhbkFmdGVyU3luYzogZnVuY3Rpb24gKHByb2plY3QsIG5ld1JlZnMpIHtcbiAgICAgIHZhciBkZmRkID0gJHEuZGVmZXIoKTtcbiAgICAgIHZhciBoaXN0b3J5RGF0YSA9IGdldEpzb25GaWxlKHByb2plY3RGaWxlc1BhdGggKyBwcm9qZWN0LmlkICsgJ19oaXN0b3J5Lmpzb24nLCBbXSk7XG4gICAgICB2YXIgdXBkYXRlZFJlbW90ZUZpbGVzID0gW107XG4gICAgICB2YXIgcXVldWVQcm9taXNlcyA9IFtdO1xuICAgICAgcHJvamVjdC51cGRhdGVkQXQgPSAoK25ldyBEYXRlKCkpO1xuXG4gICAgICAvLyBsb29wIHRocm91Z2ggbmV3IGZpbGVzXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5ld1JlZnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHRtcFNyYyA9IG5ld1JlZnNbaV07XG4gICAgICAgIHZhciB0bXBSZWYgPSB0bXBTcmMuc3BsaXQoJy8nKTtcbiAgICAgICAgdmFyIHRtcFR5cGUgPSB0bXBSZWZbdG1wUmVmLmxlbmd0aCAtIDJdO1xuICAgICAgICB2YXIgdG1wQWxpYXMgPSB0bXBSZWZbdG1wUmVmLmxlbmd0aCAtIDFdO1xuXG4gICAgICAgIGhpc3RvcnlEYXRhLm1hcChmdW5jdGlvbihpdGVtLCBpZHgpIHtcblxuICAgICAgICAgIC8vIHVwZGF0ZSBoaXN0b3J5IHJlZlxuICAgICAgICAgIGlmIChpdGVtLnNvdXJjZSA9PT0gdG1wQWxpYXMpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBoaXN0b3J5RGF0YVtpZHhdLnNvdXJjZTtcbiAgICAgICAgICAgIGhpc3RvcnlEYXRhW2lkeF0ucmVtb3RlU291cmNlID0gbmV3UmVmc1tpXTtcblxuICAgICAgICAgICAgdmFyIHJlbVJlZlBhdGggPSBfX2Rpcm5hbWUgKyAnL3NjcmVlbnMvJyArIHRtcFR5cGUgKyAnLycgKyBwcm9qZWN0LmlkICsgJy8nICsgdG1wQWxpYXM7XG4gICAgICAgICAgICB2YXIgcmVtUmVmID0gcHJvbWlzZVJlbW92ZShyZW1SZWZQYXRoKTtcbiAgICAgICAgICAgIHF1ZXVlUHJvbWlzZXMucHVzaChyZW1SZWYpO1xuXG4gICAgICAgICAgICAvLyBtYWtlIHN1cmUgdG8gcmVtb3ZlIHRoZSBkaWZmIGFsc29cbiAgICAgICAgICAgIGlmICh0bXBUeXBlID09PSAnY29tcGFyZScpIHtcbiAgICAgICAgICAgICAgdmFyIHJlbVJlZkRpZmYgPSBwcm9taXNlUmVtb3ZlKHJlbVJlZlBhdGgucmVwbGFjZSgnLicsICdfZGlmZi4nKSk7XG4gICAgICAgICAgICAgIHF1ZXVlUHJvbWlzZXMucHVzaChyZW1SZWZEaWZmKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICAvLyBzYXZlIGhpc3RvcnkgJiBwcm9qZWN0XG4gICAgICB2YXIgcHJvamVjdEZpbGUgPSBfX2Rpcm5hbWUgKyAnL3Byb2plY3RzLycgKyBwcm9qZWN0LmlkICsgJy5qc29uJztcbiAgICAgIHZhciBwcm9qZWN0SGlzdG9yeUZpbGUgPSBwcm9qZWN0RmlsZS5yZXBsYWNlKCcuanNvbicsICdfaGlzdG9yeS5qc29uJyk7XG4gICAgICB2YXIgcHJvamVjdFdyaXRlID0gcHJvbWlzZVdyaXRlKHByb2plY3RGaWxlLCBwcm9qZWN0KTtcbiAgICAgIHZhciBwcm9qZWN0SGlzdG9yeVdyaXRlID0gcHJvbWlzZVdyaXRlKHByb2plY3RIaXN0b3J5RmlsZSwgaGlzdG9yeURhdGEpO1xuICAgICAgcXVldWVQcm9taXNlcy51bnNoaWZ0KHByb2plY3RXcml0ZSk7XG4gICAgICBxdWV1ZVByb21pc2VzLnVuc2hpZnQocHJvamVjdEhpc3RvcnlXcml0ZSk7XG5cbiAgICAgIC8vIGFkZCBwcm9qZWN0IGZpbGVzIHRvIHRoZSB1cGxvYWQgcmVhZGluZXNzXG4gICAgICB1cGRhdGVkUmVtb3RlRmlsZXMucHVzaCh7IGtleTogcHJvamVjdC5pZCwgcGF0aDogcHJvamVjdEZpbGUgfSk7XG4gICAgICB1cGRhdGVkUmVtb3RlRmlsZXMucHVzaCh7IGtleTogcHJvamVjdC5pZCArICdfaGlzdG9yeScsIHBhdGg6IHByb2plY3RIaXN0b3J5RmlsZSB9KTtcblxuICAgICAgLy8gdXBsb2FkIHVwZGF0ZWQgaGlzdG9yeSAmIHByb2plY3RcbiAgICAgIHZhciBhd3NVcGxvYWQgPSBBV1MuaW5pdCgpLnVwbG9hZCh1cGRhdGVkUmVtb3RlRmlsZXMsIHByb2plY3QuaWQpO1xuICAgICAgcXVldWVQcm9taXNlcy51bnNoaWZ0KGF3c1VwbG9hZCk7XG5cbiAgICAgIC8vIGRvIGFsbCBwcm9taXNlIG9wZXJhdGlvbnNcbiAgICAgICRxLmFsbChxdWV1ZVByb21pc2VzKS50aGVuKGRmZGQucmVzb2x2ZSwgZGZkZC5yZWplY3QpO1xuXG4gICAgICByZXR1cm4gZGZkZC5wcm9taXNlO1xuICAgIH1cblxuICB9O1xufV0pO1xuIiwiTVVHLmZpbHRlcigndGltZUFnbycsXG5bJ25vd1RpbWUnLCAndGltZUFnbycsXG5mdW5jdGlvbiAobm93VGltZSwgdGltZUFnbykge1xuICByZXR1cm4gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgdmFyIGZyb21UaW1lID0gdGltZUFnby5wYXJzZSh2YWx1ZSk7XG4gICAgdmFyIGRpZmYgPSBub3dUaW1lLmdldFRpbWUoKSAtIGZyb21UaW1lO1xuICAgIHJldHVybiB0aW1lQWdvLmluV29yZHMoZGlmZik7XG4gIH07XG59XSk7XG4iLCJ2YXIgaXBjID0gcmVxdWlyZSgnaXBjJyk7XG5cbk1VRy5jb250cm9sbGVyKCdNYWluQ3RybCcsXG5bJyRyb290U2NvcGUnLCAnJHNjb3BlJywgJyRzdGF0ZScsICdDb25maWcnLCAnUHJvamVjdHMnLFxuZnVuY3Rpb24oJHJvb3RTY29wZSwgJHNjb3BlLCAkc3RhdGUsIENvbmZpZywgUHJvamVjdHMpIHtcbiAgJHJvb3RTY29wZS5jdXJyZW50UHJvamVjdElkID0gJyc7XG5cbiAgJHNjb3BlLmNyZWF0ZU5ld1Byb2plY3QgPSBmdW5jdGlvbigpIHtcbiAgICBQcm9qZWN0cy5jcmVhdGVOZXcoKS50aGVuKGZ1bmN0aW9uKHJlcykge1xuICAgICAgJHJvb3RTY29wZS4kYnJvYWRjYXN0KCdTSURFUEFORUw6TkVXUFJPSkVDVCcsIHJlcyk7XG4gICAgICAkc3RhdGUuZ28oJ3Byb2plY3RzLnNldHRpbmdzJywgeyBpZDogcmVzLmlkIH0pO1xuICAgIH0sXG5cbiAgICBmdW5jdGlvbihlcnIpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdlcnInLCBlcnIpO1xuICAgIH0pO1xuICB9O1xuXG4gIGlwYy5vbignTkFWSUdBVEU6VE8nLCBmdW5jdGlvbihhcmdzKSB7XG4gICAgaWYgKCFhcmdzIHx8ICFhcmdzLmxvY2F0aW9uKSB7cmV0dXJuO31cblxuICAgIGNvbnNvbGUubG9nKCdOQVZJR0FURTpUTycsIGFyZ3MpO1xuICAgICRzdGF0ZS5nbyhhcmdzLmxvY2F0aW9uKTtcbiAgfSk7XG5cbn1dKTtcbiIsInZhciBmcyA9IHJlcXVpcmUoJ2ZzJyk7XG52YXIgQVdTID0gcmVxdWlyZSgnLi92ZW5kb3IvY29yZS9hd3MnKTtcblxuTVVHLmNvbnRyb2xsZXIoJ1ByZWZlcmVuY2VzQ3RybCcsXG5bJyRyb290U2NvcGUnLCAnJHNjb3BlJywgJyRzdGF0ZScsXG5mdW5jdGlvbigkcm9vdFNjb3BlLCAkc2NvcGUsICRzdGF0ZSkge1xuICAkc2NvcGUuYXdzQ29uZmlnID0ge1xuICAgIGF1dG9zeW5jOiB0cnVlLFxuICAgIGJ1Y2tldDogJycsXG4gICAgYWNjZXNzS2V5SWQ6ICcnLFxuICAgIHNlY3JldEFjY2Vzc0tleTogJydcbiAgfTtcblxuICAvLyBncmFiIHNldHRpbmdzIHJlYWwgcXVpY2tcbiAgJHNjb3BlLmF3c0NvbmZpZyA9IEFXUy5nZXRDb25maWcoKTtcblxuICAkc2NvcGUuc2F2ZSA9IGZ1bmN0aW9uKCkge1xuICAgIC8vIHNhdmUgdGhlIEFXUyBjb25maWdcbiAgICBBV1Muc2V0Q29uZmlnKCRzY29wZS5hd3NDb25maWcpO1xuICB9O1xuXG59XSk7XG4iLCJNVUcuY29udHJvbGxlcignUHJvamVjdEN0cmwnLFxuWyckcm9vdFNjb3BlJywgJyRzY29wZScsICckc3RhdGVQYXJhbXMnLCAnUHJvamVjdHMnLFxuZnVuY3Rpb24oJHJvb3RTY29wZSwgJHNjb3BlLCAkc3RhdGVQYXJhbXMsIFByb2plY3RzKSB7XG5cbiAgLy8gQWxsb3cgdGhlIGNoaWxkIHZpZXdzIHRvIGJpbmQgdG8gc2FtZSBzY29wZVxuICAkcm9vdFNjb3BlLnByb2plY3QgPSBQcm9qZWN0cy5nZXRCeUlkKCRzdGF0ZVBhcmFtcy5pZCk7XG5cbn1dKTtcbiIsIk1VRy5jb250cm9sbGVyKCdQcm9qZWN0SGlzdG9yeUN0cmwnLFxuWyckcm9vdFNjb3BlJywgJyRzY29wZScsICckc3RhdGVQYXJhbXMnLCAnUHJvamVjdHMnLFxuZnVuY3Rpb24oJHJvb3RTY29wZSwgJHNjb3BlLCAkc3RhdGVQYXJhbXMsIFByb2plY3RzKSB7XG4gICRzY29wZS5hY3RpdmVGaWx0ZXIgPSAnQWxsJztcbiAgJHNjb3BlLmFjdGl2ZUZpbHRlclF1ZXJ5ID0gJyc7XG5cbiAgLy8gZ3JhYiBhbGwgdGhlIGhpc3RvcnkgZGF0YVxuICAkc2NvcGUuaGlzdG9yeUl0ZW1zID0gUHJvamVjdHMuZ2V0VHlwZUJ5SWQoJHN0YXRlUGFyYW1zLmlkLCAnaGlzdG9yeScpO1xuXG4gICRzY29wZS5jaGFuZ2VGaWx0ZXIgPSBmdW5jdGlvbih0eXBlKSB7XG4gICAgJHNjb3BlLmFjdGl2ZUZpbHRlciA9IHR5cGU7XG4gICAgJHNjb3BlLmFjdGl2ZUZpbHRlclF1ZXJ5ID0gKHR5cGUgPT0gJ0FsbCcpID8gJycgOiB0eXBlO1xuICB9O1xuXG4gICRzY29wZS5wcmV2aWV3SXRlbSA9IGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAkcm9vdFNjb3BlLiRlbWl0KCdNT0RBTDpPUEVOJywgeyB0eXBlOiAncHJldmlldycsIGl0ZW06IGl0ZW0sIHByb2plY3Q6ICRyb290U2NvcGUucHJvamVjdCB9KTtcbiAgfTtcblxufV0pO1xuIiwidmFyIGlwYyA9IHJlcXVpcmUoJ2lwYycpO1xuXG5NVUcuY29udHJvbGxlcignUHJvamVjdFJ1bm5lckN0cmwnLFxuWyckcm9vdFNjb3BlJywgJyRzY29wZScsICckdGltZW91dCcsICckc3RhdGVQYXJhbXMnLCAnUHJvamVjdHMnLFxuZnVuY3Rpb24oJHJvb3RTY29wZSwgJHNjb3BlLCAkdGltZW91dCwgJHN0YXRlUGFyYW1zLCBQcm9qZWN0cykge1xuICAkc2NvcGUucHJvY2Vzc2luZyA9IGZhbHNlO1xuICAkc2NvcGUuaGFzU2V0dGluZ3MgPSBmYWxzZTtcbiAgJHNjb3BlLmhhc1JlZmVyZW5jZSA9IGZhbHNlO1xuICAkc2NvcGUuaGFzQ29tcGFyZSA9IGZhbHNlO1xuICAkc2NvcGUucnVubmluZ1R5cGUgPSAncmVmZXJlbmNlJztcbiAgJHNjb3BlLmJhdGNoSXRlbXMgPSBbXTtcbiAgJHNjb3BlLmFjdGl2ZURhdGEgPSB7fTtcbiAgJHNjb3BlLmN1cnJlbnRCYXRjaCA9ICRyb290U2NvcGUucHJvamVjdC5jdXJyZW50QmF0Y2ggfHwgMDtcbiAgJHNjb3BlLnByb2dyZXNzID0ge1xuICAgIHBlcmNlbnQ6IDAsXG4gICAgdGl0bGU6ICdTdGFydGluZydcbiAgfTtcblxuICAvLyBQdXRzIGRhdGEgaW50byBzb3J0ZWQgc2VjdGlvbnNcbiAgZnVuY3Rpb24gcHJvY2Vzc0JhdGNoKGFsbERhdGEpIHtcbiAgICBpZiAoIWFsbERhdGEgfHwgYWxsRGF0YS5sZW5ndGggPCAxKSB7XG4gICAgICAkc2NvcGUuaGFzUmVmZXJlbmNlID0gZmFsc2U7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgLy8gcmVzZXQganVzdCB0aGUgc3RhdHNcbiAgICAkc2NvcGUuYWN0aXZlRGF0YSA9IHt9O1xuICAgICRzY29wZS5hY3RpdmVEYXRhLnN1Y2Nlc3MgPSAwO1xuICAgICRzY29wZS5hY3RpdmVEYXRhLndhcm5pbmcgPSAwO1xuICAgICRzY29wZS5hY3RpdmVEYXRhLmVycm9yID0gMDtcbiAgICB2YXIgZm9ybWF0dGVkID0gW3sgdHlwZTogJ3N1Y2Nlc3MnLCBpdGVtczogW119LCB7IHR5cGU6ICd3YXJuaW5nJywgaXRlbXM6IFtdfSwgeyB0eXBlOiAnZXJyb3InLCBpdGVtczogW119XTtcblxuICAgIGZ1bmN0aW9uIHBsYWNlSXRlbShpdGVtKSB7XG5cbiAgICAgIC8vIEtlZXAgdGhpbmdzIG9yZ2FuaXplcyB3aXRoIHByZXNldCBwcmlvcml0eVxuICAgICAgaWYgKGl0ZW0uc3RhdHVzKSB7XG4gICAgICAgIHZhciB0YXJnZXQgPSAwO1xuXG4gICAgICAgIHN3aXRjaCAoaXRlbS5zdGF0dXMpIHtcbiAgICAgICAgICBjYXNlICd3YXJuaW5nJzpcbiAgICAgICAgICAgIHRhcmdldCA9IDE7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdmYWlsZWQnOlxuICAgICAgICAgICAgdGFyZ2V0ID0gMjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9ybWF0dGVkW3RhcmdldF0uaXRlbXMudW5zaGlmdChpdGVtKTtcbiAgICAgICAgJHNjb3BlLmFjdGl2ZURhdGFbZm9ybWF0dGVkW3RhcmdldF0udHlwZV0gPSAkc2NvcGUuYWN0aXZlRGF0YVtmb3JtYXR0ZWRbdGFyZ2V0XS50eXBlXSArIDE7XG4gICAgICB9XG4gICAgfVxuXG4gICAgYWxsRGF0YS5tYXAoZnVuY3Rpb24ob2JqLCBpZHgpIHtcbiAgICAgIGlmIChvYmouYmF0Y2ggPT09ICRzY29wZS5jdXJyZW50QmF0Y2gpIHtcbiAgICAgICAgcGxhY2VJdGVtKG9iaik7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAkc2NvcGUuaGFzUmVmZXJlbmNlID0gdHJ1ZTtcbiAgICByZXR1cm4gZm9ybWF0dGVkO1xuICB9XG5cbiAgZnVuY3Rpb24gc2V0dXBDdXJyZW50QmF0Y2goKSB7XG4gICAgaWYgKCRyb290U2NvcGUucHJvamVjdC5jdXJyZW50QmF0Y2ggPT09IG51bGwpIHtyZXR1cm47fVxuXG4gICAgLy8gZ3JhYiBhbGwgdGhlIHJ1bm5lciB0ZXN0IGRhdGFcbiAgICB2YXIgaWQgPSAodHlwZW9mICRyb290U2NvcGUucHJvamVjdC5jdXJyZW50QmF0Y2ggIT09IHVuZGVmaW5lZCkgPyAkcm9vdFNjb3BlLnByb2plY3QuY3VycmVudEJhdGNoIDogMDtcbiAgICB2YXIgaGlzdG9yeURhdGEgPSBQcm9qZWN0cy5nZXRUeXBlQnlJZCgkc3RhdGVQYXJhbXMuaWQsICdoaXN0b3J5Jyk7XG5cbiAgICAvLyBTdG9yZSB0aGUgcHJvY2Vzc2VkIGRhdGEgaW50byB0aGUgYmF0Y2ggZGF0YVxuICAgICRzY29wZS5iYXRjaEl0ZW1zID0gcHJvY2Vzc0JhdGNoKGhpc3RvcnlEYXRhKTtcblxuICAgIC8vIHNldHVwIHdoaWNoIHZpZXcgdG8gc2hvdyBiYXNlZCBvbiBoaXN0b3J5XG4gICAgJHNjb3BlLnJ1bm5pbmdUeXBlID0gKCRyb290U2NvcGUucHJvamVjdC5jdXJyZW50UmVmZXJlbmNlID49ICRyb290U2NvcGUucHJvamVjdC5jdXJyZW50QmF0Y2gpID8gJ3JlZmVyZW5jZScgOiAnY29tcGFyZSc7XG4gIH1cblxuICAvLyB2YWxpZGF0aW9uIG9mIHByb2plY3RcbiAgZnVuY3Rpb24gdmFsaWRhdGVQcm9qZWN0KCkge1xuICAgIC8vIHZlcmlmeSBpZiBpdHMgdmFsaWRcbiAgICB2YXIgaXNWYWxpZCA9IFByb2plY3RzLnZhbGlkYXRlKCRyb290U2NvcGUucHJvamVjdCk7XG5cbiAgICAvLyBhbGVydCBvZiBpbnZhbGlkaXR5XG4gICAgaWYgKCFpc1ZhbGlkKSB7XG4gICAgICAkcm9vdFNjb3BlLiRicm9hZGNhc3QoJ0FMRVJUOkZJUkUnLCB7IHRpdGxlOiAnUGxlYXNlIGZpbmlzaCBjb25maWd1cmluZyBzZXR0aW5ncyEnLCBkdXI6IDUsIHR5cGU6ICdlcnJvcicsIGljb246ICdzdG9wJyB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gaXNWYWxpZDtcbiAgfVxuXG4gIC8vIGNoZWNrcyBmb3IgY2hhbmdlcyBhbmQgdXBkYXRlcyBVSSBhY2NvdXJkaW5nbHlcbiAgZnVuY3Rpb24gY2hlY2tTdGF0ZSgpIHtcbiAgICAkc2NvcGUuaGFzU2V0dGluZ3MgPSB2YWxpZGF0ZVByb2plY3QoKTtcbiAgICAkc2NvcGUuaGFzUmVmZXJlbmNlID0gKCRyb290U2NvcGUucHJvamVjdC5jdXJyZW50UmVmZXJlbmNlICE9PSBudWxsKTtcbiAgICAkc2NvcGUuY3VycmVudEJhdGNoID0gJHJvb3RTY29wZS5wcm9qZWN0LmN1cnJlbnRCYXRjaDtcblxuICAgIGlmICgkc2NvcGUucnVubmluZ1R5cGUgPT09ICdyZWZlcmVuY2UnKSB7XG4gICAgICAkc2NvcGUuaGFzQ29tcGFyZSA9IGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICAkc2NvcGUuaGFzQ29tcGFyZSA9ICgkcm9vdFNjb3BlLnByb2plY3QuY3VycmVudEJhdGNoICE9PSBudWxsICYmICRyb290U2NvcGUucHJvamVjdC5jdXJyZW50QmF0Y2ggIT09IDApO1xuICAgICAgJHNjb3BlLmhhc0NvbXBhcmUgPSAoJHJvb3RTY29wZS5wcm9qZWN0LmN1cnJlbnRSZWZlcmVuY2UgPD0gJHJvb3RTY29wZS5wcm9qZWN0LmN1cnJlbnRCYXRjaCk7XG4gICAgfVxuICB9XG5cbiAgLy8gZ3JhYiB0aGUgbGF0ZXN0IGRhdGEgZm9yIHRoZSBwcm9qZWN0XG4gIGZ1bmN0aW9uIGdyYWJMYXRlc3REYXRhKCkge1xuICAgICRyb290U2NvcGUucHJvamVjdCA9IFByb2plY3RzLmdldEJ5SWQoJHJvb3RTY29wZS5wcm9qZWN0LmlkLCAnaGlzdG9yeScpO1xuXG4gICAgLy8gU2V0IHRoZSBhY3RpdmUgZGF0YSBiYXNlZCBvbiBjdXJyZW50QmF0Y2hcbiAgICAkc2NvcGUuYWN0aXZlRGF0YSA9ICgkcm9vdFNjb3BlLnByb2plY3QgJiYgJHJvb3RTY29wZS5wcm9qZWN0LmJhdGNoSGlzdG9yeSkgPyAkcm9vdFNjb3BlLnByb2plY3QuYmF0Y2hIaXN0b3J5WyRzY29wZS5jdXJyZW50QmF0Y2hdIDogbnVsbDtcblxuICAgICRyb290U2NvcGUuJGVtaXQoJ1NJREVQQU5FTDpVUERBVEUnLCAkcm9vdFNjb3BlLnByb2plY3QpO1xuICB9XG5cbiAgZ3JhYkxhdGVzdERhdGEoKTtcbiAgc2V0dXBDdXJyZW50QmF0Y2goKTtcbiAgY2hlY2tTdGF0ZSgpO1xuXG4gIC8vIEZpcmUgb2ZmIHRoZSB2aWV3ZXJcbiAgJHNjb3BlLnByZXZpZXdCYXRjaCA9IGZ1bmN0aW9uKGl0ZW1zKSB7XG4gICAgJHJvb3RTY29wZS4kZW1pdCgnTU9EQUw6T1BFTicsIHsgdHlwZTogJ2JhdGNoJywgaXRlbXM6IGl0ZW1zLCBwcm9qZWN0OiAkcm9vdFNjb3BlLnByb2plY3QgfSk7XG4gIH07XG5cbiAgLy8gRmlyZSBvZmYgYSBuZXcgdGVzdCEhXG4gICRzY29wZS5uZXdDb21wYXJlID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHZhbGlkID0gdmFsaWRhdGVQcm9qZWN0KCk7XG5cbiAgICAvLyB2YWxpZGF0aW9uIHBhdXNlXG4gICAgaWYgKCF2YWxpZCkge3JldHVybjt9XG5cbiAgICAkc2NvcGUucnVubmluZ1R5cGUgPSAnY29tcGFyZSc7XG4gICAgJHNjb3BlLnByb2Nlc3NpbmcgPSB0cnVlO1xuXG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICRyb290U2NvcGUuJGVtaXQoJ1BSRUxPQURFUjpPTicpO1xuICAgIH0sIDEwKTtcblxuICAgIGlwYy5zZW5kKCdSVU5ORVI6RklSRScsIHsgdHlwZTogJ2NvbXBhcmUnLCBwcm9qZWN0SWQ6ICRyb290U2NvcGUucHJvamVjdC5pZCB9KTtcbiAgfTtcblxuICAvLyBzZXR1cCBuZXcgcmVmZXJlbmNlXG4gICRzY29wZS5uZXdSZWZlcmVuY2UgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgdmFsaWQgPSB2YWxpZGF0ZVByb2plY3QoKTtcblxuICAgIC8vIHZhbGlkYXRpb24gcGF1c2VcbiAgICBpZiAoIXZhbGlkKSB7cmV0dXJuO31cblxuICAgICRzY29wZS5wcm9jZXNzaW5nID0gdHJ1ZTtcbiAgICAkc2NvcGUucnVubmluZ1R5cGUgPSAncmVmZXJlbmNlJztcbiAgICAkc2NvcGUuaGFzQ29tcGFyZSA9IGZhbHNlO1xuXG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICRyb290U2NvcGUuJGVtaXQoJ1BSRUxPQURFUjpPTicpO1xuICAgIH0sIDEwKTtcblxuICAgIGlwYy5zZW5kKCdSVU5ORVI6RklSRScsIHsgdHlwZTogJ3JlZmVyZW5jZScsIHByb2plY3RJZDogJHJvb3RTY29wZS5wcm9qZWN0LmlkIH0pO1xuICB9O1xuXG4gIGZ1bmN0aW9uIHJ1bm5lckV2ZW50cyhhcmdzKSB7XG4gICAgaWYgKCFhcmdzIHx8ICFhcmdzLm1zZyB8fCAhYXJncy5wZXJjZW50KSB7cmV0dXJuO31cblxuICAgIC8vIFdyaXRlIHRoZSBwcm9ncmVzcyB0byBVSVxuICAgICRzY29wZS5wcm9ncmVzcy5wZXJjZW50ID0gcGFyc2VJbnQoYXJncy5wZXJjZW50LCAxMCk7XG4gICAgJHNjb3BlLnByb2dyZXNzLnRpdGxlID0gKGFyZ3MubXNnKSA/IGFyZ3MubXNnIDogJHNjb3BlLnByb2dyZXNzLnRpdGxlO1xuXG4gICAgJHJvb3RTY29wZS4kZW1pdCgnUFJFTE9BREVSOlVQREFURScsIGFyZ3MpO1xuICB9XG5cbiAgLy8gc2lnbmFsIFVJIG9mIGNoYW5nZXNcbiAgZnVuY3Rpb24gcnVubmVyQ29tcGxldGUoKSB7XG4gICAgZ3JhYkxhdGVzdERhdGEoKTtcbiAgICBzZXR1cEN1cnJlbnRCYXRjaCgpO1xuICAgIGNoZWNrU3RhdGUoKTtcbiAgICAkc2NvcGUucHJvY2Vzc2luZyA9IGZhbHNlO1xuICB9XG5cbiAgZnVuY3Rpb24gcnVubmVyRmFpbGVkKHJlYXNvbikge1xuICAgIGNvbnNvbGUubG9nKCdSVU5ORVI6RkFJTEVEIHJlYXNvbicsIHJlYXNvbik7XG4gICAgJHNjb3BlLnByb2Nlc3NpbmcgPSBmYWxzZTtcbiAgfVxuXG4gIGlwYy5vbignUlVOTkVSOlBST0dSRVNTJywgcnVubmVyRXZlbnRzKTtcbiAgaXBjLm9uKCdSVU5ORVI6Q09NUExFVEUnLCBydW5uZXJDb21wbGV0ZSk7XG4gIGlwYy5vbignUlVOTkVSOkZBSUxFRCcsIHJ1bm5lckZhaWxlZCk7XG5cbn1dKTtcbiIsIk1VRy5jb250cm9sbGVyKCdQcm9qZWN0U2V0dGluZ3NDdHJsJyxcblsnJHJvb3RTY29wZScsICckc2NvcGUnLCAnJHN0YXRlJywgJ1Byb2plY3RzJyxcbmZ1bmN0aW9uKCRyb290U2NvcGUsICRzY29wZSwgJHN0YXRlLCBQcm9qZWN0cykge1xuICB2YXIgc2F2ZVRpbWVyO1xuXG4gICRzY29wZS5zZWxlY3RvclR5cGVzID0gWydjb250YWluZXInLCAnaGlkZScsICdyZW1vdmUnXTtcbiAgJHNjb3BlLmhhc0NoYW5nZXMgPSBmYWxzZTtcbiAgJHNjb3BlLm1hc3RlciA9IHt9O1xuICBhbmd1bGFyLmNvcHkoJHJvb3RTY29wZS5wcm9qZWN0LCAkc2NvcGUubWFzdGVyKTtcblxuICBmdW5jdGlvbiBhZGROZXdUeXBlKHR5cGUsIGRhdGEpIHtcbiAgICAkcm9vdFNjb3BlLnByb2plY3RbdHlwZV0ucHVzaChkYXRhKTtcbiAgfVxuXG4gIC8vIFdhdGNoIGZvciBjaGFuZ2VzLCBzbyB3ZSBjYW4gc2F2ZVxuICAkc2NvcGUuJHdhdGNoKCdwcm9qZWN0JywgZnVuY3Rpb24oblYsIG9WKSB7XG4gICAgaWYgKG5WICE9IG9WKSB7XG4gICAgICAkc2NvcGUuaGFzQ2hhbmdlcyA9IHRydWU7XG5cbiAgICAgIC8vIHNhdmUgdGhlIGZpbGUgZm9yIGNvbnZlbmllbmNlXG4gICAgICAkc2NvcGUuc2F2ZSgpO1xuICAgIH1cbiAgfSwgdHJ1ZSk7XG5cbiAgLy8gVE9ETzogc2V0dXAgdmFsaWRhdGlvbnNcbiAgLy8gc2F2ZSB0aGUgY3VycmVudCBwcm9qZWN0XG4gICRzY29wZS5zYXZlID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKHNhdmVUaW1lcikge1xuICAgICAgd2luZG93LmNsZWFyVGltZW91dChzYXZlVGltZXIpO1xuICAgIH1cblxuICAgIC8vIHRocm90dGxlIHRoZSBzYXZlcywgc2luY2Ugd2Ugc2F2ZSBvbiBhbnkgY2hhbmdlc1xuICAgIHNhdmVUaW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cbiAgICAgIC8vIFNhdmUgdGVoIHByb2plY3RvaWRcbiAgICAgIFByb2plY3RzLnNhdmUoJHJvb3RTY29wZS5wcm9qZWN0KVxuICAgICAgICAudGhlbihmdW5jdGlvbihyZXMpIHtcbiAgICAgICAgICAvLyBVcGRhdGUgdGhlIHNpZGViYXIgd2l0aCBjaGFuZ2VzXG4gICAgICAgICAgJHJvb3RTY29wZS4kZW1pdCgnU0lERVBBTkVMOlVQREFURScsIHJlcyk7XG5cbiAgICAgICAgICAvLyBVcGRhdGUgdGhlIHJldmVydCBtb2RlbFxuICAgICAgICAgIGFuZ3VsYXIuY29weSgkcm9vdFNjb3BlLnByb2plY3QsICRzY29wZS5tYXN0ZXIpO1xuICAgICAgICAgICRzY29wZS5oYXNDaGFuZ2VzID0gZmFsc2U7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ2VycicsIGVycik7XG4gICAgICAgIH0pO1xuICAgIH0sIDIwMCk7XG4gIH07XG5cbiAgLy8gc3luYyB0aGlzIHByb2plY3QgdG8gQVdTXG4gICRzY29wZS5zeW5jTm93ID0gZnVuY3Rpb24oKSB7XG4gICAgJHJvb3RTY29wZS4kYnJvYWRjYXN0KCdBTEVSVDpGSVJFJywgeyB0aXRsZTogJ1N5bmMgU3RhcnRpbmcnLCBkdXI6IDUsIHR5cGU6ICdpbmZvJyB9KTtcblxuICAgIFByb2plY3RzLnN5bmMoJHJvb3RTY29wZS5wcm9qZWN0LmlkKVxuICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzKSB7XG4gICAgICAgICRyb290U2NvcGUuJGJyb2FkY2FzdCgnQUxFUlQ6RklSRScsIHsgdGl0bGU6ICdTeW5jIENvbXBsZXRlJywgZHVyOiA1LCB0eXBlOiAnc3VjY2VzcycsIGljb246ICdjaGVjaycgfSk7XG4gICAgICB9XG5cbiAgICAgICwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdzeW5jTm93IGVycicsIGVycik7XG4gICAgICAgICRyb290U2NvcGUuJGJyb2FkY2FzdCgnQUxFUlQ6RklSRScsIHsgdGl0bGU6ICdTeW5jIEZhaWxlZCcsIGR1cjogNSwgdHlwZTogJ2Vycm9yJywgaWNvbjogJ3N0b3BlJyB9KTtcbiAgICAgIH0pO1xuICB9O1xuXG4gIC8vIHJldmVydCB0aGUgY3VycmVudCBwcm9qZWN0XG4gICRzY29wZS5jYW5jZWxTYXZlID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHN1cmUgPSBjb25maXJtKCdBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gY2xlYXIgYWxsIHlvdXIgY2hhbmdlcz8nKTtcbiAgICBpZiAoc3VyZSkge1xuICAgICAgLy8gcHV0IHJldmVydCBtb2RlbCBpbnRvIHRoZSBwcm9qZWN0IG1vZGVsXG4gICAgICBhbmd1bGFyLmNvcHkoJHNjb3BlLm1hc3RlciwgJHJvb3RTY29wZS5wcm9qZWN0KTtcbiAgICAgICRzY29wZS5oYXNDaGFuZ2VzID0gZmFsc2U7XG4gICAgfVxuICB9O1xuXG4gIC8vIGRlbGV0ZSB0aGUgcHJvamVjdCwgYW5kIHJlbW92ZSBmcm9tIHByb2plY3QgbGlzdHMsIHRoZW4gcmVkaXJlY3QgdG8gbWFpblxuICAkc2NvcGUuZGVsZXRlUHJvamVjdCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBzdXJlID0gY29uZmlybSgnQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSB0aGlzIHByb2plY3Q/Jyk7XG4gICAgaWYgKHN1cmUpIHtcbiAgICAgIHZhciBwcm9qZWN0SUQgPSAkcm9vdFNjb3BlLnByb2plY3QuaWQ7XG5cbiAgICAgIFByb2plY3RzLnJlbW92ZShwcm9qZWN0SUQpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uKHJlcykge1xuICAgICAgICAgICRyb290U2NvcGUuJGVtaXQoJ1NJREVQQU5FTDpSRU1PVkUnLCB7IGlkOiBwcm9qZWN0SUQgfSk7XG4gICAgICAgICAgJHN0YXRlLmdvKCdtYWluJyk7XG4gICAgICAgICAgJHJvb3RTY29wZS5wcm9qZWN0ID0ge307XG4gICAgICAgICAgJHNjb3BlLmhhc0NoYW5nZXMgPSBmYWxzZTtcbiAgICAgICAgICAkcm9vdFNjb3BlLiRicm9hZGNhc3QoJ0FMRVJUOkZJUkUnLCB7IHRpdGxlOiAnUHJvamVjdCBSZW1vdmVkIFN1Y2Nlc3NmdWxseScsIGR1cjogNSwgdHlwZTogJ3N1Y2Nlc3MnIH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdlcnInLCBlcnIpO1xuICAgICAgICAgICRyb290U2NvcGUuJGVtaXQoJ1NJREVQQU5FTDpSRU1PVkUnLCB7IGlkOiBwcm9qZWN0SUQgfSk7XG4gICAgICAgICAgJHN0YXRlLmdvKCdtYWluJyk7XG4gICAgICAgICAgJHJvb3RTY29wZS5wcm9qZWN0ID0ge307XG4gICAgICAgICAgJHNjb3BlLmhhc0NoYW5nZXMgPSBmYWxzZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgLy8gQWRkcyBhIG5ldyB2aWV3cG9ydCBpdGVtXG4gICRzY29wZS5hZGRWaWV3cG9ydCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBuZXdWaWV3cG9ydCA9IHtcbiAgICAgIGFjdGl2ZTogdHJ1ZSxcbiAgICAgIG5hbWU6IG51bGwsXG4gICAgICB3aWR0aDogbnVsbCxcbiAgICAgIGhlaWdodDogbnVsbFxuICAgIH07XG5cbiAgICBhZGROZXdUeXBlKCd2aWV3cG9ydHMnLCBuZXdWaWV3cG9ydCk7XG4gIH07XG5cbiAgLy8gQWRkcyBhIG5ldyBzZWxlY3RvciBpdGVtXG4gICRzY29wZS5hZGRTZWxlY3RvciA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBuZXdTZWxlY3RvciA9IHtcbiAgICAgIGFjdGl2ZTogdHJ1ZSxcbiAgICAgIHR5cGU6ICdjb250YWluZXInLFxuICAgICAgcXVlcnk6IG51bGxcbiAgICB9O1xuXG4gICAgYWRkTmV3VHlwZSgnc2VsZWN0b3JzJywgbmV3U2VsZWN0b3IpO1xuICB9O1xuXG4gIC8vIEFkZHMgYSBuZXcgY29va2llIGl0ZW1cbiAgJHNjb3BlLmFkZENvb2tpZSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBuZXdDb29raWUgPSB7XG4gICAgICBhY3RpdmU6IHRydWUsXG4gICAgICBuYW1lOiBudWxsLFxuICAgICAgdmFsdWU6IG51bGwsXG4gICAgICBwYXRoOiBudWxsXG4gICAgfTtcblxuICAgIGFkZE5ld1R5cGUoJ2Nvb2tpZXMnLCBuZXdDb29raWUpO1xuICB9O1xuXG4gIC8vIGFjdGl2YXRlIGEgY29va2llL3ZpZXcvc2VsZWN0XG4gICRzY29wZS5hY3RpdmF0ZVR5cGUgPSBmdW5jdGlvbih0eXBlLCBpZCkge1xuICAgICRyb290U2NvcGUucHJvamVjdFt0eXBlXVtpZF0uYWN0aXZlID0gKCRyb290U2NvcGUucHJvamVjdFt0eXBlXVtpZF0uYWN0aXZlID09PSB0cnVlIHx8ICRyb290U2NvcGUucHJvamVjdFt0eXBlXVtpZF0uYWN0aXZlID09PSAndHJ1ZScpID8gZmFsc2UgOiB0cnVlO1xuXG4gICAgLy8gc2F2ZSB0aGUgZmlsZSBmb3IgY29udmVuaWVuY2VcbiAgICAkc2NvcGUuc2F2ZSgpO1xuICB9O1xuXG4gIC8vIFJlbW92ZSBhIGNvb2tpZS92aWV3L3NlbGVjdFxuICAkc2NvcGUuZGVsZXRlVHlwZUl0ZW0gPSBmdW5jdGlvbih0eXBlLCBpZCkge1xuICAgICRyb290U2NvcGUucHJvamVjdFt0eXBlXS5zcGxpY2UoaWQsIDEpO1xuXG4gICAgLy8gc2F2ZSB0aGUgZmlsZSBmb3IgY29udmVuaWVuY2VcbiAgICAkc2NvcGUuc2F2ZSgpO1xuICB9O1xuXG4gIC8vIFJlbW92ZXMgYWxsIGhpc3RvcnkgZGF0YVxuICAkc2NvcGUuY2xlYXJIaXN0b3J5ID0gZnVuY3Rpb24oKSB7XG4gICAgUHJvamVjdHMuY2xlYXJIaXN0b3J5KCRyb290U2NvcGUucHJvamVjdClcbiAgICAgIC50aGVuKGZ1bmN0aW9uKHJlcykge1xuICAgICAgICAkcm9vdFNjb3BlLiRicm9hZGNhc3QoJ0FMRVJUOkZJUkUnLCB7IHRpdGxlOiAnQ2xlYXJlZCBBbGwgSGlzdG9yeSEnLCBkdXI6IDUsIHR5cGU6ICdzdWNjZXNzJywgaWNvbjogJ2hpc3RvcnknIH0pO1xuICAgICAgfVxuXG4gICAgICAsIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAkcm9vdFNjb3BlLiRicm9hZGNhc3QoJ0FMRVJUOkZJUkUnLCB7IHRpdGxlOiAnRXJyb3IgT2NjdXJyZWQhIFBsZWFzZSB0cnkgYWdhaW4uJywgZHVyOiA1LCB0eXBlOiAnZXJyb3InLCBpY29uOiAnc3RvcCcgfSk7XG4gICAgICB9KTtcbiAgfTtcblxufV0pO1xuIiwidmFyIGZzID0gcmVxdWlyZSgnZnMnKTtcblxuTVVHLmNvbnRyb2xsZXIoJ1NpZGVQYW5lbEN0cmwnLFxuWyckcm9vdFNjb3BlJywgJyRzY29wZScsICckc3RhdGUnLCAnUHJvamVjdHMnLFxuZnVuY3Rpb24oJHJvb3RTY29wZSwgJHNjb3BlLCAkc3RhdGUsIFByb2plY3RzKSB7XG4gICRzY29wZS5wcm9qZWN0cyA9IFtdO1xuXG4gIC8vIGdyYWIgYWxsIHByb2plY3RzIGxpc3RcbiAgJHNjb3BlLnByb2plY3RzID0gUHJvamVjdHMuZ2V0QWxsKCk7XG5cbiAgLy8gYWRkIG5ldyBwcm9qZWN0IHRvIHRoZSBwcm9qZWN0cyBsaXN0XG4gICRyb290U2NvcGUuJG9uKCdTSURFUEFORUw6TkVXUFJPSkVDVCcsIGZ1bmN0aW9uKGUsIGFyZ3MpIHtcbiAgICBpZiAoIWFyZ3MgfHwgIWFyZ3MuaWQpIHsgcmV0dXJuOyB9XG5cbiAgICAkc2NvcGUucHJvamVjdHMudW5zaGlmdChhcmdzKTtcbiAgfSk7XG5cbiAgLy8gdXBkYXRlIHRoZSBwcm9qZWN0cyBsaXN0XG4gICRyb290U2NvcGUuJG9uKCdTSURFUEFORUw6VVBEQVRFJywgZnVuY3Rpb24oZSwgYXJncykge1xuICAgIGlmICghYXJncyB8fCAhYXJncy5pZCkgeyByZXR1cm47IH1cblxuICAgICRzY29wZS5wcm9qZWN0cy5tYXAoZnVuY3Rpb24ob2JqLCBpZHgpIHtcbiAgICAgIGlmIChvYmouaWQgPT09IGFyZ3MuaWQpIHtcbiAgICAgICAgJHNjb3BlLnByb2plY3RzW2lkeF0udGl0bGUgPSBhcmdzLnRpdGxlO1xuICAgICAgICAkc2NvcGUucHJvamVjdHNbaWR4XS50aW1lc3RhbXAgPSBhcmdzLnRpbWVzdGFtcDtcblxuICAgICAgICBpZiAoYXJncy5iYXRjaEhpc3RvcnlbYXJncy5jdXJyZW50QmF0Y2hdKSB7XG4gICAgICAgICAgLy8gb25seSB1cGRhdGUgdG90YWxzIGlmIHdlIGhhdmUgdGhlbVxuICAgICAgICAgIGlmIChhcmdzLmJhdGNoSGlzdG9yeVthcmdzLmN1cnJlbnRCYXRjaF0uc3VjY2Vzcykge1xuICAgICAgICAgICAgJHNjb3BlLnByb2plY3RzW2lkeF0udG90YWxzLnN1Y2Nlc3MgPSBhcmdzLmJhdGNoSGlzdG9yeVthcmdzLmN1cnJlbnRCYXRjaF0uc3VjY2VzcztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoYXJncy5iYXRjaEhpc3RvcnlbYXJncy5jdXJyZW50QmF0Y2hdLndhcm5pbmcpIHtcbiAgICAgICAgICAgICRzY29wZS5wcm9qZWN0c1tpZHhdLnRvdGFscy53YXJuaW5nID0gYXJncy5iYXRjaEhpc3RvcnlbYXJncy5jdXJyZW50QmF0Y2hdLndhcm5pbmc7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGFyZ3MuYmF0Y2hIaXN0b3J5W2FyZ3MuY3VycmVudEJhdGNoXS5lcnJvcikge1xuICAgICAgICAgICAgJHNjb3BlLnByb2plY3RzW2lkeF0udG90YWxzLmVycm9yID0gYXJncy5iYXRjaEhpc3RvcnlbYXJncy5jdXJyZW50QmF0Y2hdLmVycm9yO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChhcmdzLmJhdGNoSGlzdG9yeVthcmdzLmN1cnJlbnRCYXRjaF0udmlld3MpIHtcbiAgICAgICAgICAgICRzY29wZS5wcm9qZWN0c1tpZHhdLnRvdGFscy52aWV3cyA9IGFyZ3MuYmF0Y2hIaXN0b3J5W2FyZ3MuY3VycmVudEJhdGNoXS52aWV3cztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG5cbiAgLy8gdXBkYXRlIHRoZSBwcm9qZWN0cyBsaXN0XG4gICRyb290U2NvcGUuJG9uKCdTSURFUEFORUw6UkVNT1ZFJywgZnVuY3Rpb24oZSwgYXJncykge1xuICAgIGlmICghYXJncyB8fCAhYXJncy5pZCkgeyByZXR1cm47IH1cblxuICAgICRzY29wZS5wcm9qZWN0cy5tYXAoZnVuY3Rpb24ob2JqLCBpZHgpIHtcbiAgICAgIGlmIChvYmouaWQgPT09IGFyZ3MuaWQpIHtcbiAgICAgICAgJHNjb3BlLnByb2plY3RzLnNwbGljZShpZHgsIDEpO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcblxuICAkc2NvcGUuZ29Ub1Byb2plY3QgPSBmdW5jdGlvbihpZCkge1xuICAgIC8vIFRPRE86IGZpeCB0aGlzXG4gICAgLy8gdmFyIHR5cGUgPSAnc2V0dGluZ3MnO1xuICAgIHZhciB0eXBlID0gJ3J1bm5lcic7XG5cbiAgICAvLyBUT0RPOiBzZXR1cCB0byBmaWd1cmUgb3V0IGlmIHdlIG5lZWQgdG8gZ28gdG8gc2V0dGluZ3MsIG90aGVyd2lzZSBnbyB0byBydW5uZXJcbiAgICAkc3RhdGUuZ28oJ3Byb2plY3RzLicgKyB0eXBlLCB7IGlkOiBpZCB9KTtcbiAgICAkcm9vdFNjb3BlLmN1cnJlbnRQcm9qZWN0SWQgPSBpZDtcbiAgfVxuXG59XSk7XG4iLCIvKipcbiAqIENvbmZpZ1xuICovXG5NVUcuY29uc3RhbnQoJ0NvbmZpZycsIHtcbiAgRU5WOiAnU1RBR0UnLFxuICBTVEFHRToge1xuICB9LFxuICBQUk9EOiB7XG4gIH0sXG4gIENvbXBhcmU6IHtcbiAgICBlcnJvckNvbG9yOiB7XG4gICAgICByZWQ6IDI1NSxcbiAgICAgIGdyZWVuOiAwLFxuICAgICAgYmx1ZTogMjU1XG4gICAgfSxcbiAgICBlcnJvclR5cGU6ICdmbGF0JyxcbiAgICB0cmFuc3BhcmVuY3k6IDEsXG4gICAgbGFyZ2VJbWFnZVRocmVzaG9sZDogMFxuICB9XG59KTtcbiIsIk1VRy5jb25maWcoXG5bJyRzdGF0ZVByb3ZpZGVyJywgJyR1cmxSb3V0ZXJQcm92aWRlcicsXG5mdW5jdGlvbigkc3RhdGVQcm92aWRlciwgJHVybFJvdXRlclByb3ZpZGVyKSB7XG5cbiAgLy8gUm91dGVzXG4gIC8vIC9cbiAgLy8gL3Byb2plY3RzXG4gIC8vIC9wcm9qZWN0cy86aWQvcnVubmVyXG4gIC8vIC9wcm9qZWN0cy86aWQvaGlzdG9yeVxuICAvLyAvcHJvamVjdHMvOmlkL3NldHRpbmdzXG5cbiAgJHN0YXRlUHJvdmlkZXJcblxuICAvKipcbiAgICogQmFzZSBSb3V0ZVxuICAgKi9cbiAgLnN0YXRlKCdtYWluJywge1xuICAgIHVybDogJy8nLFxuICAgIHRlbXBsYXRlVXJsOiAnbWFpbi5odG1sJ1xuICB9KVxuICAuc3RhdGUoJ3ByZWZlcmVuY2VzJywge1xuICAgIHVybDogJy9wcmVmZXJlbmNlcycsXG4gICAgdGVtcGxhdGVVcmw6ICdwcmVmZXJlbmNlcy5odG1sJyxcbiAgICBjb250cm9sbGVyOiAnUHJlZmVyZW5jZXNDdHJsJ1xuICB9KVxuXG4gIC8qKlxuICAgKiBQcm9qZWN0IFJvdXRlc1xuICAgKi9cbiAgLnN0YXRlKCdwcm9qZWN0cycsIHtcbiAgICB1cmw6ICcvcHJvamVjdHMvOmlkJyxcbiAgICB0ZW1wbGF0ZVVybDogJ3Byb2plY3RzLmh0bWwnLFxuICAgIGNvbnRyb2xsZXI6ICdQcm9qZWN0Q3RybCdcbiAgfSlcbiAgLnN0YXRlKCdwcm9qZWN0cy5zZXR0aW5ncycsIHtcbiAgICB1cmw6ICcvc2V0dGluZ3MnLFxuICAgIHRlbXBsYXRlVXJsOiAncHJvamVjdHMuc2V0dGluZ3MuaHRtbCcsXG4gICAgY29udHJvbGxlcjogJ1Byb2plY3RTZXR0aW5nc0N0cmwnXG4gIH0pXG4gIC5zdGF0ZSgncHJvamVjdHMucnVubmVyJywge1xuICAgIHVybDogJy9ydW5uZXInLFxuICAgIHRlbXBsYXRlVXJsOiAncHJvamVjdHMucnVubmVyLmh0bWwnLFxuICAgIGNvbnRyb2xsZXI6ICdQcm9qZWN0UnVubmVyQ3RybCdcbiAgfSlcbiAgLnN0YXRlKCdwcm9qZWN0cy5oaXN0b3J5Jywge1xuICAgIHVybDogJy9oaXN0b3J5JyxcbiAgICB0ZW1wbGF0ZVVybDogJ3Byb2plY3RzLmhpc3RvcnkuaHRtbCcsXG4gICAgY29udHJvbGxlcjogJ1Byb2plY3RIaXN0b3J5Q3RybCdcbiAgfSlcblxuICAvKipcbiAgICogU3RhdGljIFJvdXRlc1xuICAgKi9cblxuICAvLyAuc3RhdGUoJ21haW4uNDA0Jywge1xuICAvLyAgICAgdXJsOiBcIi80MDRcIixcbiAgLy8gICAgIHRlbXBsYXRlVXJsOiBcInRlbXBsYXRlcy80MDQuaHRtbFwiLFxuICAvLyAgICAgaXNFeHRlcm5hbDogdHJ1ZVxuICAvLyB9KVxuXG4gIC8vIEVuZCBvZiB0aGUgd29ybGRcbiAgO1xuXG4gIC8vIHVybCByZS1yb3V0aW5nXG4gIC8vICR1cmxSb3V0ZXJQcm92aWRlclxuICAvLyAgIC53aGVuKCcvcHJvamVjdHMnLCAnLycpXG4gIC8vICAgLndoZW4oJy9wcm9qZWN0cy8nLCAnLycpO1xuXG4gIC8vIGlmIG5vbmUgb2YgdGhlIGFib3ZlIHN0YXRlcyBhcmUgbWF0Y2hlZCwgdXNlIHRoaXMgYXMgdGhlIGZhbGxiYWNrXG4gICR1cmxSb3V0ZXJQcm92aWRlci5vdGhlcndpc2UoJy8nKTtcblxufV0pO1xuIiwiTVVHLnJ1bihbJyRyb290U2NvcGUnLCAnJGh0dHAnLFxuZnVuY3Rpb24oJHJvb3RTY29wZSwgJGh0dHApIHtcblxuICAvLyBoZWFkZXJzXG4gIHZhciAkY29tbW9uID0gJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb247XG4gICRjb21tb25bJ0NvbnRlbnQtVHlwZSddID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xuXG4gICRyb290U2NvcGUuJG9uKCckc3RhdGVDaGFuZ2VFcnJvcicsIGZ1bmN0aW9uKGV2ZW50LCB0b1N0YXRlLCB0b1BhcmFtcywgZnJvbVN0YXRlLCBmcm9tUGFyYW1zLCBlcnJvcikge1xuICAgIGNvbnNvbGUubG9nKCckc3RhdGVDaGFuZ2VFcnJvcicsIGVycm9yKTtcbiAgfSk7XG5cbn1dKTtcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==